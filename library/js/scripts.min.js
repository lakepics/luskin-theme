"use strict";function updateViewportDimensions(){var t=window,e=document,i=e.documentElement,n=e.getElementsByTagName("body")[0],a=t.innerWidth||i.clientWidth||n.clientWidth,o=t.innerHeight||i.clientHeight||n.clientHeight;return{width:a,height:o}}function loadGravatars(){viewport=updateViewportDimensions(),viewport.width>=768&&jQuery(".comment img[data-gravatar]").each(function(){jQuery(this).attr("src",jQuery(this).attr("data-gravatar"))})}var viewport=updateViewportDimensions(),waitForFinalEvent=function(){var t={};return function(e,i,n){n||(n="Don't call this twice without a uniqueId"),t[n]&&clearTimeout(t[n]),t[n]=setTimeout(e,i)}}(),timeToWaitForLast=100;!function(t){t("html").addClass("js");for(var e=0,i=document.getElementsByTagName("input").length;i>e;e++)document.getElementsByTagName("input")[e].className+=" "+document.getElementsByTagName("input")[e].type;for(var n=window.location.hostname,a=document.getElementsByTagName("a"),o=/^https?:\/\/(www.)?/i,r=0,l=a.length;l>r;r++)o.test(a[r].href)&&-1==a[r].href.toLowerCase().indexOf(n)&&(a[r].target="_blank",a[r].className+=" external");t("textarea, input:text").bind("focus click",function(){this.value==this.defaultValue&&(this.value="")}).bind("blur",function(){""===this.value&&(this.value=this.defaultValue)}),t("#main-navigation").clone().insertAfter(".mobile-navigation > a.logo-ucla-mobile").removeAttr("id"),t("#toggle-menu").bind("click touch",function(){t("div.mobile-navigation").hasClass("open")?(t("div.mobile-navigation").animate({width:"0px"},300).removeClass("open").css({display:"hidden"}),t("#container, .not-frontpage #header").animate({left:"0px"},300)):(t("div.mobile-navigation").animate({width:"300px"},300).addClass("open").css({display:"block"}),t("#container, .not-frontpage #header").animate({left:"300px"},300))}),t(".room-types-mobile .room-type-div-toggle").hide(),t(".room-types-mobile .room-type-div-toggle-trigger").bind("click touch",function(){t(this).next(".room-type-div-toggle").slideToggle("fast")})}(jQuery);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYnJhcnkvanMvc2NyaXB0cy5qcyJdLCJuYW1lcyI6WyJ1cGRhdGVWaWV3cG9ydERpbWVuc2lvbnMiLCJ3Iiwid2luZG93IiwiZCIsImRvY3VtZW50IiwiZSIsImRvY3VtZW50RWxlbWVudCIsImciLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsIngiLCJpbm5lcldpZHRoIiwiY2xpZW50V2lkdGgiLCJ5IiwiaW5uZXJIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJ3aWR0aCIsImhlaWdodCIsImxvYWRHcmF2YXRhcnMiLCJ2aWV3cG9ydCIsImpRdWVyeSIsImVhY2giLCJ0aGlzIiwiYXR0ciIsIndhaXRGb3JGaW5hbEV2ZW50IiwidGltZXJzIiwiY2FsbGJhY2siLCJtcyIsInVuaXF1ZUlkIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsInRpbWVUb1dhaXRGb3JMYXN0IiwiJCIsImFkZENsYXNzIiwiaSIsImxlbiIsImxlbmd0aCIsImNsYXNzTmFtZSIsInR5cGUiLCJob3N0bmFtZSIsImxvY2F0aW9uIiwibGlua3MiLCJwYXR0ZXJuIiwiaiIsImxpbmtsZW4iLCJ0ZXN0IiwiaHJlZiIsInRvTG93ZXJDYXNlIiwiaW5kZXhPZiIsInRhcmdldCIsImJpbmQiLCJ2YWx1ZSIsImRlZmF1bHRWYWx1ZSIsImNsb25lIiwiaW5zZXJ0QWZ0ZXIiLCJyZW1vdmVBdHRyIiwiaGFzQ2xhc3MiLCJhbmltYXRlIiwicmVtb3ZlQ2xhc3MiLCJjc3MiLCJkaXNwbGF5IiwibGVmdCIsImhpZGUiLCJuZXh0Iiwic2xpZGVUb2dnbGUiXSwibWFwcGluZ3MiOiJBQUFBLFlBS0EsU0FBU0EsNEJBQ0wsR0FBSUMsR0FBSUMsT0FDSkMsRUFBSUMsU0FDSkMsRUFBSUYsRUFBRUcsZ0JBQ05DLEVBQUlKLEVBQUVLLHFCQUFxQixRQUFRLEdBQ25DQyxFQUFJUixFQUFFUyxZQUFjTCxFQUFFTSxhQUFlSixFQUFFSSxZQUN2Q0MsRUFBSVgsRUFBRVksYUFBZVIsRUFBRVMsY0FBZ0JQLEVBQUVPLFlBQzdDLFFBQ0lDLE1BQU9OLEVBQ1BPLE9BQVFKLEdBMkVoQixRQUFTSyxpQkFFTEMsU0FBV2xCLDJCQUVQa0IsU0FBU0gsT0FBUyxLQUNsQkksT0FBTywrQkFBK0JDLEtBQUssV0FDdkNELE9BQU9FLE1BQU1DLEtBQUssTUFBT0gsT0FBT0UsTUFBTUMsS0FBSyxvQkE3RXZELEdBQUlKLFVBQVdsQiwyQkFPWHVCLGtCQUFvQixXQUNwQixHQUFJQyxLQUNKLE9BQU8sVUFBVUMsRUFBVUMsRUFBSUMsR0FDdEJBLElBQ0RBLEVBQVcsNENBRVhILEVBQU9HLElBQ1BDLGFBQWFKLEVBQU9HLElBRXhCSCxFQUFPRyxHQUFZRSxXQUFXSixFQUFVQyxPQUk1Q0ksa0JBQW9CLEtBa0V4QixTQUFXQyxHQVFQQSxFQUFFLFFBQVFDLFNBQVMsS0FSVCxLQVdMLEdBQUlDLEdBQUksRUFBR0MsRUFBTTlCLFNBQVNJLHFCQUFxQixTQUFTMkIsT0FBWUQsRUFBSkQsRUFBU0EsSUFDMUU3QixTQUFTSSxxQkFBcUIsU0FBU3lCLEdBQUdHLFdBQWEsSUFBTWhDLFNBQVNJLHFCQUFxQixTQUFTeUIsR0FBR0ksSUFRM0csS0FBSyxHQUpEQyxHQUFXcEMsT0FBT3FDLFNBQVNELFNBQzNCRSxFQUFRcEMsU0FBU0kscUJBQXFCLEtBQ3RDaUMsRUFBVSx1QkFFTEMsRUFBSSxFQUFHQyxFQUFVSCxFQUFNTCxPQUFZUSxFQUFKRCxFQUFhQSxJQUM3Q0QsRUFBUUcsS0FBS0osRUFBTUUsR0FBR0csT0FBMEQsSUFBakRMLEVBQU1FLEdBQUdHLEtBQUtDLGNBQWNDLFFBQVFULEtBQ25FRSxFQUFNRSxHQUFHTSxPQUFTLFNBQ2xCUixFQUFNRSxHQUFHTixXQUFhLFlBdkJwQkwsR0E0QlIsd0JBQXdCa0IsS0FBSyxjQUFlLFdBQ3RDNUIsS0FBSzZCLE9BQVM3QixLQUFLOEIsZUFDbkI5QixLQUFLNkIsTUFBUSxNQUVsQkQsS0FBSyxPQUFRLFdBQ08sS0FBZjVCLEtBQUs2QixRQUNMN0IsS0FBSzZCLE1BQVE3QixLQUFLOEIsZ0JBbENoQnBCLEVBc0RSLG9CQUFvQnFCLFFBQVFDLFlBQVksMkNBQTJDQyxXQUFXLE1BQ2hHdkIsRUFBRSxnQkFBZ0JrQixLQUFLLGNBQWUsV0FDOUJsQixFQUFFLHlCQUF5QndCLFNBQVMsU0FDcEN4QixFQUFFLHlCQUF5QnlCLFNBQ3ZCekMsTUFBTyxPQUNSLEtBQUswQyxZQUFZLFFBQVFDLEtBQ3hCQyxRQUFXLFdBRWY1QixFQUFFLHNDQUFzQ3lCLFNBQ3BDSSxLQUFNLE9BQ1AsT0FFSDdCLEVBQUUseUJBQXlCeUIsU0FDdkJ6QyxNQUFPLFNBQ1IsS0FBS2lCLFNBQVMsUUFBUTBCLEtBQ3JCQyxRQUFXLFVBRWY1QixFQUFFLHNDQUFzQ3lCLFNBQ3BDSSxLQUFNLFNBQ1AsUUF6RUQ3QixFQThFUiw0Q0FBNEM4QixPQUM5QzlCLEVBQUUsb0RBQW9Ea0IsS0FBSyxjQUFlLFdBRXRFbEIsRUFBRVYsTUFBTXlDLEtBQUsseUJBQXlCQyxZQUFZLFdBR3hENUMiLCJmaWxlIjoibGlicmFyeS9qcy9zY3JpcHRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEdldCBWaWV3cG9ydCBEaW1lbnNpb25zXG4gKiByZXR1cm5zIG9iamVjdCB3aXRoIHZpZXdwb3J0IGRpbWVuc2lvbnMgdG8gbWF0Y2ggY3NzIGluIHdpZHRoIGFuZCBoZWlnaHQgcHJvcGVydGllc1xuICogKCBzb3VyY2U6IGh0dHA6Ly9hbmR5bGFuZ3Rvbi5jby51ay9ibG9nL2RldmVsb3BtZW50L2dldC12aWV3cG9ydC1zaXplLXdpZHRoLWFuZC1oZWlnaHQtamF2YXNjcmlwdCApXG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZVZpZXdwb3J0RGltZW5zaW9ucygpIHtcbiAgICB2YXIgdyA9IHdpbmRvdyxcbiAgICAgICAgZCA9IGRvY3VtZW50LFxuICAgICAgICBlID0gZC5kb2N1bWVudEVsZW1lbnQsXG4gICAgICAgIGcgPSBkLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdib2R5JylbMF0sXG4gICAgICAgIHggPSB3LmlubmVyV2lkdGggfHwgZS5jbGllbnRXaWR0aCB8fCBnLmNsaWVudFdpZHRoLFxuICAgICAgICB5ID0gdy5pbm5lckhlaWdodCB8fCBlLmNsaWVudEhlaWdodCB8fCBnLmNsaWVudEhlaWdodDtcbiAgICByZXR1cm4ge1xuICAgICAgICB3aWR0aDogeCxcbiAgICAgICAgaGVpZ2h0OiB5XG4gICAgfTtcbn1cbi8vIHNldHRpbmcgdGhlIHZpZXdwb3J0IHdpZHRoXG52YXIgdmlld3BvcnQgPSB1cGRhdGVWaWV3cG9ydERpbWVuc2lvbnMoKTtcblxuLypcbiAqIFRocm90dGxlIFJlc2l6ZS10cmlnZ2VyZWQgRXZlbnRzXG4gKiBXcmFwIHlvdXIgYWN0aW9ucyBpbiB0aGlzIGZ1bmN0aW9uIHRvIHRocm90dGxlIHRoZSBmcmVxdWVuY3kgb2YgZmlyaW5nIHRoZW0gb2ZmLCBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlLCBlc3AuIG9uIG1vYmlsZS5cbiAqICggc291cmNlOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI4NTQ0MDcvamF2YXNjcmlwdC1qcXVlcnktd2luZG93LXJlc2l6ZS1ob3ctdG8tZmlyZS1hZnRlci10aGUtcmVzaXplLWlzLWNvbXBsZXRlZCApXG4gKi9cbnZhciB3YWl0Rm9yRmluYWxFdmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGltZXJzID0ge307XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChjYWxsYmFjaywgbXMsIHVuaXF1ZUlkKSB7XG4gICAgICAgIGlmICghdW5pcXVlSWQpIHtcbiAgICAgICAgICAgIHVuaXF1ZUlkID0gXCJEb24ndCBjYWxsIHRoaXMgdHdpY2Ugd2l0aG91dCBhIHVuaXF1ZUlkXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRpbWVyc1t1bmlxdWVJZF0pIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcnNbdW5pcXVlSWRdKTtcbiAgICAgICAgfVxuICAgICAgICB0aW1lcnNbdW5pcXVlSWRdID0gc2V0VGltZW91dChjYWxsYmFjaywgbXMpO1xuICAgIH07XG59KCk7XG4vLyBob3cgbG9uZyB0byB3YWl0IGJlZm9yZSBkZWNpZGluZyB0aGUgcmVzaXplIGhhcyBzdG9wcGVkLCBpbiBtcy4gQXJvdW5kIDUwLTEwMCBzaG91bGQgd29yayBvay5cbnZhciB0aW1lVG9XYWl0Rm9yTGFzdCA9IDEwMDtcblxuLypcbiAqIEhlcmUncyBhbiBleGFtcGxlIHNvIHlvdSBjYW4gc2VlIGhvdyB3ZSdyZSB1c2luZyB0aGUgYWJvdmUgZnVuY3Rpb25cbiAqXG4gKiBUaGlzIGlzIGNvbW1lbnRlZCBvdXQgc28gaXQgd29uJ3Qgd29yaywgYnV0IHlvdSBjYW4gY29weSBpdCBhbmRcbiAqIHJlbW92ZSB0aGUgY29tbWVudHMuXG4gKlxuICpcbiAqXG4gKiBJZiB3ZSB3YW50IHRvIG9ubHkgZG8gaXQgb24gYSBjZXJ0YWluIHBhZ2UsIHdlIGNhbiBzZXR1cCBjaGVja3Mgc28gd2UgZG8gaXRcbiAqIGFzIGVmZmljaWVudCBhcyBwb3NzaWJsZS5cbiAqXG4gKiBpZiggdHlwZW9mIGlzX2hvbWUgPT09IFwidW5kZWZpbmVkXCIgKSB2YXIgaXNfaG9tZSA9ICQoJ2JvZHknKS5oYXNDbGFzcygnaG9tZScpO1xuICpcbiAqIFRoaXMgb25jZSBjaGVja3MgdG8gc2VlIGlmIHlvdSdyZSBvbiB0aGUgaG9tZSBwYWdlIGJhc2VkIG9uIHRoZSBib2R5IGNsYXNzXG4gKiBXZSBjYW4gdGhlbiB1c2UgdGhhdCBjaGVjayB0byBwZXJmb3JtIGFjdGlvbnMgb24gdGhlIGhvbWUgcGFnZSBvbmx5XG4gKlxuICogV2hlbiB0aGUgd2luZG93IGlzIHJlc2l6ZWQsIHdlIHBlcmZvcm0gdGhpcyBmdW5jdGlvblxuICogJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbiAoKSB7XG4gKlxuICogICAgLy8gaWYgd2UncmUgb24gdGhlIGhvbWUgcGFnZSwgd2Ugd2FpdCB0aGUgc2V0IGFtb3VudCAoaW4gZnVuY3Rpb24gYWJvdmUpIHRoZW4gZmlyZSB0aGUgZnVuY3Rpb25cbiAqICAgIGlmKCBpc19ob21lICkgeyB3YWl0Rm9yRmluYWxFdmVudCggZnVuY3Rpb24oKSB7XG4gKlxuICpcdC8vIHVwZGF0ZSB0aGUgdmlld3BvcnQsIGluIGNhc2UgdGhlIHdpbmRvdyBzaXplIGhhcyBjaGFuZ2VkXG4gKlx0dmlld3BvcnQgPSB1cGRhdGVWaWV3cG9ydERpbWVuc2lvbnMoKTtcbiAqXG4gKiAgICAgIC8vIGlmIHdlJ3JlIGFib3ZlIG9yIGVxdWFsIHRvIDc2OCBmaXJlIHRoaXMgb2ZmXG4gKiAgICAgIGlmKCB2aWV3cG9ydC53aWR0aCA+PSA3NjggKSB7XG4gKiAgICAgICAgY29uc29sZS5sb2coJ09uIGhvbWUgcGFnZSBhbmQgd2luZG93IHNpemVkIHRvIDc2OCB3aWR0aCBvciBtb3JlLicpO1xuICogICAgICB9IGVsc2Uge1xuICogICAgICAgIC8vIG90aGVyd2lzZSwgbGV0J3MgZG8gdGhpcyBpbnN0ZWFkXG4gKiAgICAgICAgY29uc29sZS5sb2coJ05vdCBvbiBob21lIHBhZ2UsIG9yIHdpbmRvdyBzaXplZCB0byBsZXNzIHRoYW4gNzY4LicpO1xuICogICAgICB9XG4gKlxuICogICAgfSwgdGltZVRvV2FpdEZvckxhc3QsIFwieW91ci1mdW5jdGlvbi1pZGVudGlmaWVyLXN0cmluZ1wiKTsgfVxuICogfSk7XG4gKlxuICogUHJldHR5IGNvb2wgaHVoPyBZb3UgY2FuIGNyZWF0ZSBmdW5jdGlvbnMgbGlrZSB0aGlzIHRvIGNvbmRpdGlvbmFsbHkgbG9hZFxuICogY29udGVudCBhbmQgb3RoZXIgc3R1ZmYgZGVwZW5kZW50IG9uIHRoZSB2aWV3cG9ydC5cbiAqIFJlbWVtYmVyIHRoYXQgbW9iaWxlIGRldmljZXMgYW5kIGphdmFzY3JpcHQgYXJlbid0IHRoZSBiZXN0IG9mIGZyaWVuZHMuXG4gKiBLZWVwIGl0IGxpZ2h0IGFuZCBhbHdheXMgbWFrZSBzdXJlIHRoZSBsYXJnZXIgdmlld3BvcnRzIGFyZSBkb2luZyB0aGUgaGVhdnkgbGlmdGluZy5cbiAqXG4gKi9cblxuLypcbiAqIFdlJ3JlIGdvaW5nIHRvIHN3YXAgb3V0IHRoZSBncmF2YXRhcnMuXG4gKiBJbiB0aGUgZnVuY3Rpb25zLnBocCBmaWxlLCB5b3UgY2FuIHNlZSB3ZSdyZSBub3QgbG9hZGluZyB0aGUgZ3JhdmF0YXJcbiAqIGltYWdlcyBvbiBtb2JpbGUgdG8gc2F2ZSBiYW5kd2lkdGguIE9uY2Ugd2UgaGl0IGFuIGFjY2VwdGFibGUgdmlld3BvcnRcbiAqIHRoZW4gd2UgY2FuIHN3YXAgb3V0IHRob3NlIGltYWdlcyBzaW5jZSB0aGV5IGFyZSBsb2NhdGVkIGluIGEgZGF0YSBhdHRyaWJ1dGUuXG4gKi9cbmZ1bmN0aW9uIGxvYWRHcmF2YXRhcnMoKSB7XG4gICAgLy8gc2V0IHRoZSB2aWV3cG9ydCB1c2luZyB0aGUgZnVuY3Rpb24gYWJvdmVcbiAgICB2aWV3cG9ydCA9IHVwZGF0ZVZpZXdwb3J0RGltZW5zaW9ucygpO1xuICAgIC8vIGlmIHRoZSB2aWV3cG9ydCBpcyB0YWJsZXQgb3IgbGFyZ2VyLCB3ZSBsb2FkIGluIHRoZSBncmF2YXRhcnNcbiAgICBpZiAodmlld3BvcnQud2lkdGggPj0gNzY4KSB7XG4gICAgICAgIGpRdWVyeSgnLmNvbW1lbnQgaW1nW2RhdGEtZ3JhdmF0YXJdJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBqUXVlcnkodGhpcykuYXR0cignc3JjJywgalF1ZXJ5KHRoaXMpLmF0dHIoJ2RhdGEtZ3JhdmF0YXInKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn0gLy8gZW5kIGZ1bmN0aW9uXG5cblxuLypcbiAqIFB1dCBhbGwgb2YgeW91ciBzY3JpcHQgaW4gaGVyZS5cbiAqL1xuKGZ1bmN0aW9uICgkKSB7XG4gICAgLypcbiAgICAgKiBMZXQncyBmaXJlIG9mZiB0aGUgZ3JhdmF0YXIgZnVuY3Rpb24geW91IGNhbiByZW1vdmUgdGhpcyBpZiB5b3UgZG9uJ3QgbmVlZCBpdFxuICAgICAqL1xuICAgIC8vIGxvYWRHcmF2YXRhcnMoKTtcblxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSB1dGlscyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vL1xuXG4gICAgJCgnaHRtbCcpLmFkZENsYXNzKCdqcycpO1xuXG4gICAgLy9hZGQgY2xhc3NlcyB0byBmb3JtIGlucHV0cyBiYXNlZCBvbiB0aGVpciB0eXBlXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbnB1dCcpLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbnB1dCcpW2ldLmNsYXNzTmFtZSArPSAnICcgKyBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5wdXQnKVtpXS50eXBlO1xuICAgIH1cblxuICAgIC8vb3BlbiBsaW5rcyBpbiBuZXcgd2luZG93ICh0YXJnZXQ9X2JsYW5rKTsgY2hlY2tzIGlmIHRoZSB1cmwgaXMgZXh0ZXJuYWxcbiAgICB2YXIgaG9zdG5hbWUgPSB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUsXG4gICAgICAgIGxpbmtzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2EnKSxcbiAgICAgICAgcGF0dGVybiA9IC9eaHR0cHM/OlxcL1xcLyh3d3cuKT8vaTtcblxuICAgIGZvciAodmFyIGogPSAwLCBsaW5rbGVuID0gbGlua3MubGVuZ3RoOyBqIDwgbGlua2xlbjsgaisrKSB7XG4gICAgICAgIGlmIChwYXR0ZXJuLnRlc3QobGlua3Nbal0uaHJlZikgJiYgbGlua3Nbal0uaHJlZi50b0xvd2VyQ2FzZSgpLmluZGV4T2YoaG9zdG5hbWUpID09IC0xKSB7XG4gICAgICAgICAgICBsaW5rc1tqXS50YXJnZXQgPSBcIl9ibGFua1wiO1xuICAgICAgICAgICAgbGlua3Nbal0uY2xhc3NOYW1lICs9ICcgZXh0ZXJuYWwnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy9jbGVhciBmb3JtIGZpZWxkcyBvbiBmb2N1c1xuICAgICQoJ3RleHRhcmVhLCBpbnB1dDp0ZXh0JykuYmluZCgnZm9jdXMgY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlID09IHRoaXMuZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gJyc7XG4gICAgICAgIH1cbiAgICB9KS5iaW5kKCdibHVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy52YWx1ZSA9PT0gJycpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLmRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy9lcXVhbCBoZWlnaHQgY29sdW1ucyBmdW5jdGlvblxuICAgIGZ1bmN0aW9uIGVxdWFsSGVpZ2h0KGdyb3VwKSB7XG4gICAgICAgIHZhciB0YWxsZXN0ID0gMDtcbiAgICAgICAgZ3JvdXAuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdGhpc0hlaWdodCA9ICQodGhpcykuaGVpZ2h0KCk7XG4gICAgICAgICAgICBpZiAodGhpc0hlaWdodCA+IHRhbGxlc3QpIHtcbiAgICAgICAgICAgICAgICB0YWxsZXN0ID0gdGhpc0hlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGdyb3VwLmhlaWdodCh0YWxsZXN0KTtcbiAgICB9XG4gICAgLy9lcXVhbEhlaWdodCgkKFwiLy9oZXJlIHB1dCB0aGUgc2VsZWN0b3JcIikpO1xuXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gb3RoZXIgc2NyaXB0cyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS8vXG5cbiAgICAvLyBtb2JpbGUgbmF2XG4gICAgJCgnI21haW4tbmF2aWdhdGlvbicpLmNsb25lKCkuaW5zZXJ0QWZ0ZXIoJy5tb2JpbGUtbmF2aWdhdGlvbiA+IGEubG9nby11Y2xhLW1vYmlsZScpLnJlbW92ZUF0dHIoJ2lkJyk7XG4gICAgJCgnI3RvZ2dsZS1tZW51JykuYmluZCgnY2xpY2sgdG91Y2gnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICgkKCdkaXYubW9iaWxlLW5hdmlnYXRpb24nKS5oYXNDbGFzcygnb3BlbicpKSB7XG4gICAgICAgICAgICAkKCdkaXYubW9iaWxlLW5hdmlnYXRpb24nKS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICB3aWR0aDogXCIwcHhcIlxuICAgICAgICAgICAgfSwgMzAwKS5yZW1vdmVDbGFzcygnb3BlbicpLmNzcyh7XG4gICAgICAgICAgICAgICAgJ2Rpc3BsYXknOiAnaGlkZGVuJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkKCcjY29udGFpbmVyLCAubm90LWZyb250cGFnZSAjaGVhZGVyJykuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgbGVmdDogXCIwcHhcIlxuICAgICAgICAgICAgfSwgMzAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQoJ2Rpdi5tb2JpbGUtbmF2aWdhdGlvbicpLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjMwMHB4XCJcbiAgICAgICAgICAgIH0sIDMwMCkuYWRkQ2xhc3MoJ29wZW4nKS5jc3Moe1xuICAgICAgICAgICAgICAgICdkaXNwbGF5JzogJ2Jsb2NrJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkKCcjY29udGFpbmVyLCAubm90LWZyb250cGFnZSAjaGVhZGVyJykuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgbGVmdDogXCIzMDBweFwiXG4gICAgICAgICAgICB9LCAzMDApO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyB0b29nbGUgcm9vbSB0eXBlXG4gICAgJCgnLnJvb20tdHlwZXMtbW9iaWxlIC5yb29tLXR5cGUtZGl2LXRvZ2dsZScpLmhpZGUoKTtcbiAgICAkKCcucm9vbS10eXBlcy1tb2JpbGUgLnJvb20tdHlwZS1kaXYtdG9nZ2xlLXRyaWdnZXInKS5iaW5kKCdjbGljayB0b3VjaCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gICQodGhpcykudG9nZ2xlQ2xhc3MoJ2V4cGFuZGVkJyk7XG4gICAgICAgICQodGhpcykubmV4dCgnLnJvb20tdHlwZS1kaXYtdG9nZ2xlJykuc2xpZGVUb2dnbGUoJ2Zhc3QnKTtcbiAgICB9KTtcblxufShqUXVlcnkpKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
