"use strict";function updateViewportDimensions(){var e=window,t=document,i=t.documentElement,n=t.getElementsByTagName("body")[0],a=e.innerWidth||i.clientWidth||n.clientWidth,o=e.innerHeight||i.clientHeight||n.clientHeight;return{width:a,height:o}}function loadGravatars(){viewport=updateViewportDimensions(),viewport.width>=768&&jQuery(".comment img[data-gravatar]").each(function(){jQuery(this).attr("src",jQuery(this).attr("data-gravatar"))})}var viewport=updateViewportDimensions(),waitForFinalEvent=function(){var e={};return function(t,i,n){n||(n="Don't call this twice without a uniqueId"),e[n]&&clearTimeout(e[n]),e[n]=setTimeout(t,i)}}(),timeToWaitForLast=100;!function(e){e("html").addClass("js");for(var t=0,i=document.getElementsByTagName("input").length;i>t;t++)document.getElementsByTagName("input")[t].className+=" "+document.getElementsByTagName("input")[t].type;for(var n=window.location.hostname,a=document.getElementsByTagName("a"),o=/^https?:\/\/(www.)?/i,r=0,l=a.length;l>r;r++)o.test(a[r].href)&&-1==a[r].href.toLowerCase().indexOf(n)&&(a[r].target="_blank",a[r].className+=" external");e("textarea, input:text").bind("focus click",function(){this.value==this.defaultValue&&(this.value="")}).bind("blur",function(){""===this.value&&(this.value=this.defaultValue)}),e("#main-navigation").clone().insertAfter(".mobile-navigation > a.logo-ucla-mobile").removeAttr("id"),e("#toggle-menu").bind("click touch",function(){e("div.mobile-navigation").hasClass("open")?(e("div.mobile-navigation").animate({width:"0px"},300).removeClass("open").css({display:"hidden"}),e(".mobile-navigation > .nav-menu, .mobile-navigation > .mobile-room-reservation").hide(),e("#container, .not-frontpage #header").animate({left:"0px"},300)):(e("div.mobile-navigation").animate({width:"300px"},300).addClass("open").css({display:"block"}),e(".mobile-navigation > .nav-menu, .mobile-navigation > .mobile-room-reservation").fadeIn(1e3),e("#container, .not-frontpage #header").animate({left:"300px"},300))}),e(".room-types-mobile .room-type-div-toggle").hide(),e(".room-types-mobile .room-type-div-toggle-trigger").bind("click touch",function(){e(this).next(".room-type-div-toggle").slideToggle("fast")})}(jQuery);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYnJhcnkvanMvc2NyaXB0cy5qcyJdLCJuYW1lcyI6WyJ1cGRhdGVWaWV3cG9ydERpbWVuc2lvbnMiLCJ3Iiwid2luZG93IiwiZCIsImRvY3VtZW50IiwiZSIsImRvY3VtZW50RWxlbWVudCIsImciLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsIngiLCJpbm5lcldpZHRoIiwiY2xpZW50V2lkdGgiLCJ5IiwiaW5uZXJIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJ3aWR0aCIsImhlaWdodCIsImxvYWRHcmF2YXRhcnMiLCJ2aWV3cG9ydCIsImpRdWVyeSIsImVhY2giLCJ0aGlzIiwiYXR0ciIsIndhaXRGb3JGaW5hbEV2ZW50IiwidGltZXJzIiwiY2FsbGJhY2siLCJtcyIsInVuaXF1ZUlkIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsInRpbWVUb1dhaXRGb3JMYXN0IiwiJCIsImFkZENsYXNzIiwiaSIsImxlbiIsImxlbmd0aCIsImNsYXNzTmFtZSIsInR5cGUiLCJob3N0bmFtZSIsImxvY2F0aW9uIiwibGlua3MiLCJwYXR0ZXJuIiwiaiIsImxpbmtsZW4iLCJ0ZXN0IiwiaHJlZiIsInRvTG93ZXJDYXNlIiwiaW5kZXhPZiIsInRhcmdldCIsImJpbmQiLCJ2YWx1ZSIsImRlZmF1bHRWYWx1ZSIsImNsb25lIiwiaW5zZXJ0QWZ0ZXIiLCJyZW1vdmVBdHRyIiwiaGFzQ2xhc3MiLCJhbmltYXRlIiwicmVtb3ZlQ2xhc3MiLCJjc3MiLCJkaXNwbGF5IiwiaGlkZSIsImxlZnQiLCJmYWRlSW4iLCJuZXh0Iiwic2xpZGVUb2dnbGUiXSwibWFwcGluZ3MiOiJBQUFBLFlBS0EsU0FBU0EsNEJBQ0wsR0FBSUMsR0FBSUMsT0FDSkMsRUFBSUMsU0FDSkMsRUFBSUYsRUFBRUcsZ0JBQ05DLEVBQUlKLEVBQUVLLHFCQUFxQixRQUFRLEdBQ25DQyxFQUFJUixFQUFFUyxZQUFjTCxFQUFFTSxhQUFlSixFQUFFSSxZQUN2Q0MsRUFBSVgsRUFBRVksYUFBZVIsRUFBRVMsY0FBZ0JQLEVBQUVPLFlBQzdDLFFBQ0lDLE1BQU9OLEVBQ1BPLE9BQVFKLEdBMkVoQixRQUFTSyxpQkFFTEMsU0FBV2xCLDJCQUVQa0IsU0FBU0gsT0FBUyxLQUNsQkksT0FBTywrQkFBK0JDLEtBQUssV0FDdkNELE9BQU9FLE1BQU1DLEtBQUssTUFBT0gsT0FBT0UsTUFBTUMsS0FBSyxvQkE3RXZELEdBQUlKLFVBQVdsQiwyQkFPWHVCLGtCQUFvQixXQUNwQixHQUFJQyxLQUNKLE9BQU8sVUFBVUMsRUFBVUMsRUFBSUMsR0FDdEJBLElBQ0RBLEVBQVcsNENBRVhILEVBQU9HLElBQ1BDLGFBQWFKLEVBQU9HLElBRXhCSCxFQUFPRyxHQUFZRSxXQUFXSixFQUFVQyxPQUk1Q0ksa0JBQW9CLEtBa0V4QixTQUFXQyxHQVFQQSxFQUFFLFFBQVFDLFNBQVMsS0FSVCxLQVdMLEdBQUlDLEdBQUksRUFBR0MsRUFBTTlCLFNBQVNJLHFCQUFxQixTQUFTMkIsT0FBWUQsRUFBSkQsRUFBU0EsSUFDMUU3QixTQUFTSSxxQkFBcUIsU0FBU3lCLEdBQUdHLFdBQWEsSUFBTWhDLFNBQVNJLHFCQUFxQixTQUFTeUIsR0FBR0ksSUFRM0csS0FBSyxHQUpEQyxHQUFXcEMsT0FBT3FDLFNBQVNELFNBQzNCRSxFQUFRcEMsU0FBU0kscUJBQXFCLEtBQ3RDaUMsRUFBVSx1QkFFTEMsRUFBSSxFQUFHQyxFQUFVSCxFQUFNTCxPQUFZUSxFQUFKRCxFQUFhQSxJQUM3Q0QsRUFBUUcsS0FBS0osRUFBTUUsR0FBR0csT0FBMEQsSUFBakRMLEVBQU1FLEdBQUdHLEtBQUtDLGNBQWNDLFFBQVFULEtBQ25FRSxFQUFNRSxHQUFHTSxPQUFTLFNBQ2xCUixFQUFNRSxHQUFHTixXQUFhLFlBdkJwQkwsR0E0QlIsd0JBQXdCa0IsS0FBSyxjQUFlLFdBQ3RDNUIsS0FBSzZCLE9BQVM3QixLQUFLOEIsZUFDbkI5QixLQUFLNkIsTUFBUSxNQUVsQkQsS0FBSyxPQUFRLFdBQ08sS0FBZjVCLEtBQUs2QixRQUNMN0IsS0FBSzZCLE1BQVE3QixLQUFLOEIsZ0JBbENoQnBCLEVBc0RSLG9CQUFvQnFCLFFBQVFDLFlBQVksMkNBQTJDQyxXQUFXLE1BQ2hHdkIsRUFBRSxnQkFBZ0JrQixLQUFLLGNBQWUsV0FFOUJsQixFQUFFLHlCQUF5QndCLFNBQVMsU0FDcEN4QixFQUFFLHlCQUF5QnlCLFNBQ3ZCekMsTUFBTyxPQUNSLEtBQUswQyxZQUFZLFFBQVFDLEtBQ3hCQyxRQUFXLFdBRWY1QixFQUFFLGlGQUFpRjZCLE9BQ25GN0IsRUFBRSxzQ0FBc0N5QixTQUNwQ0ssS0FBTSxPQUNQLE9BR0g5QixFQUFFLHlCQUF5QnlCLFNBQ3ZCekMsTUFBTyxTQUNSLEtBQUtpQixTQUFTLFFBQVEwQixLQUNyQkMsUUFBVyxVQUVmNUIsRUFBRSxpRkFBaUYrQixPQUFPLEtBQzFGL0IsRUFBRSxzQ0FBc0N5QixTQUNwQ0ssS0FBTSxTQUNQLFFBN0VEOUIsRUFrRlIsNENBQTRDNkIsT0FDOUM3QixFQUFFLG9EQUFvRGtCLEtBQUssY0FBZSxXQUV0RWxCLEVBQUVWLE1BQU0wQyxLQUFLLHlCQUF5QkMsWUFBWSxXQUd4RDdDIiwiZmlsZSI6ImxpYnJhcnkvanMvc2NyaXB0cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBHZXQgVmlld3BvcnQgRGltZW5zaW9uc1xuICogcmV0dXJucyBvYmplY3Qgd2l0aCB2aWV3cG9ydCBkaW1lbnNpb25zIHRvIG1hdGNoIGNzcyBpbiB3aWR0aCBhbmQgaGVpZ2h0IHByb3BlcnRpZXNcbiAqICggc291cmNlOiBodHRwOi8vYW5keWxhbmd0b24uY28udWsvYmxvZy9kZXZlbG9wbWVudC9nZXQtdmlld3BvcnQtc2l6ZS13aWR0aC1hbmQtaGVpZ2h0LWphdmFzY3JpcHQgKVxuICovXG5mdW5jdGlvbiB1cGRhdGVWaWV3cG9ydERpbWVuc2lvbnMoKSB7XG4gICAgdmFyIHcgPSB3aW5kb3csXG4gICAgICAgIGQgPSBkb2N1bWVudCxcbiAgICAgICAgZSA9IGQuZG9jdW1lbnRFbGVtZW50LFxuICAgICAgICBnID0gZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdLFxuICAgICAgICB4ID0gdy5pbm5lcldpZHRoIHx8IGUuY2xpZW50V2lkdGggfHwgZy5jbGllbnRXaWR0aCxcbiAgICAgICAgeSA9IHcuaW5uZXJIZWlnaHQgfHwgZS5jbGllbnRIZWlnaHQgfHwgZy5jbGllbnRIZWlnaHQ7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgd2lkdGg6IHgsXG4gICAgICAgIGhlaWdodDogeVxuICAgIH07XG59XG4vLyBzZXR0aW5nIHRoZSB2aWV3cG9ydCB3aWR0aFxudmFyIHZpZXdwb3J0ID0gdXBkYXRlVmlld3BvcnREaW1lbnNpb25zKCk7XG5cbi8qXG4gKiBUaHJvdHRsZSBSZXNpemUtdHJpZ2dlcmVkIEV2ZW50c1xuICogV3JhcCB5b3VyIGFjdGlvbnMgaW4gdGhpcyBmdW5jdGlvbiB0byB0aHJvdHRsZSB0aGUgZnJlcXVlbmN5IG9mIGZpcmluZyB0aGVtIG9mZiwgZm9yIGJldHRlciBwZXJmb3JtYW5jZSwgZXNwLiBvbiBtb2JpbGUuXG4gKiAoIHNvdXJjZTogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yODU0NDA3L2phdmFzY3JpcHQtanF1ZXJ5LXdpbmRvdy1yZXNpemUtaG93LXRvLWZpcmUtYWZ0ZXItdGhlLXJlc2l6ZS1pcy1jb21wbGV0ZWQgKVxuICovXG52YXIgd2FpdEZvckZpbmFsRXZlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRpbWVycyA9IHt9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoY2FsbGJhY2ssIG1zLCB1bmlxdWVJZCkge1xuICAgICAgICBpZiAoIXVuaXF1ZUlkKSB7XG4gICAgICAgICAgICB1bmlxdWVJZCA9IFwiRG9uJ3QgY2FsbCB0aGlzIHR3aWNlIHdpdGhvdXQgYSB1bmlxdWVJZFwiO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aW1lcnNbdW5pcXVlSWRdKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXJzW3VuaXF1ZUlkXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGltZXJzW3VuaXF1ZUlkXSA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIG1zKTtcbiAgICB9O1xufSgpO1xuLy8gaG93IGxvbmcgdG8gd2FpdCBiZWZvcmUgZGVjaWRpbmcgdGhlIHJlc2l6ZSBoYXMgc3RvcHBlZCwgaW4gbXMuIEFyb3VuZCA1MC0xMDAgc2hvdWxkIHdvcmsgb2suXG52YXIgdGltZVRvV2FpdEZvckxhc3QgPSAxMDA7XG5cbi8qXG4gKiBIZXJlJ3MgYW4gZXhhbXBsZSBzbyB5b3UgY2FuIHNlZSBob3cgd2UncmUgdXNpbmcgdGhlIGFib3ZlIGZ1bmN0aW9uXG4gKlxuICogVGhpcyBpcyBjb21tZW50ZWQgb3V0IHNvIGl0IHdvbid0IHdvcmssIGJ1dCB5b3UgY2FuIGNvcHkgaXQgYW5kXG4gKiByZW1vdmUgdGhlIGNvbW1lbnRzLlxuICpcbiAqXG4gKlxuICogSWYgd2Ugd2FudCB0byBvbmx5IGRvIGl0IG9uIGEgY2VydGFpbiBwYWdlLCB3ZSBjYW4gc2V0dXAgY2hlY2tzIHNvIHdlIGRvIGl0XG4gKiBhcyBlZmZpY2llbnQgYXMgcG9zc2libGUuXG4gKlxuICogaWYoIHR5cGVvZiBpc19ob21lID09PSBcInVuZGVmaW5lZFwiICkgdmFyIGlzX2hvbWUgPSAkKCdib2R5JykuaGFzQ2xhc3MoJ2hvbWUnKTtcbiAqXG4gKiBUaGlzIG9uY2UgY2hlY2tzIHRvIHNlZSBpZiB5b3UncmUgb24gdGhlIGhvbWUgcGFnZSBiYXNlZCBvbiB0aGUgYm9keSBjbGFzc1xuICogV2UgY2FuIHRoZW4gdXNlIHRoYXQgY2hlY2sgdG8gcGVyZm9ybSBhY3Rpb25zIG9uIHRoZSBob21lIHBhZ2Ugb25seVxuICpcbiAqIFdoZW4gdGhlIHdpbmRvdyBpcyByZXNpemVkLCB3ZSBwZXJmb3JtIHRoaXMgZnVuY3Rpb25cbiAqICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24gKCkge1xuICpcbiAqICAgIC8vIGlmIHdlJ3JlIG9uIHRoZSBob21lIHBhZ2UsIHdlIHdhaXQgdGhlIHNldCBhbW91bnQgKGluIGZ1bmN0aW9uIGFib3ZlKSB0aGVuIGZpcmUgdGhlIGZ1bmN0aW9uXG4gKiAgICBpZiggaXNfaG9tZSApIHsgd2FpdEZvckZpbmFsRXZlbnQoIGZ1bmN0aW9uKCkge1xuICpcbiAqXHQvLyB1cGRhdGUgdGhlIHZpZXdwb3J0LCBpbiBjYXNlIHRoZSB3aW5kb3cgc2l6ZSBoYXMgY2hhbmdlZFxuICpcdHZpZXdwb3J0ID0gdXBkYXRlVmlld3BvcnREaW1lbnNpb25zKCk7XG4gKlxuICogICAgICAvLyBpZiB3ZSdyZSBhYm92ZSBvciBlcXVhbCB0byA3NjggZmlyZSB0aGlzIG9mZlxuICogICAgICBpZiggdmlld3BvcnQud2lkdGggPj0gNzY4ICkge1xuICogICAgICAgIGNvbnNvbGUubG9nKCdPbiBob21lIHBhZ2UgYW5kIHdpbmRvdyBzaXplZCB0byA3Njggd2lkdGggb3IgbW9yZS4nKTtcbiAqICAgICAgfSBlbHNlIHtcbiAqICAgICAgICAvLyBvdGhlcndpc2UsIGxldCdzIGRvIHRoaXMgaW5zdGVhZFxuICogICAgICAgIGNvbnNvbGUubG9nKCdOb3Qgb24gaG9tZSBwYWdlLCBvciB3aW5kb3cgc2l6ZWQgdG8gbGVzcyB0aGFuIDc2OC4nKTtcbiAqICAgICAgfVxuICpcbiAqICAgIH0sIHRpbWVUb1dhaXRGb3JMYXN0LCBcInlvdXItZnVuY3Rpb24taWRlbnRpZmllci1zdHJpbmdcIik7IH1cbiAqIH0pO1xuICpcbiAqIFByZXR0eSBjb29sIGh1aD8gWW91IGNhbiBjcmVhdGUgZnVuY3Rpb25zIGxpa2UgdGhpcyB0byBjb25kaXRpb25hbGx5IGxvYWRcbiAqIGNvbnRlbnQgYW5kIG90aGVyIHN0dWZmIGRlcGVuZGVudCBvbiB0aGUgdmlld3BvcnQuXG4gKiBSZW1lbWJlciB0aGF0IG1vYmlsZSBkZXZpY2VzIGFuZCBqYXZhc2NyaXB0IGFyZW4ndCB0aGUgYmVzdCBvZiBmcmllbmRzLlxuICogS2VlcCBpdCBsaWdodCBhbmQgYWx3YXlzIG1ha2Ugc3VyZSB0aGUgbGFyZ2VyIHZpZXdwb3J0cyBhcmUgZG9pbmcgdGhlIGhlYXZ5IGxpZnRpbmcuXG4gKlxuICovXG5cbi8qXG4gKiBXZSdyZSBnb2luZyB0byBzd2FwIG91dCB0aGUgZ3JhdmF0YXJzLlxuICogSW4gdGhlIGZ1bmN0aW9ucy5waHAgZmlsZSwgeW91IGNhbiBzZWUgd2UncmUgbm90IGxvYWRpbmcgdGhlIGdyYXZhdGFyXG4gKiBpbWFnZXMgb24gbW9iaWxlIHRvIHNhdmUgYmFuZHdpZHRoLiBPbmNlIHdlIGhpdCBhbiBhY2NlcHRhYmxlIHZpZXdwb3J0XG4gKiB0aGVuIHdlIGNhbiBzd2FwIG91dCB0aG9zZSBpbWFnZXMgc2luY2UgdGhleSBhcmUgbG9jYXRlZCBpbiBhIGRhdGEgYXR0cmlidXRlLlxuICovXG5mdW5jdGlvbiBsb2FkR3JhdmF0YXJzKCkge1xuICAgIC8vIHNldCB0aGUgdmlld3BvcnQgdXNpbmcgdGhlIGZ1bmN0aW9uIGFib3ZlXG4gICAgdmlld3BvcnQgPSB1cGRhdGVWaWV3cG9ydERpbWVuc2lvbnMoKTtcbiAgICAvLyBpZiB0aGUgdmlld3BvcnQgaXMgdGFibGV0IG9yIGxhcmdlciwgd2UgbG9hZCBpbiB0aGUgZ3JhdmF0YXJzXG4gICAgaWYgKHZpZXdwb3J0LndpZHRoID49IDc2OCkge1xuICAgICAgICBqUXVlcnkoJy5jb21tZW50IGltZ1tkYXRhLWdyYXZhdGFyXScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgalF1ZXJ5KHRoaXMpLmF0dHIoJ3NyYycsIGpRdWVyeSh0aGlzKS5hdHRyKCdkYXRhLWdyYXZhdGFyJykpO1xuICAgICAgICB9KTtcbiAgICB9XG59IC8vIGVuZCBmdW5jdGlvblxuXG5cbi8qXG4gKiBQdXQgYWxsIG9mIHlvdXIgc2NyaXB0IGluIGhlcmUuXG4gKi9cbihmdW5jdGlvbiAoJCkge1xuICAgIC8qXG4gICAgICogTGV0J3MgZmlyZSBvZmYgdGhlIGdyYXZhdGFyIGZ1bmN0aW9uIHlvdSBjYW4gcmVtb3ZlIHRoaXMgaWYgeW91IGRvbid0IG5lZWQgaXRcbiAgICAgKi9cbiAgICAvLyBsb2FkR3JhdmF0YXJzKCk7XG5cbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gdXRpbHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLy9cblxuICAgICQoJ2h0bWwnKS5hZGRDbGFzcygnanMnKTtcblxuICAgIC8vYWRkIGNsYXNzZXMgdG8gZm9ybSBpbnB1dHMgYmFzZWQgb24gdGhlaXIgdHlwZVxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5wdXQnKS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5wdXQnKVtpXS5jbGFzc05hbWUgKz0gJyAnICsgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2lucHV0JylbaV0udHlwZTtcbiAgICB9XG5cbiAgICAvL29wZW4gbGlua3MgaW4gbmV3IHdpbmRvdyAodGFyZ2V0PV9ibGFuayk7IGNoZWNrcyBpZiB0aGUgdXJsIGlzIGV4dGVybmFsXG4gICAgdmFyIGhvc3RuYW1lID0gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLFxuICAgICAgICBsaW5rcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdhJyksXG4gICAgICAgIHBhdHRlcm4gPSAvXmh0dHBzPzpcXC9cXC8od3d3Lik/L2k7XG5cbiAgICBmb3IgKHZhciBqID0gMCwgbGlua2xlbiA9IGxpbmtzLmxlbmd0aDsgaiA8IGxpbmtsZW47IGorKykge1xuICAgICAgICBpZiAocGF0dGVybi50ZXN0KGxpbmtzW2pdLmhyZWYpICYmIGxpbmtzW2pdLmhyZWYudG9Mb3dlckNhc2UoKS5pbmRleE9mKGhvc3RuYW1lKSA9PSAtMSkge1xuICAgICAgICAgICAgbGlua3Nbal0udGFyZ2V0ID0gXCJfYmxhbmtcIjtcbiAgICAgICAgICAgIGxpbmtzW2pdLmNsYXNzTmFtZSArPSAnIGV4dGVybmFsJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vY2xlYXIgZm9ybSBmaWVsZHMgb24gZm9jdXNcbiAgICAkKCd0ZXh0YXJlYSwgaW5wdXQ6dGV4dCcpLmJpbmQoJ2ZvY3VzIGNsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy52YWx1ZSA9PSB0aGlzLmRlZmF1bHRWYWx1ZSkge1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9ICcnO1xuICAgICAgICB9XG4gICAgfSkuYmluZCgnYmx1cicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudmFsdWUgPT09ICcnKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy5kZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vZXF1YWwgaGVpZ2h0IGNvbHVtbnMgZnVuY3Rpb25cbiAgICBmdW5jdGlvbiBlcXVhbEhlaWdodChncm91cCkge1xuICAgICAgICB2YXIgdGFsbGVzdCA9IDA7XG4gICAgICAgIGdyb3VwLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHRoaXNIZWlnaHQgPSAkKHRoaXMpLmhlaWdodCgpO1xuICAgICAgICAgICAgaWYgKHRoaXNIZWlnaHQgPiB0YWxsZXN0KSB7XG4gICAgICAgICAgICAgICAgdGFsbGVzdCA9IHRoaXNIZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBncm91cC5oZWlnaHQodGFsbGVzdCk7XG4gICAgfVxuICAgIC8vZXF1YWxIZWlnaHQoJChcIi8vaGVyZSBwdXQgdGhlIHNlbGVjdG9yXCIpKTtcblxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIG90aGVyIHNjcmlwdHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vL1xuXG4gICAgLy8gbW9iaWxlIG5hdlxuICAgICQoJyNtYWluLW5hdmlnYXRpb24nKS5jbG9uZSgpLmluc2VydEFmdGVyKCcubW9iaWxlLW5hdmlnYXRpb24gPiBhLmxvZ28tdWNsYS1tb2JpbGUnKS5yZW1vdmVBdHRyKCdpZCcpO1xuICAgICQoJyN0b2dnbGUtbWVudScpLmJpbmQoJ2NsaWNrIHRvdWNoJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBpZiBvcGVuZWRcbiAgICAgICAgaWYgKCQoJ2Rpdi5tb2JpbGUtbmF2aWdhdGlvbicpLmhhc0NsYXNzKCdvcGVuJykpIHtcbiAgICAgICAgICAgICQoJ2Rpdi5tb2JpbGUtbmF2aWdhdGlvbicpLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjBweFwiXG4gICAgICAgICAgICB9LCAzMDApLnJlbW92ZUNsYXNzKCdvcGVuJykuY3NzKHtcbiAgICAgICAgICAgICAgICAnZGlzcGxheSc6ICdoaWRkZW4nXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICQoJy5tb2JpbGUtbmF2aWdhdGlvbiA+IC5uYXYtbWVudSwgLm1vYmlsZS1uYXZpZ2F0aW9uID4gLm1vYmlsZS1yb29tLXJlc2VydmF0aW9uJykuaGlkZSgpO1xuICAgICAgICAgICAgJCgnI2NvbnRhaW5lciwgLm5vdC1mcm9udHBhZ2UgI2hlYWRlcicpLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgIGxlZnQ6IFwiMHB4XCJcbiAgICAgICAgICAgIH0sIDMwMCk7XG4gICAgICAgIC8vIGlmIGNsb3NlZFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJCgnZGl2Lm1vYmlsZS1uYXZpZ2F0aW9uJykuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMzAwcHhcIlxuICAgICAgICAgICAgfSwgMzAwKS5hZGRDbGFzcygnb3BlbicpLmNzcyh7XG4gICAgICAgICAgICAgICAgJ2Rpc3BsYXknOiAnYmxvY2snXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICQoJy5tb2JpbGUtbmF2aWdhdGlvbiA+IC5uYXYtbWVudSwgLm1vYmlsZS1uYXZpZ2F0aW9uID4gLm1vYmlsZS1yb29tLXJlc2VydmF0aW9uJykuZmFkZUluKDEwMDApO1xuICAgICAgICAgICAgJCgnI2NvbnRhaW5lciwgLm5vdC1mcm9udHBhZ2UgI2hlYWRlcicpLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgIGxlZnQ6IFwiMzAwcHhcIlxuICAgICAgICAgICAgfSwgMzAwKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gdG9vZ2xlIHJvb20gdHlwZVxuICAgICQoJy5yb29tLXR5cGVzLW1vYmlsZSAucm9vbS10eXBlLWRpdi10b2dnbGUnKS5oaWRlKCk7XG4gICAgJCgnLnJvb20tdHlwZXMtbW9iaWxlIC5yb29tLXR5cGUtZGl2LXRvZ2dsZS10cmlnZ2VyJykuYmluZCgnY2xpY2sgdG91Y2gnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdleHBhbmRlZCcpO1xuICAgICAgICAkKHRoaXMpLm5leHQoJy5yb29tLXR5cGUtZGl2LXRvZ2dsZScpLnNsaWRlVG9nZ2xlKCdmYXN0Jyk7XG4gICAgfSk7XG5cbn0oalF1ZXJ5KSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
