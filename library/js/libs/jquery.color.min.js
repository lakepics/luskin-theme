"use strict";!function(r,n){function t(r,n,t){var e=c[n.type]||{},a=n.empty||t;return a&&null==r?null:n.def&&null==r?n.def:(r=e.floor?~~r:parseFloat(r),null==r||isNaN(r)?n.def:e.mod?(r%=e.mod,0>r?e.mod+r:r):e.min>r?e.min:e.max<r?e.max:r)}function e(n){var t=f(),e=t._rgba=[];return n=n.toLowerCase(),h(l,function(r,a){var o,i=a.re.exec(n),s=i&&a.parse(i),l=a.space||"rgba",f=u[l].cache;return s?(o=t[l](s),t[f]=o[f],e=t._rgba=o._rgba,!1):void 0}),0!==e.length?(0===Math.max.apply(Math,e)&&r.extend(e,o.transparent),t):(n=o[n])?n:void 0}function a(r,n,t){return t=(t+1)%1,1>6*t?r+6*(n-r)*t:1>2*t?n:2>3*t?r+(n-r)*(2/3-t)*6:r}var o,i="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color outlineColor".split(" "),s=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(r){return[r[1],r[2],r[3],r[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(r){return[2.55*r[1],2.55*r[2],2.55*r[3],r[4]]}},{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(r){return[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)]}},{re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,parse:function(r){return[parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16),parseInt(r[3]+r[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(r){return[r[1],r[2]/100,r[3]/100,r[4]]}}],f=r.Color=function(n,t,e,a){return new r.Color.fn.parse(n,t,e,a)},u={rgba:{cache:"_rgba",props:{red:{idx:0,type:"byte",empty:!0},green:{idx:1,type:"byte",empty:!0},blue:{idx:2,type:"byte",empty:!0},alpha:{idx:3,type:"percent",def:1}}},hsla:{cache:"_hsla",props:{hue:{idx:0,type:"degrees",empty:!0},saturation:{idx:1,type:"percent",empty:!0},lightness:{idx:2,type:"percent",empty:!0}}}},c={"byte":{floor:!0,min:0,max:255},percent:{min:0,max:1},degrees:{mod:360,floor:!0}},d=u.rgba.props,p=f.support={},h=r.each;u.hsla.props.alpha=d.alpha,f.fn=f.prototype={constructor:f,parse:function(a,i,s,l){if(a===n)return this._rgba=[null,null,null,null],this;(a instanceof r||a.nodeType)&&(a=a instanceof r?a.css(i):r(a).css(i),i=n);var c=this,p=r.type(a),g=this._rgba=[];return i!==n&&(a=[a,i,s,l],p="array"),"string"===p?this.parse(e(a)||o._default):"array"===p?(h(d,function(r,n){g[n.idx]=t(a[n.idx],n)}),this):"object"===p?(a instanceof f?h(u,function(r,n){a[n.cache]&&(c[n.cache]=a[n.cache].slice())}):h(u,function(r,n){h(n.props,function(r,e){var o=n.cache;if(!c[o]&&n.to){if(null==a[r]||"alpha"===r)return;c[o]=n.to(c._rgba)}c[o][e.idx]=t(a[r],e,!0)})}),this):void 0},is:function g(r){var g=f(r),n=!0,t=this;return h(u,function(r,e){var a,o=g[e.cache];return o&&(a=t[e.cache]||e.to&&e.to(t._rgba)||[],h(e.props,function(r,t){return null!=o[t.idx]?n=o[t.idx]==a[t.idx]:void 0})),n}),n},_space:function(){var r=[],n=this;return h(u,function(t,e){n[e.cache]&&r.push(t)}),r.pop()},transition:function(r,n){var e=f(r),a=e._space(),o=u[a],i=this[o.cache]||o.to(this._rgba),s=i.slice();return e=e[o.cache],h(o.props,function(r,a){var o=a.idx,l=i[o],f=e[o],u=c[a.type]||{};null!==f&&(null===l?s[o]=f:(u.mod&&(f-l>u.mod/2?l+=u.mod:l-f>u.mod/2&&(l-=u.mod)),s[a.idx]=t((f-l)*n+l,a)))}),this[a](s)},blend:function b(n){if(1===this._rgba[3])return this;var t=this._rgba.slice(),e=t.pop(),b=f(n)._rgba;return f(r.map(t,function(r,n){return(1-e)*b[n]+e*r}))},toRgbaString:function(){var n="rgba(",t=r.map(this._rgba,function(r,n){return null==r?n>2?1:0:r});return 1===t[3]&&(t.pop(),n="rgb("),n+t.join(",")+")"},toHslaString:function(){var n="hsla(",t=r.map(this.hsla(),function(r,n){return null==r&&(r=n>2?1:0),n&&3>n&&(r=Math.round(100*r)+"%"),r});return 1==t[3]&&(t.pop(),n="hsl("),n+t.join(",")+")"},toHexString:function(n){var t=this._rgba.slice(),e=t.pop();return n&&t.push(~~(255*e)),"#"+r.map(t,function(r,n){return r=(r||0).toString(16),1==r.length?"0"+r:r}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}},f.fn.parse.prototype=f.fn,u.hsla.to=function(r){if(null==r[0]||null==r[1]||null==r[2])return[null,null,null,r[3]];var n,t,e=r[0]/255,a=r[1]/255,o=r[2]/255,i=r[3],s=Math.max(e,a,o),l=Math.min(e,a,o),f=s-l,u=s+l,c=.5*u;return n=l===s?0:e===s?60*(a-o)/f+360:a===s?60*(o-e)/f+120:60*(e-a)/f+240,t=0===c||1===c?c:.5>=c?f/u:f/(2-u),[Math.round(n)%360,t,c,null==i?1:i]},u.hsla.from=function(r){if(null==r[0]||null==r[1]||null==r[2])return[null,null,null,r[3]];var n=r[0]/360,t=r[1],e=r[2],o=r[3],i=.5>=e?e*(1+t):e+t-e*t,s=2*e-i;return[Math.round(255*a(s,i,n+1/3)),Math.round(255*a(s,i,n)),Math.round(255*a(s,i,n-1/3)),o]},h(u,function(e,a){var o=a.props,i=a.cache,l=a.to,u=a.from;f.fn[e]=function(e){if(l&&!this[i]&&(this[i]=l(this._rgba)),e===n)return this[i].slice();var a,s=r.type(e),c="array"===s||"object"===s?e:arguments,d=this[i].slice();return h(o,function(r,n){var e=c["object"===s?r:n.idx];null==e&&(e=d[n.idx]),d[n.idx]=t(e,n)}),u?(a=f(u(d)),a[i]=d,a):f(d)},h(o,function(n,t){f.fn[n]||(f.fn[n]=function(a){var o,i=r.type(a),l="alpha"===n?this._hsla?"hsla":"rgba":e,f=this[l](),u=f[t.idx];return"undefined"===i?u:("function"===i&&(a=a.call(this,u),i=r.type(a)),null==a&&t.empty?this:("string"===i&&(o=s.exec(a),o&&(a=u+parseFloat(o[2])*("+"===o[1]?1:-1))),f[t.idx]=a,this[l](f)))})})}),h(i,function(n,t){r.cssHooks[t]={set:function(n,a){var o;if("string"!==r.type(a)||(o=e(a))){if(a=f(o||a),!p.rgba&&1!==a._rgba[3]){var i,s="backgroundColor"===t?n.parentNode:n;do i=r.curCSS(s,"backgroundColor");while((""===i||"transparent"===i)&&(s=s.parentNode)&&s.style);a=a.blend(i&&"transparent"!==i?i:"_default")}a=a.toRgbaString()}n.style[t]=a}},r.fx.step[t]=function(n){n.colorInit||(n.start=f(n.elem,t),n.end=f(n.end),n.colorInit=!0),r.cssHooks[t].set(n.elem,n.start.transition(n.end,n.pos))}}),r(function(){var r=document.createElement("div"),n=r.style;n.cssText="background-color:rgba(1,1,1,.5)",p.rgba=n.backgroundColor.indexOf("rgba")>-1}),o=r.Color.names={aqua:"#00ffff",azure:"#f0ffff",beige:"#f5f5dc",black:"#000000",blue:"#0000ff",brown:"#a52a2a",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkviolet:"#9400d3",fuchsia:"#ff00ff",gold:"#ffd700",green:"#008000",indigo:"#4b0082",khaki:"#f0e68c",lightblue:"#add8e6",lightcyan:"#e0ffff",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightyellow:"#ffffe0",lime:"#00ff00",magenta:"#ff00ff",maroon:"#800000",navy:"#000080",olive:"#808000",orange:"#ffa500",pink:"#ffc0cb",purple:"#800080",violet:"#800080",red:"#ff0000",silver:"#c0c0c0",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYnJhcnkvanMvbGlicy9qcXVlcnkuY29sb3IuanMiXSwibmFtZXMiOlsialF1ZXJ5IiwidW5kZWZpbmVkIiwiY2xhbXAiLCJ2YWx1ZSIsInByb3AiLCJhbHdheXNBbGxvd0VtcHR5IiwidHlwZSIsInByb3BUeXBlcyIsImFsbG93RW1wdHkiLCJlbXB0eSIsImRlZiIsImZsb29yIiwicGFyc2VGbG9hdCIsImlzTmFOIiwibW9kIiwibWluIiwibWF4Iiwic3RyaW5nUGFyc2UiLCJzdHJpbmciLCJpbnN0IiwiY29sb3IiLCJyZ2JhIiwiX3JnYmEiLCJ0b0xvd2VyQ2FzZSIsImVhY2giLCJzdHJpbmdQYXJzZXJzIiwiaSIsInBhcnNlciIsInBhcnNlZCIsIm1hdGNoIiwicmUiLCJleGVjIiwidmFsdWVzIiwicGFyc2UiLCJzcGFjZU5hbWUiLCJzcGFjZSIsImNhY2hlIiwic3BhY2VzIiwibGVuZ3RoIiwiTWF0aCIsImFwcGx5IiwiZXh0ZW5kIiwiY29sb3JzIiwidHJhbnNwYXJlbnQiLCJodWUycmdiIiwicCIsInEiLCJoIiwic3RlcEhvb2tzIiwic3BsaXQiLCJycGx1c2VxdWFscyIsImV4ZWNSZXN1bHQiLCJwYXJzZUludCIsIkNvbG9yIiwiZ3JlZW4iLCJibHVlIiwiYWxwaGEiLCJmbiIsInByb3BzIiwicmVkIiwiaWR4IiwiaHNsYSIsImh1ZSIsInNhdHVyYXRpb24iLCJsaWdodG5lc3MiLCJieXRlIiwicGVyY2VudCIsImRlZ3JlZXMiLCJyZ2Jhc3BhY2UiLCJzdXBwb3J0IiwicHJvdG90eXBlIiwiY29uc3RydWN0b3IiLCJ0aGlzIiwibm9kZVR5cGUiLCJjc3MiLCJfZGVmYXVsdCIsImtleSIsInNsaWNlIiwidG8iLCJpcyIsImNvbXBhcmUiLCJzYW1lIiwibXlzZWxmIiwiXyIsImxvY2FsQ2FjaGUiLCJpc0NhY2hlIiwiX3NwYWNlIiwidXNlZCIsInB1c2giLCJwb3AiLCJ0cmFuc2l0aW9uIiwib3RoZXIiLCJkaXN0YW5jZSIsImVuZCIsInN0YXJ0IiwicmVzdWx0IiwiaW5kZXgiLCJzdGFydFZhbHVlIiwiZW5kVmFsdWUiLCJibGVuZCIsIm9wYXF1ZSIsInJnYiIsImEiLCJtYXAiLCJ2IiwidG9SZ2JhU3RyaW5nIiwicHJlZml4Iiwiam9pbiIsInRvSHNsYVN0cmluZyIsInJvdW5kIiwidG9IZXhTdHJpbmciLCJpbmNsdWRlQWxwaGEiLCJ0b1N0cmluZyIsInMiLCJyIiwiZyIsImIiLCJkaWZmIiwiYWRkIiwibCIsImZyb20iLCJyZXQiLCJhcnIiLCJhcmd1bWVudHMiLCJsb2NhbCIsInZhbCIsInZ0eXBlIiwiX2hzbGEiLCJjdXIiLCJjYWxsIiwiaG9vayIsImNzc0hvb2tzIiwic2V0IiwiZWxlbSIsImJhY2tncm91bmRDb2xvciIsImN1ckVsZW0iLCJwYXJlbnROb2RlIiwiY3VyQ1NTIiwic3R5bGUiLCJmeCIsInN0ZXAiLCJjb2xvckluaXQiLCJwb3MiLCJkaXYiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJkaXZfc3R5bGUiLCJjc3NUZXh0IiwiaW5kZXhPZiIsIm5hbWVzIiwiYXF1YSIsImF6dXJlIiwiYmVpZ2UiLCJibGFjayIsImJyb3duIiwiY3lhbiIsImRhcmtibHVlIiwiZGFya2N5YW4iLCJkYXJrZ3JleSIsImRhcmtncmVlbiIsImRhcmtraGFraSIsImRhcmttYWdlbnRhIiwiZGFya29saXZlZ3JlZW4iLCJkYXJrb3JhbmdlIiwiZGFya29yY2hpZCIsImRhcmtyZWQiLCJkYXJrc2FsbW9uIiwiZGFya3Zpb2xldCIsImZ1Y2hzaWEiLCJnb2xkIiwiaW5kaWdvIiwia2hha2kiLCJsaWdodGJsdWUiLCJsaWdodGN5YW4iLCJsaWdodGdyZWVuIiwibGlnaHRncmV5IiwibGlnaHRwaW5rIiwibGlnaHR5ZWxsb3ciLCJsaW1lIiwibWFnZW50YSIsIm1hcm9vbiIsIm5hdnkiLCJvbGl2ZSIsIm9yYW5nZSIsInBpbmsiLCJwdXJwbGUiLCJ2aW9sZXQiLCJzaWx2ZXIiLCJ3aGl0ZSIsInllbGxvdyJdLCJtYXBwaW5ncyI6IkFBQUEsY0Fh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LEdBQ2hDZ0MsU0FBVSxZQUVmM0UiLCJmaWxlIjoibGlicmFyeS9qcy9saWJzL2pxdWVyeS5jb2xvci5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICogalF1ZXJ5IENvbG9yIEFuaW1hdGlvbnMgdkBWRVJTSU9OXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9cbiAqXG4gKiBDb3B5cmlnaHQgMjAxMSBKb2huIFJlc2lnXG4gKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgb3IgR1BMIFZlcnNpb24gMiBsaWNlbnNlcy5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBEYXRlOiBAREFURVxuICovXG5cbihmdW5jdGlvbiAoalF1ZXJ5LCB1bmRlZmluZWQpIHtcbiAgICB2YXIgc3RlcEhvb2tzID0gXCJiYWNrZ3JvdW5kQ29sb3IgYm9yZGVyQm90dG9tQ29sb3IgYm9yZGVyTGVmdENvbG9yIGJvcmRlclJpZ2h0Q29sb3IgYm9yZGVyVG9wQ29sb3IgY29sb3Igb3V0bGluZUNvbG9yXCIuc3BsaXQoXCIgXCIpLFxuXG5cbiAgICAvLyBwbHVzZXF1YWxzIHRlc3QgZm9yICs9IDEwMCAtPSAxMDBcbiAgICBycGx1c2VxdWFscyA9IC9eKFtcXC0rXSk9XFxzKihcXGQrXFwuP1xcZCopLyxcblxuXG4gICAgLy8gYSBzZXQgb2YgUkUncyB0aGF0IGNhbiBtYXRjaCBzdHJpbmdzIGFuZCBnZW5lcmF0ZSBjb2xvciB0dXBsZXMuXG4gICAgc3RyaW5nUGFyc2VycyA9IFt7XG4gICAgICAgIHJlOiAvcmdiYT9cXChcXHMqKFxcZHsxLDN9KVxccyosXFxzKihcXGR7MSwzfSlcXHMqLFxccyooXFxkezEsM30pXFxzKig/OixcXHMqKFxcZCsoPzpcXC5cXGQrKT8pXFxzKik/XFwpLyxcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uIHBhcnNlKGV4ZWNSZXN1bHQpIHtcbiAgICAgICAgICAgIHJldHVybiBbZXhlY1Jlc3VsdFsxXSwgZXhlY1Jlc3VsdFsyXSwgZXhlY1Jlc3VsdFszXSwgZXhlY1Jlc3VsdFs0XV07XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIHJlOiAvcmdiYT9cXChcXHMqKFxcZCsoPzpcXC5cXGQrKT8pXFwlXFxzKixcXHMqKFxcZCsoPzpcXC5cXGQrKT8pXFwlXFxzKixcXHMqKFxcZCsoPzpcXC5cXGQrKT8pXFwlXFxzKig/OixcXHMqKFxcZCsoPzpcXC5cXGQrKT8pXFxzKik/XFwpLyxcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uIHBhcnNlKGV4ZWNSZXN1bHQpIHtcbiAgICAgICAgICAgIHJldHVybiBbMi41NSAqIGV4ZWNSZXN1bHRbMV0sIDIuNTUgKiBleGVjUmVzdWx0WzJdLCAyLjU1ICogZXhlY1Jlc3VsdFszXSwgZXhlY1Jlc3VsdFs0XV07XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIHJlOiAvIyhbYS1mQS1GMC05XXsyfSkoW2EtZkEtRjAtOV17Mn0pKFthLWZBLUYwLTldezJ9KS8sXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiBwYXJzZShleGVjUmVzdWx0KSB7XG4gICAgICAgICAgICByZXR1cm4gW3BhcnNlSW50KGV4ZWNSZXN1bHRbMV0sIDE2KSwgcGFyc2VJbnQoZXhlY1Jlc3VsdFsyXSwgMTYpLCBwYXJzZUludChleGVjUmVzdWx0WzNdLCAxNildO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICByZTogLyMoW2EtZkEtRjAtOV0pKFthLWZBLUYwLTldKShbYS1mQS1GMC05XSkvLFxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gcGFyc2UoZXhlY1Jlc3VsdCkge1xuICAgICAgICAgICAgcmV0dXJuIFtwYXJzZUludChleGVjUmVzdWx0WzFdICsgZXhlY1Jlc3VsdFsxXSwgMTYpLCBwYXJzZUludChleGVjUmVzdWx0WzJdICsgZXhlY1Jlc3VsdFsyXSwgMTYpLCBwYXJzZUludChleGVjUmVzdWx0WzNdICsgZXhlY1Jlc3VsdFszXSwgMTYpXTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAgcmU6IC9oc2xhP1xcKFxccyooXFxkKyg/OlxcLlxcZCspPylcXHMqLFxccyooXFxkKyg/OlxcLlxcZCspPylcXCVcXHMqLFxccyooXFxkKyg/OlxcLlxcZCspPylcXCVcXHMqKD86LFxccyooXFxkKyg/OlxcLlxcZCspPylcXHMqKT9cXCkvLFxuICAgICAgICBzcGFjZTogXCJoc2xhXCIsXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiBwYXJzZShleGVjUmVzdWx0KSB7XG4gICAgICAgICAgICByZXR1cm4gW2V4ZWNSZXN1bHRbMV0sIGV4ZWNSZXN1bHRbMl0gLyAxMDAsIGV4ZWNSZXN1bHRbM10gLyAxMDAsIGV4ZWNSZXN1bHRbNF1dO1xuICAgICAgICB9XG4gICAgfV0sXG5cblxuICAgIC8vIGpRdWVyeS5Db2xvciggKVxuICAgIGNvbG9yID0galF1ZXJ5LkNvbG9yID0gZnVuY3Rpb24gKGNvbG9yLCBncmVlbiwgYmx1ZSwgYWxwaGEpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBqUXVlcnkuQ29sb3IuZm4ucGFyc2UoY29sb3IsIGdyZWVuLCBibHVlLCBhbHBoYSk7XG4gICAgfSxcbiAgICAgICAgc3BhY2VzID0ge1xuICAgICAgICByZ2JhOiB7XG4gICAgICAgICAgICBjYWNoZTogXCJfcmdiYVwiLFxuICAgICAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICAgICAgICByZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgaWR4OiAwLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVcIixcbiAgICAgICAgICAgICAgICAgICAgZW1wdHk6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdyZWVuOiB7XG4gICAgICAgICAgICAgICAgICAgIGlkeDogMSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJieXRlXCIsXG4gICAgICAgICAgICAgICAgICAgIGVtcHR5OiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBibHVlOiB7XG4gICAgICAgICAgICAgICAgICAgIGlkeDogMixcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJieXRlXCIsXG4gICAgICAgICAgICAgICAgICAgIGVtcHR5OiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBhbHBoYToge1xuICAgICAgICAgICAgICAgICAgICBpZHg6IDMsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwicGVyY2VudFwiLFxuICAgICAgICAgICAgICAgICAgICBkZWY6IDFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGhzbGE6IHtcbiAgICAgICAgICAgIGNhY2hlOiBcIl9oc2xhXCIsXG4gICAgICAgICAgICBwcm9wczoge1xuICAgICAgICAgICAgICAgIGh1ZToge1xuICAgICAgICAgICAgICAgICAgICBpZHg6IDAsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZGVncmVlc1wiLFxuICAgICAgICAgICAgICAgICAgICBlbXB0eTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2F0dXJhdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBpZHg6IDEsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwicGVyY2VudFwiLFxuICAgICAgICAgICAgICAgICAgICBlbXB0eTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbGlnaHRuZXNzOiB7XG4gICAgICAgICAgICAgICAgICAgIGlkeDogMixcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJwZXJjZW50XCIsXG4gICAgICAgICAgICAgICAgICAgIGVtcHR5OiB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICAgICAgcHJvcFR5cGVzID0ge1xuICAgICAgICBcImJ5dGVcIjoge1xuICAgICAgICAgICAgZmxvb3I6IHRydWUsXG4gICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICBtYXg6IDI1NVxuICAgICAgICB9LFxuICAgICAgICBcInBlcmNlbnRcIjoge1xuICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgbWF4OiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwiZGVncmVlc1wiOiB7XG4gICAgICAgICAgICBtb2Q6IDM2MCxcbiAgICAgICAgICAgIGZsb29yOiB0cnVlXG4gICAgICAgIH1cbiAgICB9LFxuICAgICAgICByZ2Jhc3BhY2UgPSBzcGFjZXMucmdiYS5wcm9wcyxcbiAgICAgICAgc3VwcG9ydCA9IGNvbG9yLnN1cHBvcnQgPSB7fSxcblxuXG4gICAgLy8gY29sb3JzID0galF1ZXJ5LkNvbG9yLm5hbWVzXG4gICAgY29sb3JzLFxuXG5cbiAgICAvLyBsb2NhbCBhbGlhc2VzIG9mIGZ1bmN0aW9ucyBjYWxsZWQgb2Z0ZW5cbiAgICBlYWNoID0galF1ZXJ5LmVhY2g7XG5cbiAgICBzcGFjZXMuaHNsYS5wcm9wcy5hbHBoYSA9IHJnYmFzcGFjZS5hbHBoYTtcblxuICAgIGZ1bmN0aW9uIGNsYW1wKHZhbHVlLCBwcm9wLCBhbHdheXNBbGxvd0VtcHR5KSB7XG4gICAgICAgIHZhciB0eXBlID0gcHJvcFR5cGVzW3Byb3AudHlwZV0gfHwge30sXG4gICAgICAgICAgICBhbGxvd0VtcHR5ID0gcHJvcC5lbXB0eSB8fCBhbHdheXNBbGxvd0VtcHR5O1xuXG4gICAgICAgIGlmIChhbGxvd0VtcHR5ICYmIHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wLmRlZiAmJiB2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvcC5kZWY7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUuZmxvb3IpIHtcbiAgICAgICAgICAgIHZhbHVlID0gfiB+dmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IGlzTmFOKHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHByb3AuZGVmO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlLm1vZCkge1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSAlIHR5cGUubW9kO1xuICAgICAgICAgICAgLy8gLTEwIC0+IDM1MFxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlIDwgMCA/IHR5cGUubW9kICsgdmFsdWUgOiB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZvciBub3cgYWxsIHByb3BlcnR5IHR5cGVzIHdpdGhvdXQgbW9kIGhhdmUgbWluIGFuZCBtYXhcbiAgICAgICAgcmV0dXJuIHR5cGUubWluID4gdmFsdWUgPyB0eXBlLm1pbiA6IHR5cGUubWF4IDwgdmFsdWUgPyB0eXBlLm1heCA6IHZhbHVlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN0cmluZ1BhcnNlKHN0cmluZykge1xuICAgICAgICB2YXIgaW5zdCA9IGNvbG9yKCksXG4gICAgICAgICAgICByZ2JhID0gaW5zdC5fcmdiYSA9IFtdO1xuXG4gICAgICAgIHN0cmluZyA9IHN0cmluZy50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgIGVhY2goc3RyaW5nUGFyc2VycywgZnVuY3Rpb24gKGksIHBhcnNlcikge1xuICAgICAgICAgICAgdmFyIG1hdGNoID0gcGFyc2VyLnJlLmV4ZWMoc3RyaW5nKSxcbiAgICAgICAgICAgICAgICB2YWx1ZXMgPSBtYXRjaCAmJiBwYXJzZXIucGFyc2UobWF0Y2gpLFxuICAgICAgICAgICAgICAgIHBhcnNlZCxcbiAgICAgICAgICAgICAgICBzcGFjZU5hbWUgPSBwYXJzZXIuc3BhY2UgfHwgXCJyZ2JhXCIsXG4gICAgICAgICAgICAgICAgY2FjaGUgPSBzcGFjZXNbc3BhY2VOYW1lXS5jYWNoZTtcblxuICAgICAgICAgICAgaWYgKHZhbHVlcykge1xuICAgICAgICAgICAgICAgIHBhcnNlZCA9IGluc3Rbc3BhY2VOYW1lXSh2YWx1ZXMpO1xuXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhpcyB3YXMgYW4gcmdiYSBwYXJzZSB0aGUgYXNzaWdubWVudCBtaWdodCBoYXBwZW4gdHdpY2VcbiAgICAgICAgICAgICAgICAvLyBvaCB3ZWxsLi4uLlxuICAgICAgICAgICAgICAgIGluc3RbY2FjaGVdID0gcGFyc2VkW2NhY2hlXTtcbiAgICAgICAgICAgICAgICByZ2JhID0gaW5zdC5fcmdiYSA9IHBhcnNlZC5fcmdiYTtcblxuICAgICAgICAgICAgICAgIC8vIGV4aXQgZWFjaCggc3RyaW5nUGFyc2VycyApIGhlcmUgYmVjYXVzZSB3ZSBtYXRjaGVkXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBGb3VuZCBhIHN0cmluZ1BhcnNlciB0aGF0IGhhbmRsZWQgaXRcbiAgICAgICAgaWYgKHJnYmEubGVuZ3RoICE9PSAwKSB7XG5cbiAgICAgICAgICAgIC8vIGlmIHRoaXMgY2FtZSBmcm9tIGEgcGFyc2VkIHN0cmluZywgZm9yY2UgXCJ0cmFuc3BhcmVudFwiIHdoZW4gYWxwaGEgaXMgMFxuICAgICAgICAgICAgLy8gY2hyb21lLCAoYW5kIG1heWJlIG90aGVycykgcmV0dXJuIFwidHJhbnNwYXJlbnRcIiBhcyByZ2JhKDAsMCwwLDApXG4gICAgICAgICAgICBpZiAoTWF0aC5tYXguYXBwbHkoTWF0aCwgcmdiYSkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBqUXVlcnkuZXh0ZW5kKHJnYmEsIGNvbG9ycy50cmFuc3BhcmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaW5zdDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5hbWVkIGNvbG9ycyAvIGRlZmF1bHQgLSBmaWx0ZXIgYmFjayB0aHJvdWdoIHBhcnNlIGZ1bmN0aW9uXG4gICAgICAgIGlmIChzdHJpbmcgPSBjb2xvcnNbc3RyaW5nXSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbG9yLmZuID0gY29sb3IucHJvdG90eXBlID0ge1xuICAgICAgICBjb25zdHJ1Y3RvcjogY29sb3IsXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiBwYXJzZShyZWQsIGdyZWVuLCBibHVlLCBhbHBoYSkge1xuICAgICAgICAgICAgaWYgKHJlZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmdiYSA9IFtudWxsLCBudWxsLCBudWxsLCBudWxsXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZWQgaW5zdGFuY2VvZiBqUXVlcnkgfHwgcmVkLm5vZGVUeXBlKSB7XG4gICAgICAgICAgICAgICAgcmVkID0gcmVkIGluc3RhbmNlb2YgalF1ZXJ5ID8gcmVkLmNzcyhncmVlbikgOiBqUXVlcnkocmVkKS5jc3MoZ3JlZW4pO1xuICAgICAgICAgICAgICAgIGdyZWVuID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgaW5zdCA9IHRoaXMsXG4gICAgICAgICAgICAgICAgdHlwZSA9IGpRdWVyeS50eXBlKHJlZCksXG4gICAgICAgICAgICAgICAgcmdiYSA9IHRoaXMuX3JnYmEgPSBbXSxcbiAgICAgICAgICAgICAgICBzb3VyY2U7XG5cbiAgICAgICAgICAgIC8vIG1vcmUgdGhhbiAxIGFyZ3VtZW50IHNwZWNpZmllZCAtIGFzc3VtZSAoIHJlZCwgZ3JlZW4sIGJsdWUsIGFscGhhIClcbiAgICAgICAgICAgIGlmIChncmVlbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmVkID0gW3JlZCwgZ3JlZW4sIGJsdWUsIGFscGhhXTtcbiAgICAgICAgICAgICAgICB0eXBlID0gXCJhcnJheVwiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlKHN0cmluZ1BhcnNlKHJlZCkgfHwgY29sb3JzLl9kZWZhdWx0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGUgPT09IFwiYXJyYXlcIikge1xuICAgICAgICAgICAgICAgIGVhY2gocmdiYXNwYWNlLCBmdW5jdGlvbiAoa2V5LCBwcm9wKSB7XG4gICAgICAgICAgICAgICAgICAgIHJnYmFbcHJvcC5pZHhdID0gY2xhbXAocmVkW3Byb3AuaWR4XSwgcHJvcCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlZCBpbnN0YW5jZW9mIGNvbG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGVhY2goc3BhY2VzLCBmdW5jdGlvbiAoc3BhY2VOYW1lLCBzcGFjZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlZFtzcGFjZS5jYWNoZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0W3NwYWNlLmNhY2hlXSA9IHJlZFtzcGFjZS5jYWNoZV0uc2xpY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZWFjaChzcGFjZXMsIGZ1bmN0aW9uIChzcGFjZU5hbWUsIHNwYWNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlYWNoKHNwYWNlLnByb3BzLCBmdW5jdGlvbiAoa2V5LCBwcm9wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNhY2hlID0gc3BhY2UuY2FjaGU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgY2FjaGUgZG9lc24ndCBleGlzdCwgYW5kIHdlIGtub3cgaG93IHRvIGNvbnZlcnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWluc3RbY2FjaGVdICYmIHNwYWNlLnRvKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIHZhbHVlIHdhcyBudWxsLCB3ZSBkb24ndCBuZWVkIHRvIGNvcHkgaXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIGtleSB3YXMgYWxwaGEsIHdlIGRvbid0IG5lZWQgdG8gY29weSBpdCBlaXRoZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlZFtrZXldID09IG51bGwgfHwga2V5ID09PSBcImFscGhhXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0W2NhY2hlXSA9IHNwYWNlLnRvKGluc3QuX3JnYmEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgdGhlIG9ubHkgY2FzZSB3aGVyZSB3ZSBhbGxvdyBudWxscyBmb3IgQUxMIHByb3BlcnRpZXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FsbCBjbGFtcCB3aXRoIGFsd2F5c0FsbG93RW1wdHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0W2NhY2hlXVtwcm9wLmlkeF0gPSBjbGFtcChyZWRba2V5XSwgcHJvcCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBpczogZnVuY3Rpb24gaXMoY29tcGFyZSkge1xuICAgICAgICAgICAgdmFyIGlzID0gY29sb3IoY29tcGFyZSksXG4gICAgICAgICAgICAgICAgc2FtZSA9IHRydWUsXG4gICAgICAgICAgICAgICAgbXlzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgZWFjaChzcGFjZXMsIGZ1bmN0aW9uIChfLCBzcGFjZSkge1xuICAgICAgICAgICAgICAgIHZhciBpc0NhY2hlID0gaXNbc3BhY2UuY2FjaGVdLFxuICAgICAgICAgICAgICAgICAgICBsb2NhbENhY2hlO1xuICAgICAgICAgICAgICAgIGlmIChpc0NhY2hlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsQ2FjaGUgPSBteXNlbGZbc3BhY2UuY2FjaGVdIHx8IHNwYWNlLnRvICYmIHNwYWNlLnRvKG15c2VsZi5fcmdiYSkgfHwgW107XG4gICAgICAgICAgICAgICAgICAgIGVhY2goc3BhY2UucHJvcHMsIGZ1bmN0aW9uIChfLCBwcm9wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNDYWNoZVtwcm9wLmlkeF0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhbWUgPSBpc0NhY2hlW3Byb3AuaWR4XSA9PSBsb2NhbENhY2hlW3Byb3AuaWR4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2FtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzYW1lO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gc2FtZTtcbiAgICAgICAgfSxcbiAgICAgICAgX3NwYWNlOiBmdW5jdGlvbiBfc3BhY2UoKSB7XG4gICAgICAgICAgICB2YXIgdXNlZCA9IFtdLFxuICAgICAgICAgICAgICAgIGluc3QgPSB0aGlzO1xuICAgICAgICAgICAgZWFjaChzcGFjZXMsIGZ1bmN0aW9uIChzcGFjZU5hbWUsIHNwYWNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGluc3Rbc3BhY2UuY2FjaGVdKSB7XG4gICAgICAgICAgICAgICAgICAgIHVzZWQucHVzaChzcGFjZU5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHVzZWQucG9wKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHRyYW5zaXRpb246IGZ1bmN0aW9uIHRyYW5zaXRpb24ob3RoZXIsIGRpc3RhbmNlKSB7XG4gICAgICAgICAgICB2YXIgZW5kID0gY29sb3Iob3RoZXIpLFxuICAgICAgICAgICAgICAgIHNwYWNlTmFtZSA9IGVuZC5fc3BhY2UoKSxcbiAgICAgICAgICAgICAgICBzcGFjZSA9IHNwYWNlc1tzcGFjZU5hbWVdLFxuICAgICAgICAgICAgICAgIHN0YXJ0ID0gdGhpc1tzcGFjZS5jYWNoZV0gfHwgc3BhY2UudG8odGhpcy5fcmdiYSksXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gc3RhcnQuc2xpY2UoKTtcblxuICAgICAgICAgICAgZW5kID0gZW5kW3NwYWNlLmNhY2hlXTtcbiAgICAgICAgICAgIGVhY2goc3BhY2UucHJvcHMsIGZ1bmN0aW9uIChrZXksIHByb3ApIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBwcm9wLmlkeCxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRWYWx1ZSA9IHN0YXJ0W2luZGV4XSxcbiAgICAgICAgICAgICAgICAgICAgZW5kVmFsdWUgPSBlbmRbaW5kZXhdLFxuICAgICAgICAgICAgICAgICAgICB0eXBlID0gcHJvcFR5cGVzW3Byb3AudHlwZV0gfHwge307XG5cbiAgICAgICAgICAgICAgICAvLyBpZiBudWxsLCBkb24ndCBvdmVycmlkZSBzdGFydCB2YWx1ZVxuICAgICAgICAgICAgICAgIGlmIChlbmRWYWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGlmIG51bGwgLSB1c2UgZW5kXG4gICAgICAgICAgICAgICAgaWYgKHN0YXJ0VmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2luZGV4XSA9IGVuZFZhbHVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlLm1vZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVuZFZhbHVlIC0gc3RhcnRWYWx1ZSA+IHR5cGUubW9kIC8gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0VmFsdWUgKz0gdHlwZS5tb2Q7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXJ0VmFsdWUgLSBlbmRWYWx1ZSA+IHR5cGUubW9kIC8gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0VmFsdWUgLT0gdHlwZS5tb2Q7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W3Byb3AuaWR4XSA9IGNsYW1wKChlbmRWYWx1ZSAtIHN0YXJ0VmFsdWUpICogZGlzdGFuY2UgKyBzdGFydFZhbHVlLCBwcm9wKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzW3NwYWNlTmFtZV0ocmVzdWx0KTtcbiAgICAgICAgfSxcbiAgICAgICAgYmxlbmQ6IGZ1bmN0aW9uIGJsZW5kKG9wYXF1ZSkge1xuICAgICAgICAgICAgLy8gaWYgd2UgYXJlIGFscmVhZHkgb3BhcXVlIC0gcmV0dXJuIG91cnNlbGZcbiAgICAgICAgICAgIGlmICh0aGlzLl9yZ2JhWzNdID09PSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciByZ2IgPSB0aGlzLl9yZ2JhLnNsaWNlKCksXG4gICAgICAgICAgICAgICAgYSA9IHJnYi5wb3AoKSxcbiAgICAgICAgICAgICAgICBibGVuZCA9IGNvbG9yKG9wYXF1ZSkuX3JnYmE7XG5cbiAgICAgICAgICAgIHJldHVybiBjb2xvcihqUXVlcnkubWFwKHJnYiwgZnVuY3Rpb24gKHYsIGkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKDEgLSBhKSAqIGJsZW5kW2ldICsgYSAqIHY7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0sXG4gICAgICAgIHRvUmdiYVN0cmluZzogZnVuY3Rpb24gdG9SZ2JhU3RyaW5nKCkge1xuICAgICAgICAgICAgdmFyIHByZWZpeCA9IFwicmdiYShcIixcbiAgICAgICAgICAgICAgICByZ2JhID0galF1ZXJ5Lm1hcCh0aGlzLl9yZ2JhLCBmdW5jdGlvbiAodiwgaSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2ID09IG51bGwgPyBpID4gMiA/IDEgOiAwIDogdjtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAocmdiYVszXSA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHJnYmEucG9wKCk7XG4gICAgICAgICAgICAgICAgcHJlZml4ID0gXCJyZ2IoXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBwcmVmaXggKyByZ2JhLmpvaW4oXCIsXCIpICsgXCIpXCI7XG4gICAgICAgIH0sXG4gICAgICAgIHRvSHNsYVN0cmluZzogZnVuY3Rpb24gdG9Ic2xhU3RyaW5nKCkge1xuICAgICAgICAgICAgdmFyIHByZWZpeCA9IFwiaHNsYShcIixcbiAgICAgICAgICAgICAgICBoc2xhID0galF1ZXJ5Lm1hcCh0aGlzLmhzbGEoKSwgZnVuY3Rpb24gKHYsIGkpIHtcbiAgICAgICAgICAgICAgICBpZiAodiA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHYgPSBpID4gMiA/IDEgOiAwO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGNhdGNoIDEgYW5kIDJcbiAgICAgICAgICAgICAgICBpZiAoaSAmJiBpIDwgMykge1xuICAgICAgICAgICAgICAgICAgICB2ID0gTWF0aC5yb3VuZCh2ICogMTAwKSArIFwiJVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdjtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoaHNsYVszXSA9PSAxKSB7XG4gICAgICAgICAgICAgICAgaHNsYS5wb3AoKTtcbiAgICAgICAgICAgICAgICBwcmVmaXggPSBcImhzbChcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwcmVmaXggKyBoc2xhLmpvaW4oXCIsXCIpICsgXCIpXCI7XG4gICAgICAgIH0sXG4gICAgICAgIHRvSGV4U3RyaW5nOiBmdW5jdGlvbiB0b0hleFN0cmluZyhpbmNsdWRlQWxwaGEpIHtcbiAgICAgICAgICAgIHZhciByZ2JhID0gdGhpcy5fcmdiYS5zbGljZSgpLFxuICAgICAgICAgICAgICAgIGFscGhhID0gcmdiYS5wb3AoKTtcblxuICAgICAgICAgICAgaWYgKGluY2x1ZGVBbHBoYSkge1xuICAgICAgICAgICAgICAgIHJnYmEucHVzaCh+IH4oYWxwaGEgKiAyNTUpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIFwiI1wiICsgalF1ZXJ5Lm1hcChyZ2JhLCBmdW5jdGlvbiAodiwgaSkge1xuXG4gICAgICAgICAgICAgICAgLy8gZGVmYXVsdCB0byAwIHdoZW4gbnVsbHMgZXhpc3RcbiAgICAgICAgICAgICAgICB2ID0gKHYgfHwgMCkudG9TdHJpbmcoMTYpO1xuICAgICAgICAgICAgICAgIHJldHVybiB2Lmxlbmd0aCA9PSAxID8gXCIwXCIgKyB2IDogdjtcbiAgICAgICAgICAgIH0pLmpvaW4oXCJcIik7XG4gICAgICAgIH0sXG4gICAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZ2JhWzNdID09PSAwID8gXCJ0cmFuc3BhcmVudFwiIDogdGhpcy50b1JnYmFTdHJpbmcoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29sb3IuZm4ucGFyc2UucHJvdG90eXBlID0gY29sb3IuZm47XG5cbiAgICAvLyBoc2xhIGNvbnZlcnNpb25zIGFkYXB0ZWQgZnJvbTpcbiAgICAvLyBodHRwOi8vd3d3Lmdvb2dsZS5jb20vY29kZXNlYXJjaC9wI09BTWx4X2pvLWNrL3NyYy90aGlyZF9wYXJ0eS9XZWJLaXQvU291cmNlL1dlYkNvcmUvaW5zcGVjdG9yL2Zyb250LWVuZC9Db2xvci5qcyZkPTcmbD0xOTNcblxuICAgIGZ1bmN0aW9uIGh1ZTJyZ2IocCwgcSwgaCkge1xuICAgICAgICBoID0gKGggKyAxKSAlIDE7XG4gICAgICAgIGlmIChoICogNiA8IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBwICsgKHEgLSBwKSAqIDYgKiBoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoICogMiA8IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBxO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoICogMyA8IDIpIHtcbiAgICAgICAgICAgIHJldHVybiBwICsgKHEgLSBwKSAqICgyIC8gMyAtIGgpICogNjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcDtcbiAgICB9XG5cbiAgICBzcGFjZXMuaHNsYS50byA9IGZ1bmN0aW9uIChyZ2JhKSB7XG4gICAgICAgIGlmIChyZ2JhWzBdID09IG51bGwgfHwgcmdiYVsxXSA9PSBudWxsIHx8IHJnYmFbMl0gPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIFtudWxsLCBudWxsLCBudWxsLCByZ2JhWzNdXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgciA9IHJnYmFbMF0gLyAyNTUsXG4gICAgICAgICAgICBnID0gcmdiYVsxXSAvIDI1NSxcbiAgICAgICAgICAgIGIgPSByZ2JhWzJdIC8gMjU1LFxuICAgICAgICAgICAgYSA9IHJnYmFbM10sXG4gICAgICAgICAgICBtYXggPSBNYXRoLm1heChyLCBnLCBiKSxcbiAgICAgICAgICAgIG1pbiA9IE1hdGgubWluKHIsIGcsIGIpLFxuICAgICAgICAgICAgZGlmZiA9IG1heCAtIG1pbixcbiAgICAgICAgICAgIGFkZCA9IG1heCArIG1pbixcbiAgICAgICAgICAgIGwgPSBhZGQgKiAwLjUsXG4gICAgICAgICAgICBoLFxuICAgICAgICAgICAgcztcblxuICAgICAgICBpZiAobWluID09PSBtYXgpIHtcbiAgICAgICAgICAgIGggPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKHIgPT09IG1heCkge1xuICAgICAgICAgICAgaCA9IDYwICogKGcgLSBiKSAvIGRpZmYgKyAzNjA7XG4gICAgICAgIH0gZWxzZSBpZiAoZyA9PT0gbWF4KSB7XG4gICAgICAgICAgICBoID0gNjAgKiAoYiAtIHIpIC8gZGlmZiArIDEyMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGggPSA2MCAqIChyIC0gZykgLyBkaWZmICsgMjQwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGwgPT09IDAgfHwgbCA9PT0gMSkge1xuICAgICAgICAgICAgcyA9IGw7XG4gICAgICAgIH0gZWxzZSBpZiAobCA8PSAwLjUpIHtcbiAgICAgICAgICAgIHMgPSBkaWZmIC8gYWRkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcyA9IGRpZmYgLyAoMiAtIGFkZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtNYXRoLnJvdW5kKGgpICUgMzYwLCBzLCBsLCBhID09IG51bGwgPyAxIDogYV07XG4gICAgfTtcblxuICAgIHNwYWNlcy5oc2xhLmZyb20gPSBmdW5jdGlvbiAoaHNsYSkge1xuICAgICAgICBpZiAoaHNsYVswXSA9PSBudWxsIHx8IGhzbGFbMV0gPT0gbnVsbCB8fCBoc2xhWzJdID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBbbnVsbCwgbnVsbCwgbnVsbCwgaHNsYVszXV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGggPSBoc2xhWzBdIC8gMzYwLFxuICAgICAgICAgICAgcyA9IGhzbGFbMV0sXG4gICAgICAgICAgICBsID0gaHNsYVsyXSxcbiAgICAgICAgICAgIGEgPSBoc2xhWzNdLFxuICAgICAgICAgICAgcSA9IGwgPD0gMC41ID8gbCAqICgxICsgcykgOiBsICsgcyAtIGwgKiBzLFxuICAgICAgICAgICAgcCA9IDIgKiBsIC0gcSxcbiAgICAgICAgICAgIHIsXG4gICAgICAgICAgICBnLFxuICAgICAgICAgICAgYjtcblxuICAgICAgICByZXR1cm4gW01hdGgucm91bmQoaHVlMnJnYihwLCBxLCBoICsgMSAvIDMpICogMjU1KSwgTWF0aC5yb3VuZChodWUycmdiKHAsIHEsIGgpICogMjU1KSwgTWF0aC5yb3VuZChodWUycmdiKHAsIHEsIGggLSAxIC8gMykgKiAyNTUpLCBhXTtcbiAgICB9O1xuXG4gICAgZWFjaChzcGFjZXMsIGZ1bmN0aW9uIChzcGFjZU5hbWUsIHNwYWNlKSB7XG4gICAgICAgIHZhciBwcm9wcyA9IHNwYWNlLnByb3BzLFxuICAgICAgICAgICAgY2FjaGUgPSBzcGFjZS5jYWNoZSxcbiAgICAgICAgICAgIHRvID0gc3BhY2UudG8sXG4gICAgICAgICAgICBmcm9tID0gc3BhY2UuZnJvbTtcblxuICAgICAgICAvLyBtYWtlcyByZ2JhKCkgYW5kIGhzbGEoKVxuICAgICAgICBjb2xvci5mbltzcGFjZU5hbWVdID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cbiAgICAgICAgICAgIC8vIGdlbmVyYXRlIGEgY2FjaGUgZm9yIHRoaXMgc3BhY2UgaWYgaXQgZG9lc24ndCBleGlzdFxuICAgICAgICAgICAgaWYgKHRvICYmICF0aGlzW2NhY2hlXSkge1xuICAgICAgICAgICAgICAgIHRoaXNbY2FjaGVdID0gdG8odGhpcy5fcmdiYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW2NhY2hlXS5zbGljZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgdHlwZSA9IGpRdWVyeS50eXBlKHZhbHVlKSxcbiAgICAgICAgICAgICAgICBhcnIgPSB0eXBlID09PSBcImFycmF5XCIgfHwgdHlwZSA9PT0gXCJvYmplY3RcIiA/IHZhbHVlIDogYXJndW1lbnRzLFxuICAgICAgICAgICAgICAgIGxvY2FsID0gdGhpc1tjYWNoZV0uc2xpY2UoKSxcbiAgICAgICAgICAgICAgICByZXQ7XG5cbiAgICAgICAgICAgIGVhY2gocHJvcHMsIGZ1bmN0aW9uIChrZXksIHByb3ApIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsID0gYXJyW3R5cGUgPT09IFwib2JqZWN0XCIgPyBrZXkgOiBwcm9wLmlkeF07XG4gICAgICAgICAgICAgICAgaWYgKHZhbCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbCA9IGxvY2FsW3Byb3AuaWR4XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbG9jYWxbcHJvcC5pZHhdID0gY2xhbXAodmFsLCBwcm9wKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoZnJvbSkge1xuICAgICAgICAgICAgICAgIHJldCA9IGNvbG9yKGZyb20obG9jYWwpKTtcbiAgICAgICAgICAgICAgICByZXRbY2FjaGVdID0gbG9jYWw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yKGxvY2FsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBtYWtlcyByZWQoKSBncmVlbigpIGJsdWUoKSBhbHBoYSgpIGh1ZSgpIHNhdHVyYXRpb24oKSBsaWdodG5lc3MoKVxuICAgICAgICBlYWNoKHByb3BzLCBmdW5jdGlvbiAoa2V5LCBwcm9wKSB7XG4gICAgICAgICAgICAvLyBhbHBoYSBpcyBpbmNsdWRlZCBpbiBtb3JlIHRoYW4gb25lIHNwYWNlXG4gICAgICAgICAgICBpZiAoY29sb3IuZm5ba2V5XSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbG9yLmZuW2tleV0gPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdnR5cGUgPSBqUXVlcnkudHlwZSh2YWx1ZSksXG4gICAgICAgICAgICAgICAgICAgIGZuID0ga2V5ID09PSAnYWxwaGEnID8gdGhpcy5faHNsYSA/ICdoc2xhJyA6ICdyZ2JhJyA6IHNwYWNlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgbG9jYWwgPSB0aGlzW2ZuXSgpLFxuICAgICAgICAgICAgICAgICAgICBjdXIgPSBsb2NhbFtwcm9wLmlkeF0sXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoO1xuXG4gICAgICAgICAgICAgICAgaWYgKHZ0eXBlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHZ0eXBlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5jYWxsKHRoaXMsIGN1cik7XG4gICAgICAgICAgICAgICAgICAgIHZ0eXBlID0galF1ZXJ5LnR5cGUodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCAmJiBwcm9wLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodnR5cGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2ggPSBycGx1c2VxdWFscy5leGVjKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGN1ciArIHBhcnNlRmxvYXQobWF0Y2hbMl0pICogKG1hdGNoWzFdID09PSBcIitcIiA/IDEgOiAtMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbG9jYWxbcHJvcC5pZHhdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNbZm5dKGxvY2FsKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gYWRkIC5meC5zdGVwIGZ1bmN0aW9uc1xuICAgIGVhY2goc3RlcEhvb2tzLCBmdW5jdGlvbiAoaSwgaG9vaykge1xuICAgICAgICBqUXVlcnkuY3NzSG9va3NbaG9va10gPSB7XG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChlbGVtLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHZhciBwYXJzZWQ7XG5cbiAgICAgICAgICAgICAgICBpZiAoalF1ZXJ5LnR5cGUodmFsdWUpICE9PSAnc3RyaW5nJyB8fCAocGFyc2VkID0gc3RyaW5nUGFyc2UodmFsdWUpKSkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGNvbG9yKHBhcnNlZCB8fCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc3VwcG9ydC5yZ2JhICYmIHZhbHVlLl9yZ2JhWzNdICE9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYmFja2dyb3VuZENvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckVsZW0gPSBob29rID09PSBcImJhY2tncm91bmRDb2xvclwiID8gZWxlbS5wYXJlbnROb2RlIDogZWxlbTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3IgPSBqUXVlcnkuY3VyQ1NTKGN1ckVsZW0sIFwiYmFja2dyb3VuZENvbG9yXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoKGJhY2tncm91bmRDb2xvciA9PT0gXCJcIiB8fCBiYWNrZ3JvdW5kQ29sb3IgPT09IFwidHJhbnNwYXJlbnRcIikgJiYgKGN1ckVsZW0gPSBjdXJFbGVtLnBhcmVudE5vZGUpICYmIGN1ckVsZW0uc3R5bGUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLmJsZW5kKGJhY2tncm91bmRDb2xvciAmJiBiYWNrZ3JvdW5kQ29sb3IgIT09IFwidHJhbnNwYXJlbnRcIiA/IGJhY2tncm91bmRDb2xvciA6IFwiX2RlZmF1bHRcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnRvUmdiYVN0cmluZygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbGVtLnN0eWxlW2hvb2tdID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGpRdWVyeS5meC5zdGVwW2hvb2tdID0gZnVuY3Rpb24gKGZ4KSB7XG4gICAgICAgICAgICBpZiAoIWZ4LmNvbG9ySW5pdCkge1xuICAgICAgICAgICAgICAgIGZ4LnN0YXJ0ID0gY29sb3IoZnguZWxlbSwgaG9vayk7XG4gICAgICAgICAgICAgICAgZnguZW5kID0gY29sb3IoZnguZW5kKTtcbiAgICAgICAgICAgICAgICBmeC5jb2xvckluaXQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgalF1ZXJ5LmNzc0hvb2tzW2hvb2tdLnNldChmeC5lbGVtLCBmeC5zdGFydC50cmFuc2l0aW9uKGZ4LmVuZCwgZngucG9zKSk7XG4gICAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBkZXRlY3QgcmdiYSBzdXBwb3J0XG4gICAgalF1ZXJ5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgICAgICAgICBkaXZfc3R5bGUgPSBkaXYuc3R5bGU7XG5cbiAgICAgICAgZGl2X3N0eWxlLmNzc1RleHQgPSBcImJhY2tncm91bmQtY29sb3I6cmdiYSgxLDEsMSwuNSlcIjtcbiAgICAgICAgc3VwcG9ydC5yZ2JhID0gZGl2X3N0eWxlLmJhY2tncm91bmRDb2xvci5pbmRleE9mKFwicmdiYVwiKSA+IC0xO1xuICAgIH0pO1xuXG4gICAgLy8gU29tZSBuYW1lZCBjb2xvcnMgdG8gd29yayB3aXRoXG4gICAgLy8gRnJvbSBJbnRlcmZhY2UgYnkgU3RlZmFuIFBldHJlXG4gICAgLy8gaHR0cDovL2ludGVyZmFjZS5leWVjb24ucm8vXG4gICAgY29sb3JzID0galF1ZXJ5LkNvbG9yLm5hbWVzID0ge1xuICAgICAgICBhcXVhOiBcIiMwMGZmZmZcIixcbiAgICAgICAgYXp1cmU6IFwiI2YwZmZmZlwiLFxuICAgICAgICBiZWlnZTogXCIjZjVmNWRjXCIsXG4gICAgICAgIGJsYWNrOiBcIiMwMDAwMDBcIixcbiAgICAgICAgYmx1ZTogXCIjMDAwMGZmXCIsXG4gICAgICAgIGJyb3duOiBcIiNhNTJhMmFcIixcbiAgICAgICAgY3lhbjogXCIjMDBmZmZmXCIsXG4gICAgICAgIGRhcmtibHVlOiBcIiMwMDAwOGJcIixcbiAgICAgICAgZGFya2N5YW46IFwiIzAwOGI4YlwiLFxuICAgICAgICBkYXJrZ3JleTogXCIjYTlhOWE5XCIsXG4gICAgICAgIGRhcmtncmVlbjogXCIjMDA2NDAwXCIsXG4gICAgICAgIGRhcmtraGFraTogXCIjYmRiNzZiXCIsXG4gICAgICAgIGRhcmttYWdlbnRhOiBcIiM4YjAwOGJcIixcbiAgICAgICAgZGFya29saXZlZ3JlZW46IFwiIzU1NmIyZlwiLFxuICAgICAgICBkYXJrb3JhbmdlOiBcIiNmZjhjMDBcIixcbiAgICAgICAgZGFya29yY2hpZDogXCIjOTkzMmNjXCIsXG4gICAgICAgIGRhcmtyZWQ6IFwiIzhiMDAwMFwiLFxuICAgICAgICBkYXJrc2FsbW9uOiBcIiNlOTk2N2FcIixcbiAgICAgICAgZGFya3Zpb2xldDogXCIjOTQwMGQzXCIsXG4gICAgICAgIGZ1Y2hzaWE6IFwiI2ZmMDBmZlwiLFxuICAgICAgICBnb2xkOiBcIiNmZmQ3MDBcIixcbiAgICAgICAgZ3JlZW46IFwiIzAwODAwMFwiLFxuICAgICAgICBpbmRpZ286IFwiIzRiMDA4MlwiLFxuICAgICAgICBraGFraTogXCIjZjBlNjhjXCIsXG4gICAgICAgIGxpZ2h0Ymx1ZTogXCIjYWRkOGU2XCIsXG4gICAgICAgIGxpZ2h0Y3lhbjogXCIjZTBmZmZmXCIsXG4gICAgICAgIGxpZ2h0Z3JlZW46IFwiIzkwZWU5MFwiLFxuICAgICAgICBsaWdodGdyZXk6IFwiI2QzZDNkM1wiLFxuICAgICAgICBsaWdodHBpbms6IFwiI2ZmYjZjMVwiLFxuICAgICAgICBsaWdodHllbGxvdzogXCIjZmZmZmUwXCIsXG4gICAgICAgIGxpbWU6IFwiIzAwZmYwMFwiLFxuICAgICAgICBtYWdlbnRhOiBcIiNmZjAwZmZcIixcbiAgICAgICAgbWFyb29uOiBcIiM4MDAwMDBcIixcbiAgICAgICAgbmF2eTogXCIjMDAwMDgwXCIsXG4gICAgICAgIG9saXZlOiBcIiM4MDgwMDBcIixcbiAgICAgICAgb3JhbmdlOiBcIiNmZmE1MDBcIixcbiAgICAgICAgcGluazogXCIjZmZjMGNiXCIsXG4gICAgICAgIHB1cnBsZTogXCIjODAwMDgwXCIsXG4gICAgICAgIHZpb2xldDogXCIjODAwMDgwXCIsXG4gICAgICAgIHJlZDogXCIjZmYwMDAwXCIsXG4gICAgICAgIHNpbHZlcjogXCIjYzBjMGMwXCIsXG4gICAgICAgIHdoaXRlOiBcIiNmZmZmZmZcIixcbiAgICAgICAgeWVsbG93OiBcIiNmZmZmMDBcIixcbiAgICAgICAgdHJhbnNwYXJlbnQ6IFtudWxsLCBudWxsLCBudWxsLCAwXSxcbiAgICAgICAgX2RlZmF1bHQ6IFwiI2ZmZmZmZlwiXG4gICAgfTtcbn0pKGpRdWVyeSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
