"use strict";!function(r,n){function t(r,n,t){var e=c[n.type]||{},a=n.empty||t;return a&&null==r?null:n.def&&null==r?n.def:(r=e.floor?~~r:parseFloat(r),null==r||isNaN(r)?n.def:e.mod?(r%=e.mod,0>r?e.mod+r:r):e.min>r?e.min:e.max<r?e.max:r)}function e(n){var t=f(),e=t._rgba=[];return n=n.toLowerCase(),h(l,function(r,a){var o,i=a.re.exec(n),s=i&&a.parse(i),l=a.space||"rgba",f=u[l].cache;return s?(o=t[l](s),t[f]=o[f],e=t._rgba=o._rgba,!1):void 0}),0!==e.length?(0===Math.max.apply(Math,e)&&r.extend(e,o.transparent),t):(n=o[n])?n:void 0}function a(r,n,t){return t=(t+1)%1,1>6*t?r+6*(n-r)*t:1>2*t?n:2>3*t?r+(n-r)*(2/3-t)*6:r}var o,i="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color outlineColor".split(" "),s=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(r){return[r[1],r[2],r[3],r[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(r){return[2.55*r[1],2.55*r[2],2.55*r[3],r[4]]}},{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(r){return[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)]}},{re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,parse:function(r){return[parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16),parseInt(r[3]+r[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(r){return[r[1],r[2]/100,r[3]/100,r[4]]}}],f=r.Color=function(n,t,e,a){return new r.Color.fn.parse(n,t,e,a)},u={rgba:{cache:"_rgba",props:{red:{idx:0,type:"byte",empty:!0},green:{idx:1,type:"byte",empty:!0},blue:{idx:2,type:"byte",empty:!0},alpha:{idx:3,type:"percent",def:1}}},hsla:{cache:"_hsla",props:{hue:{idx:0,type:"degrees",empty:!0},saturation:{idx:1,type:"percent",empty:!0},lightness:{idx:2,type:"percent",empty:!0}}}},c={"byte":{floor:!0,min:0,max:255},percent:{min:0,max:1},degrees:{mod:360,floor:!0}},d=u.rgba.props,p=f.support={},h=r.each;u.hsla.props.alpha=d.alpha,f.fn=f.prototype={constructor:f,parse:function(a,i,s,l){if(a===n)return this._rgba=[null,null,null,null],this;(a instanceof r||a.nodeType)&&(a=a instanceof r?a.css(i):r(a).css(i),i=n);var c=this,p=r.type(a),g=this._rgba=[];return i!==n&&(a=[a,i,s,l],p="array"),"string"===p?this.parse(e(a)||o._default):"array"===p?(h(d,function(r,n){g[n.idx]=t(a[n.idx],n)}),this):"object"===p?(a instanceof f?h(u,function(r,n){a[n.cache]&&(c[n.cache]=a[n.cache].slice())}):h(u,function(r,n){h(n.props,function(r,e){var o=n.cache;if(!c[o]&&n.to){if(null==a[r]||"alpha"===r)return;c[o]=n.to(c._rgba)}c[o][e.idx]=t(a[r],e,!0)})}),this):void 0},is:function g(r){var g=f(r),n=!0,t=this;return h(u,function(r,e){var a,o=g[e.cache];return o&&(a=t[e.cache]||e.to&&e.to(t._rgba)||[],h(e.props,function(r,t){return null!=o[t.idx]?n=o[t.idx]==a[t.idx]:void 0})),n}),n},_space:function(){var r=[],n=this;return h(u,function(t,e){n[e.cache]&&r.push(t)}),r.pop()},transition:function(r,n){var e=f(r),a=e._space(),o=u[a],i=this[o.cache]||o.to(this._rgba),s=i.slice();return e=e[o.cache],h(o.props,function(r,a){var o=a.idx,l=i[o],f=e[o],u=c[a.type]||{};null!==f&&(null===l?s[o]=f:(u.mod&&(f-l>u.mod/2?l+=u.mod:l-f>u.mod/2&&(l-=u.mod)),s[a.idx]=t((f-l)*n+l,a)))}),this[a](s)},blend:function b(n){if(1===this._rgba[3])return this;var t=this._rgba.slice(),e=t.pop(),b=f(n)._rgba;return f(r.map(t,function(r,n){return(1-e)*b[n]+e*r}))},toRgbaString:function(){var n="rgba(",t=r.map(this._rgba,function(r,n){return null==r?n>2?1:0:r});return 1===t[3]&&(t.pop(),n="rgb("),n+t.join(",")+")"},toHslaString:function(){var n="hsla(",t=r.map(this.hsla(),function(r,n){return null==r&&(r=n>2?1:0),n&&3>n&&(r=Math.round(100*r)+"%"),r});return 1==t[3]&&(t.pop(),n="hsl("),n+t.join(",")+")"},toHexString:function(n){var t=this._rgba.slice(),e=t.pop();return n&&t.push(~~(255*e)),"#"+r.map(t,function(r,n){return r=(r||0).toString(16),1==r.length?"0"+r:r}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}},f.fn.parse.prototype=f.fn,u.hsla.to=function(r){if(null==r[0]||null==r[1]||null==r[2])return[null,null,null,r[3]];var n,t,e=r[0]/255,a=r[1]/255,o=r[2]/255,i=r[3],s=Math.max(e,a,o),l=Math.min(e,a,o),f=s-l,u=s+l,c=.5*u;return n=l===s?0:e===s?60*(a-o)/f+360:a===s?60*(o-e)/f+120:60*(e-a)/f+240,t=0===c||1===c?c:.5>=c?f/u:f/(2-u),[Math.round(n)%360,t,c,null==i?1:i]},u.hsla.from=function(r){if(null==r[0]||null==r[1]||null==r[2])return[null,null,null,r[3]];var n=r[0]/360,t=r[1],e=r[2],o=r[3],i=.5>=e?e*(1+t):e+t-e*t,s=2*e-i;return[Math.round(255*a(s,i,n+1/3)),Math.round(255*a(s,i,n)),Math.round(255*a(s,i,n-1/3)),o]},h(u,function(e,a){var o=a.props,i=a.cache,l=a.to,u=a.from;f.fn[e]=function(e){if(l&&!this[i]&&(this[i]=l(this._rgba)),e===n)return this[i].slice();var a,s=r.type(e),c="array"===s||"object"===s?e:arguments,d=this[i].slice();return h(o,function(r,n){var e=c["object"===s?r:n.idx];null==e&&(e=d[n.idx]),d[n.idx]=t(e,n)}),u?(a=f(u(d)),a[i]=d,a):f(d)},h(o,function(n,t){f.fn[n]||(f.fn[n]=function(a){var o,i=r.type(a),l="alpha"===n?this._hsla?"hsla":"rgba":e,f=this[l](),u=f[t.idx];return"undefined"===i?u:("function"===i&&(a=a.call(this,u),i=r.type(a)),null==a&&t.empty?this:("string"===i&&(o=s.exec(a),o&&(a=u+parseFloat(o[2])*("+"===o[1]?1:-1))),f[t.idx]=a,this[l](f)))})})}),h(i,function(n,t){r.cssHooks[t]={set:function(n,a){var o;if("string"!==r.type(a)||(o=e(a))){if(a=f(o||a),!p.rgba&&1!==a._rgba[3]){var i,s="backgroundColor"===t?n.parentNode:n;do i=r.curCSS(s,"backgroundColor");while((""===i||"transparent"===i)&&(s=s.parentNode)&&s.style);a=a.blend(i&&"transparent"!==i?i:"_default")}a=a.toRgbaString()}n.style[t]=a}},r.fx.step[t]=function(n){n.colorInit||(n.start=f(n.elem,t),n.end=f(n.end),n.colorInit=!0),r.cssHooks[t].set(n.elem,n.start.transition(n.end,n.pos))}}),r(function(){var r=document.createElement("div"),n=r.style;n.cssText="background-color:rgba(1,1,1,.5)",p.rgba=n.backgroundColor.indexOf("rgba")>-1}),o=r.Color.names={aqua:"#00ffff",azure:"#f0ffff",beige:"#f5f5dc",black:"#000000",blue:"#0000ff",brown:"#a52a2a",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkviolet:"#9400d3",fuchsia:"#ff00ff",gold:"#ffd700",green:"#008000",indigo:"#4b0082",khaki:"#f0e68c",lightblue:"#add8e6",lightcyan:"#e0ffff",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightyellow:"#ffffe0",lime:"#00ff00",magenta:"#ff00ff",maroon:"#800000",navy:"#000080",olive:"#808000",orange:"#ffa500",pink:"#ffc0cb",purple:"#800080",violet:"#800080",red:"#ff0000",silver:"#c0c0c0",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYnJhcnkvanMvbGlicy9qcXVlcnkuY29sb3IuanMiXSwibmFtZXMiOlsialF1ZXJ5IiwidW5kZWZpbmVkIiwiY2xhbXAiLCJ2YWx1ZSIsInByb3AiLCJhbHdheXNBbGxvd0VtcHR5IiwidHlwZSIsInByb3BUeXBlcyIsImFsbG93RW1wdHkiLCJlbXB0eSIsImRlZiIsImZsb29yIiwicGFyc2VGbG9hdCIsImlzTmFOIiwibW9kIiwibWluIiwibWF4Iiwic3RyaW5nUGFyc2UiLCJzdHJpbmciLCJpbnN0IiwiY29sb3IiLCJyZ2JhIiwiX3JnYmEiLCJ0b0xvd2VyQ2FzZSIsImVhY2giLCJzdHJpbmdQYXJzZXJzIiwiaSIsInBhcnNlciIsInBhcnNlZCIsIm1hdGNoIiwicmUiLCJleGVjIiwidmFsdWVzIiwicGFyc2UiLCJzcGFjZU5hbWUiLCJzcGFjZSIsImNhY2hlIiwic3BhY2VzIiwibGVuZ3RoIiwiTWF0aCIsImFwcGx5IiwiZXh0ZW5kIiwiY29sb3JzIiwidHJhbnNwYXJlbnQiLCJodWUycmdiIiwicCIsInEiLCJoIiwic3RlcEhvb2tzIiwic3BsaXQiLCJycGx1c2VxdWFscyIsImV4ZWNSZXN1bHQiLCJwYXJzZUludCIsIkNvbG9yIiwiZ3JlZW4iLCJibHVlIiwiYWxwaGEiLCJmbiIsInByb3BzIiwicmVkIiwiaWR4IiwiaHNsYSIsImh1ZSIsInNhdHVyYXRpb24iLCJsaWdodG5lc3MiLCJieXRlIiwicGVyY2VudCIsImRlZ3JlZXMiLCJyZ2Jhc3BhY2UiLCJzdXBwb3J0IiwicHJvdG90eXBlIiwiY29uc3RydWN0b3IiLCJ0aGlzIiwibm9kZVR5cGUiLCJjc3MiLCJfZGVmYXVsdCIsImtleSIsInNsaWNlIiwidG8iLCJpcyIsImNvbXBhcmUiLCJzYW1lIiwibXlzZWxmIiwiXyIsImxvY2FsQ2FjaGUiLCJpc0NhY2hlIiwiX3NwYWNlIiwidXNlZCIsInB1c2giLCJwb3AiLCJ0cmFuc2l0aW9uIiwib3RoZXIiLCJkaXN0YW5jZSIsImVuZCIsInN0YXJ0IiwicmVzdWx0IiwiaW5kZXgiLCJzdGFydFZhbHVlIiwiZW5kVmFsdWUiLCJibGVuZCIsIm9wYXF1ZSIsInJnYiIsImEiLCJtYXAiLCJ2IiwidG9SZ2JhU3RyaW5nIiwicHJlZml4Iiwiam9pbiIsInRvSHNsYVN0cmluZyIsInJvdW5kIiwidG9IZXhTdHJpbmciLCJpbmNsdWRlQWxwaGEiLCJ0b1N0cmluZyIsInMiLCJyIiwiZyIsImIiLCJkaWZmIiwiYWRkIiwibCIsImZyb20iLCJyZXQiLCJhcnIiLCJhcmd1bWVudHMiLCJsb2NhbCIsInZhbCIsInZ0eXBlIiwiX2hzbGEiLCJjdXIiLCJjYWxsIiwiaG9vayIsImNzc0hvb2tzIiwic2V0IiwiZWxlbSIsImJhY2tncm91bmRDb2xvciIsImN1ckVsZW0iLCJwYXJlbnROb2RlIiwiY3VyQ1NTIiwic3R5bGUiLCJmeCIsInN0ZXAiLCJjb2xvckluaXQiLCJwb3MiLCJkaXYiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJkaXZfc3R5bGUiLCJjc3NUZXh0IiwiaW5kZXhPZiIsIm5hbWVzIiwiYXF1YSIsImF6dXJlIiwiYmVpZ2UiLCJibGFjayIsImJyb3duIiwiY3lhbiIsImRhcmtibHVlIiwiZGFya2N5YW4iLCJkYXJrZ3JleSIsImRhcmtncmVlbiIsImRhcmtraGFraSIsImRhcmttYWdlbnRhIiwiZGFya29saXZlZ3JlZW4iLCJkYXJrb3JhbmdlIiwiZGFya29yY2hpZCIsImRhcmtyZWQiLCJkYXJrc2FsbW9uIiwiZGFya3Zpb2xldCIsImZ1Y2hzaWEiLCJnb2xkIiwiaW5kaWdvIiwia2hha2kiLCJsaWdodGJsdWUiLCJsaWdodGN5YW4iLCJsaWdodGdyZWVuIiwibGlnaHRncmV5IiwibGlnaHRwaW5rIiwibGlnaHR5ZWxsb3ciLCJsaW1lIiwibWFnZW50YSIsIm1hcm9vbiIsIm5hdnkiLCJvbGl2ZSIsIm9yYW5nZSIsInBpbmsiLCJwdXJwbGUiLCJ2aW9sZXQiLCJzaWx2ZXIiLCJ3aGl0ZSIsInllbGxvdyJdLCJtYXBwaW5ncyI6IkFBQUEsY0FhQSxTQUFXQSxFQUFRQyxHQXFIZixRQUFTQyxHQUFNQyxFQUFPQyxFQUFNQyxHQUN4QixHQUFJQyxHQUFPQyxFQUFVSCxFQUFLRSxVQUN0QkUsRUFBYUosRUFBS0ssT0FBU0osQ0FFL0IsT0FBSUcsSUFBdUIsTUFBVEwsRUFDUCxLQUVQQyxFQUFLTSxLQUFnQixNQUFUUCxFQUNMQyxFQUFLTSxLQUdaUCxFQURBRyxFQUFLSyxRQUNLUixFQUVGUyxXQUFXVCxHQUVWLE1BQVRBLEdBQWlCVSxNQUFNVixHQUNoQkMsRUFBS00sSUFFWkosRUFBS1EsS0FDTFgsR0FBZ0JHLEVBQUtRLElBRU4sRUFBUlgsRUFBWUcsRUFBS1EsSUFBTVgsRUFBUUEsR0FJbkNHLEVBQUtTLElBQU1aLEVBQVFHLEVBQUtTLElBQU1ULEVBQUtVLElBQU1iLEVBQVFHLEVBQUtVLElBQU1iLEdBR3ZFLFFBQVNjLEdBQVlDLEdBQ2pCLEdBQUlDLEdBQU9DLElBQ1BDLEVBQU9GLEVBQUtHLFFBRlMsT0FJekJKLEdBQVNBLEVBQU9LLGNBRWhCQyxFQUFLQyxFQUFlLFNBQVVDLEVBQUdDLEdBQzdCLEdBRUlDLEdBRkFDLEVBQVFGLEVBQU9HLEdBQUdDLEtBQUtiLEdBQ3ZCYyxFQUFTSCxHQUFTRixFQUFPTSxNQUFNSixHQUUvQkssRUFBWVAsRUFBT1EsT0FBUyxPQUM1QkMsRUFBUUMsRUFBT0gsR0FBV0UsS0FFOUIsT0FBSUosSUFDQUosRUFBU1QsRUFBS2UsR0FBV0YsR0FEakJiLEVBS0hpQixHQUFTUixFQUFPUSxHQUNyQmYsRUFBT0YsRUFBS0csTUFBUU0sRUFBT04sT0FHcEIsR0FUWCxTQWNnQixJQUFoQkQsRUFBS2lCLFFBSThCLElBQS9CQyxLQUFLdkIsSUFBSXdCLE1BQU1ELEtBQU1sQixJQUNyQnJCLEVBQU95QyxPQUFPcEIsRUFBTXFCLEVBQU9DLGFBRXhCeEIsSUFJUEQsRUFBU3dCLEVBQU94QixJQUNUQSxFQXZDYyxPQWpKSCxRQXNZakIwQixHQUFRQyxFQUFHQyxFQUFHQyxHQUVuQixNQURBQSxJQUFLQSxFQUFJLEdBQUssRUFDRixFQUFKLEVBQUpBLEVBQ09GLEVBQWMsR0FBVEMsRUFBSUQsR0FBU0UsRUFFakIsRUFBSixFQUFKQSxFQUNPRCxFQUVDLEVBQUosRUFBSkMsRUFDT0YsR0FBS0MsRUFBSUQsSUFBTSxFQUFJLEVBQUlFLEdBQUssRUFFaENGLEVBaFpYLEdBNEdJSCxHQTVHQU0sRUFBWSx1R0FBdUdDLE1BQU0sS0FJekhDLEVBQWMsMEJBSWR6QixJQUNJSyxHQUFJLHNGQUNKRyxNQUFPLFNBQWVrQixHQUNsQixPQUFRQSxFQUFXLEdBQUlBLEVBQVcsR0FBSUEsRUFBVyxHQUFJQSxFQUFXLE9BR3BFckIsR0FBSSw4R0FDSkcsTUFBTyxTQUFla0IsR0FDbEIsT0FBUSxLQUFPQSxFQUFXLEdBQUksS0FBT0EsRUFBVyxHQUFJLEtBQU9BLEVBQVcsR0FBSUEsRUFBVyxPQUd6RnJCLEdBQUksb0RBQ0pHLE1BQU8sU0FBZWtCLEdBQ2xCLE9BQVFDLFNBQVNELEVBQVcsR0FBSSxJQUFLQyxTQUFTRCxFQUFXLEdBQUksSUFBS0MsU0FBU0QsRUFBVyxHQUFJLFFBRzlGckIsR0FBSSwyQ0FDSkcsTUFBTyxTQUFla0IsR0FDbEIsT0FBUUMsU0FBU0QsRUFBVyxHQUFLQSxFQUFXLEdBQUksSUFBS0MsU0FBU0QsRUFBVyxHQUFLQSxFQUFXLEdBQUksSUFBS0MsU0FBU0QsRUFBVyxHQUFLQSxFQUFXLEdBQUksUUFHOUlyQixHQUFJLDRHQUNKSyxNQUFPLE9BQ1BGLE1BQU8sU0FBZWtCLEdBQ2xCLE9BQVFBLEVBQVcsR0FBSUEsRUFBVyxHQUFLLElBQUtBLEVBQVcsR0FBSyxJQUFLQSxFQUFXLE9BTXBGL0IsRUFBUXBCLEVBQU9xRCxNQUFRLFNBQVVqQyxFQUFPa0MsRUFBT0MsRUFBTUMsR0FDakQsTUFBTyxJQUFJeEQsR0FBT3FELE1BQU1JLEdBQUd4QixNQUFNYixFQUFPa0MsRUFBT0MsRUFBTUMsSUFFekRuQixHQUNJaEIsTUFDSWUsTUFBTyxRQUNQc0IsT0FDSUMsS0FDSUMsSUFBSyxFQUNMdEQsS0FBTSxPQUNORyxPQUFPLEdBRVg2QyxPQUNJTSxJQUFLLEVBQ0x0RCxLQUFNLE9BQ05HLE9BQU8sR0FFWDhDLE1BQ0lLLElBQUssRUFDTHRELEtBQU0sT0FDTkcsT0FBTyxHQUVYK0MsT0FDSUksSUFBSyxFQUNMdEQsS0FBTSxVQUNOSSxJQUFLLEtBSWpCbUQsTUFDSXpCLE1BQU8sUUFDUHNCLE9BQ0lJLEtBQ0lGLElBQUssRUFDTHRELEtBQU0sVUFDTkcsT0FBTyxHQUVYc0QsWUFDSUgsSUFBSyxFQUNMdEQsS0FBTSxVQUNORyxPQUFPLEdBRVh1RCxXQUNJSixJQUFLLEVBQ0x0RCxLQUFNLFVBQ05HLE9BQU8sTUFLdkJGLEdBQ0kwRCxRQUNJdEQsT0FBTyxFQUNQSSxJQUFLLEVBQ0xDLElBQUssS0FFVGtELFNBQ0luRCxJQUFLLEVBQ0xDLElBQUssR0FFVG1ELFNBQ0lyRCxJQUFLLElBQ0xILE9BQU8sSUFHZnlELEVBQVkvQixFQUFPaEIsS0FBS3FDLE1BQ3hCVyxFQUFVakQsRUFBTWlELFdBUWhCN0MsRUFBT3hCLEVBQU93QixJQUVsQmEsR0FBT3dCLEtBQUtILE1BQU1GLE1BQVFZLEVBQVVaLE1BeUVwQ3BDLEVBQU1xQyxHQUFLckMsRUFBTWtELFdBQ2JDLFlBQWFuRCxFQUNiYSxNQUFPLFNBQWUwQixFQUFLTCxFQUFPQyxFQUFNQyxHQUNwQyxHQUFJRyxJQUFRMUQsRUFFUixNQURBdUUsTUFBS2xELE9BQVMsS0FBTSxLQUFNLEtBQU0sTUFDekJrRCxNQUVQYixZQUFlM0QsSUFBVTJELEVBQUljLFlBQzdCZCxFQUFNQSxZQUFlM0QsR0FBUzJELEVBQUllLElBQUlwQixHQUFTdEQsRUFBTzJELEdBQUtlLElBQUlwQixHQUMvREEsRUFBUXJELEVBR1osSUFBSWtCLEdBQU9xRCxLQUNQbEUsRUFBT04sRUFBT00sS0FBS3FELEdBQ25CdEMsRUFBT21ELEtBQUtsRCxRQVNoQixPQUxJZ0MsS0FBVXJELElBQ1YwRCxHQUFPQSxFQUFLTCxFQUFPQyxFQUFNQyxHQUN6QmxELEVBQU8sU0FHRSxXQUFUQSxFQUNPa0UsS0FBS3ZDLE1BQU1oQixFQUFZMEMsSUFBUWpCLEVBQU9pQyxVQUdwQyxVQUFUckUsR0FDQWtCLEVBQUs0QyxFQUFXLFNBQVVRLEVBQUt4RSxHQUMzQmlCLEVBQUtqQixFQUFLd0QsS0FBTzFELEVBQU15RCxFQUFJdkQsRUFBS3dELEtBQU14RCxLQUVuQ29FLE1BR0UsV0FBVGxFLEdBQ0lxRCxZQUFldkMsR0FDZkksRUFBS2EsRUFBUSxTQUFVSCxFQUFXQyxHQUMxQndCLEVBQUl4QixFQUFNQyxTQUNWakIsRUFBS2dCLEVBQU1DLE9BQVN1QixFQUFJeEIsRUFBTUMsT0FBT3lDLFdBSTdDckQsRUFBS2EsRUFBUSxTQUFVSCxFQUFXQyxHQUM5QlgsRUFBS1csRUFBTXVCLE1BQU8sU0FBVWtCLEVBQUt4RSxHQUM3QixHQUFJZ0MsR0FBUUQsRUFBTUMsS0FEaUIsS0FJOUJqQixFQUFLaUIsSUFBVUQsRUFBTTJDLEdBQUksQ0FJMUIsR0FBZ0IsTUFBWm5CLEVBQUlpQixJQUF3QixVQUFSQSxFQUNwQixNQUVKekQsR0FBS2lCLEdBQVNELEVBQU0yQyxHQUFHM0QsRUFBS0csT0FYR0gsRUFnQjlCaUIsR0FBT2hDLEVBQUt3RCxLQUFPMUQsRUFBTXlELEVBQUlpQixHQUFNeEUsR0FBTSxPQUluRG9FLE1BN0JYLFFBZ0NKTyxHQUFJLFFBQVNBLEdBQUdDLEdBQ1osR0FBSUQsR0FBSzNELEVBQU00RCxHQUNYQyxHQUFPLEVBQ1BDLEVBQVNWLElBZ0JiLE9BZEFoRCxHQUFLYSxFQUFRLFNBQVU4QyxFQUFHaEQsR0FDdEIsR0FDSWlELEdBREFDLEVBQVVOLEVBQUc1QyxFQUFNQyxNQVd2QixPQVRJaUQsS0FDQUQsRUFBYUYsRUFBTy9DLEVBQU1DLFFBQVVELEVBQU0yQyxJQUFNM0MsRUFBTTJDLEdBQUdJLEVBQU81RCxXQUNoRUUsRUFBS1csRUFBTXVCLE1BQU8sU0FBVXlCLEVBQUcvRSxHQUMzQixNQUF5QixPQUFyQmlGLEVBQVFqRixFQUFLd0QsS0FDYnFCLEVBQU9JLEVBQVFqRixFQUFLd0QsTUFBUXdCLEVBQVdoRixFQUFLd0QsS0FEaEQsVUFNRHFCLElBRUpBLEdBRVhLLE9BQVEsV0FDSixHQUFJQyxNQUNBcEUsRUFBT3FELElBTVgsT0FMQWhELEdBQUthLEVBQVEsU0FBVUgsRUFBV0MsR0FDMUJoQixFQUFLZ0IsRUFBTUMsUUFDWG1ELEVBQUtDLEtBQUt0RCxLQUdYcUQsRUFBS0UsT0FFaEJDLFdBQVksU0FBb0JDLEVBQU9DLEdBQ25DLEdBQUlDLEdBQU16RSxFQUFNdUUsR0FDWnpELEVBQVkyRCxFQUFJUCxTQUNoQm5ELEVBQVFFLEVBQU9ILEdBQ2Y0RCxFQUFRdEIsS0FBS3JDLEVBQU1DLFFBQVVELEVBQU0yQyxHQUFHTixLQUFLbEQsT0FDM0N5RSxFQUFTRCxFQUFNakIsT0EyQm5CLE9BekJBZ0IsR0FBTUEsRUFBSTFELEVBQU1DLE9BQ2hCWixFQUFLVyxFQUFNdUIsTUFBTyxTQUFVa0IsRUFBS3hFLEdBQzdCLEdBQUk0RixHQUFRNUYsRUFBS3dELElBQ2JxQyxFQUFhSCxFQUFNRSxHQUNuQkUsRUFBV0wsRUFBSUcsR0FDZjFGLEVBQU9DLEVBQVVILEVBQUtFLFNBR1QsUUFBYjRGLElBSWUsT0FBZkQsRUFDQUYsRUFBT0MsR0FBU0UsR0FFWjVGLEVBQUtRLE1BQ0RvRixFQUFXRCxFQUFhM0YsRUFBS1EsSUFBTSxFQUNuQ21GLEdBQWMzRixFQUFLUSxJQUNabUYsRUFBYUMsRUFBVzVGLEVBQUtRLElBQU0sSUFDMUNtRixHQUFjM0YsRUFBS1EsTUFHM0JpRixFQUFPM0YsRUFBS3dELEtBQU8xRCxHQUFPZ0csRUFBV0QsR0FBY0wsRUFBV0ssRUFBWTdGLE9BRzNFb0UsS0FBS3RDLEdBQVc2RCxJQUUzQkksTUFBTyxRQUFTQSxHQUFNQyxHQUVsQixHQUFzQixJQUFsQjVCLEtBQUtsRCxNQUFNLEdBQ1gsTUFBT2tELEtBR1gsSUFBSTZCLEdBQU03QixLQUFLbEQsTUFBTXVELFFBQ2pCeUIsRUFBSUQsRUFBSVosTUFDUlUsRUFBUS9FLEVBQU1nRixHQUFROUUsS0FFMUIsT0FBT0YsR0FBTXBCLEVBQU91RyxJQUFJRixFQUFLLFNBQVVHLEVBQUc5RSxHQUN0QyxPQUFRLEVBQUk0RSxHQUFLSCxFQUFNekUsR0FBSzRFLEVBQUlFLE1BR3hDQyxhQUFjLFdBQ1YsR0FBSUMsR0FBUyxRQUNUckYsRUFBT3JCLEVBQU91RyxJQUFJL0IsS0FBS2xELE1BQU8sU0FBVWtGLEVBQUc5RSxHQUN2QyxNQUFZLE9BQUw4RSxFQUFZOUUsRUFBSSxFQUFJLEVBQUksRUFBSThFLEdBUTNDLE9BTGdCLEtBQVpuRixFQUFLLEtBQ0xBLEVBQUtvRSxNQUNMaUIsRUFBUyxRQUdOQSxFQUFTckYsRUFBS3NGLEtBQUssS0FBTyxLQUVyQ0MsYUFBYyxXQUNWLEdBQUlGLEdBQVMsUUFDVDdDLEVBQU83RCxFQUFPdUcsSUFBSS9CLEtBQUtYLE9BQVEsU0FBVTJDLEVBQUc5RSxHQVN4QyxNQVJTLE9BQUw4RSxJQUNBQSxFQUFJOUUsRUFBSSxFQUFJLEVBQUksR0FJaEJBLEdBQVMsRUFBSkEsSUFDTDhFLEVBQUlqRSxLQUFLc0UsTUFBVSxJQUFKTCxHQUFXLEtBRXZCQSxHQU9mLE9BSmUsSUFBWDNDLEVBQUssS0FDTEEsRUFBSzRCLE1BQ0xpQixFQUFTLFFBRU5BLEVBQVM3QyxFQUFLOEMsS0FBSyxLQUFPLEtBRXJDRyxZQUFhLFNBQXFCQyxHQUM5QixHQUFJMUYsR0FBT21ELEtBQUtsRCxNQUFNdUQsUUFDbEJyQixFQUFRbkMsRUFBS29FLEtBTWpCLE9BSklzQixJQUNBMUYsRUFBS21FLFFBQWdCLElBQVJoQyxJQUdWLElBQU14RCxFQUFPdUcsSUFBSWxGLEVBQU0sU0FBVW1GLEVBQUc5RSxHQUl2QyxNQURBOEUsSUFBS0EsR0FBSyxHQUFHUSxTQUFTLElBQ0gsR0FBWlIsRUFBRWxFLE9BQWMsSUFBTWtFLEVBQUlBLElBQ2xDRyxLQUFLLEtBRVpLLFNBQVUsV0FDTixNQUF5QixLQUFsQnhDLEtBQUtsRCxNQUFNLEdBQVcsY0FBZ0JrRCxLQUFLaUMsaUJBRzFEckYsRUFBTXFDLEdBQUd4QixNQUFNcUMsVUFBWWxELEVBQU1xQyxHQW1CakNwQixFQUFPd0IsS0FBS2lCLEdBQUssU0FBVXpELEdBQ3ZCLEdBQWUsTUFBWEEsRUFBSyxJQUF5QixNQUFYQSxFQUFLLElBQXlCLE1BQVhBLEVBQUssR0FDM0MsT0FBUSxLQUFNLEtBQU0sS0FBTUEsRUFBSyxHQUVuQyxJQVNJMEIsR0FDQWtFLEVBVkFDLEVBQUk3RixFQUFLLEdBQUssSUFDZDhGLEVBQUk5RixFQUFLLEdBQUssSUFDZCtGLEVBQUkvRixFQUFLLEdBQUssSUFDZGlGLEVBQUlqRixFQUFLLEdBQ1RMLEVBQU11QixLQUFLdkIsSUFBSWtHLEVBQUdDLEVBQUdDLEdBQ3JCckcsRUFBTXdCLEtBQUt4QixJQUFJbUcsRUFBR0MsRUFBR0MsR0FDckJDLEVBQU9yRyxFQUFNRCxFQUNidUcsRUFBTXRHLEVBQU1ELEVBQ1p3RyxFQUFVLEdBQU5ELENBcUJSLE9BaEJJdkUsR0FEQWhDLElBQVFDLEVBQ0osRUFDR2tHLElBQU1sRyxFQUNULElBQU1tRyxFQUFJQyxHQUFLQyxFQUFPLElBQ25CRixJQUFNbkcsRUFDVCxJQUFNb0csRUFBSUYsR0FBS0csRUFBTyxJQUV0QixJQUFNSCxFQUFJQyxHQUFLRSxFQUFPLElBSTFCSixFQURNLElBQU5NLEdBQWlCLElBQU5BLEVBQ1BBLEVBQ1EsSUFBTEEsRUFDSEYsRUFBT0MsRUFFUEQsR0FBUSxFQUFJQyxJQUVaL0UsS0FBS3NFLE1BQU05RCxHQUFLLElBQUtrRSxFQUFHTSxFQUFRLE1BQUxqQixFQUFZLEVBQUlBLElBR3ZEakUsRUFBT3dCLEtBQUsyRCxLQUFPLFNBQVUzRCxHQUN6QixHQUFlLE1BQVhBLEVBQUssSUFBeUIsTUFBWEEsRUFBSyxJQUF5QixNQUFYQSxFQUFLLEdBQzNDLE9BQVEsS0FBTSxLQUFNLEtBQU1BLEVBQUssR0FFbkMsSUFBSWQsR0FBSWMsRUFBSyxHQUFLLElBQ2RvRCxFQUFJcEQsRUFBSyxHQUNUMEQsRUFBSTFELEVBQUssR0FDVHlDLEVBQUl6QyxFQUFLLEdBQ1RmLEVBQVMsSUFBTHlFLEVBQVdBLEdBQUssRUFBSU4sR0FBS00sRUFBSU4sRUFBSU0sRUFBSU4sRUFDekNwRSxFQUFJLEVBQUkwRSxFQUFJekUsQ0FLaEIsUUFBUVAsS0FBS3NFLE1BQWlDLElBQTNCakUsRUFBUUMsRUFBR0MsRUFBR0MsRUFBSSxFQUFJLElBQVdSLEtBQUtzRSxNQUF5QixJQUFuQmpFLEVBQVFDLEVBQUdDLEVBQUdDLElBQVdSLEtBQUtzRSxNQUFpQyxJQUEzQmpFLEVBQVFDLEVBQUdDLEVBQUdDLEVBQUksRUFBSSxJQUFXdUQsSUFHeEk5RSxFQUFLYSxFQUFRLFNBQVVILEVBQVdDLEdBQzlCLEdBQUl1QixHQUFRdkIsRUFBTXVCLE1BQ2R0QixFQUFRRCxFQUFNQyxNQUNkMEMsRUFBSzNDLEVBQU0yQyxHQUNYMEMsRUFBT3JGLEVBQU1xRixJQUpvQnBHLEdBTy9CcUMsR0FBR3ZCLEdBQWEsU0FBVS9CLEdBTTVCLEdBSEkyRSxJQUFPTixLQUFLcEMsS0FDWm9DLEtBQUtwQyxHQUFTMEMsRUFBR04sS0FBS2xELFFBRXRCbkIsSUFBVUYsRUFDVixNQUFPdUUsTUFBS3BDLEdBQU95QyxPQUd2QixJQUdJNEMsR0FIQW5ILEVBQU9OLEVBQU9NLEtBQUtILEdBQ25CdUgsRUFBZSxVQUFUcEgsR0FBNkIsV0FBVEEsRUFBb0JILEVBQVF3SCxVQUN0REMsRUFBUXBELEtBQUtwQyxHQUFPeUMsT0FXeEIsT0FSQXJELEdBQUtrQyxFQUFPLFNBQVVrQixFQUFLeEUsR0FDdkIsR0FBSXlILEdBQU1ILEVBQWEsV0FBVHBILEVBQW9Cc0UsRUFBTXhFLEVBQUt3RCxJQUNsQyxPQUFQaUUsSUFDQUEsRUFBTUQsRUFBTXhILEVBQUt3RCxNQUVyQmdFLEVBQU14SCxFQUFLd0QsS0FBTzFELEVBQU0ySCxFQUFLekgsS0FHN0JvSCxHQUNBQyxFQUFNckcsRUFBTW9HLEVBQUtJLElBQ2pCSCxFQUFJckYsR0FBU3dGLEVBQ05ILEdBRUFyRyxFQUFNd0csSUFuQ2dCcEcsRUF3Q2hDa0MsRUFBTyxTQUFVa0IsRUFBS3hFLEdBRW5CZ0IsRUFBTXFDLEdBQUdtQixLQUdieEQsRUFBTXFDLEdBQUdtQixHQUFPLFNBQVV6RSxHQUN0QixHQUlJMEIsR0FKQWlHLEVBQVE5SCxFQUFPTSxLQUFLSCxHQUNwQnNELEVBQWEsVUFBUm1CLEVBQWtCSixLQUFLdUQsTUFBUSxPQUFTLE9BQVM3RixFQUN0RDBGLEVBQVFwRCxLQUFLZixLQUNidUUsRUFBTUosRUFBTXhILEVBQUt3RCxJQUdyQixPQUFjLGNBQVZrRSxFQUNPRSxHQUdHLGFBQVZGLElBQ0EzSCxFQUFRQSxFQUFNOEgsS0FBS3pELEtBQU13RCxHQUN6QkYsRUFBUTlILEVBQU9NLEtBQUtILElBRVgsTUFBVEEsR0FBaUJDLEVBQUtLLE1BQ2YrRCxNQUVHLFdBQVZzRCxJQUNBakcsRUFBUXFCLEVBQVluQixLQUFLNUIsR0FDckIwQixJQUNBMUIsRUFBUTZILEVBQU1wSCxXQUFXaUIsRUFBTSxLQUFvQixNQUFiQSxFQUFNLEdBQWEsRUFBSSxNQUdyRStGLEVBQU14SCxFQUFLd0QsS0FBT3pELEVBQ1hxRSxLQUFLZixHQUFJbUUsV0EvZ0JGcEcsRUFxaEJyQndCLEVBQVcsU0FBVXRCLEVBQUd3RyxHQUN6QmxJLEVBQU9tSSxTQUFTRCxJQUNaRSxJQUFLLFNBQWFDLEVBQU1sSSxHQUNwQixHQUFJeUIsRUFFSixJQUEyQixXQUF2QjVCLEVBQU9NLEtBQUtILEtBQXdCeUIsRUFBU1gsRUFBWWQsSUFBUyxDQUVsRSxHQURBQSxFQUFRaUIsRUFBTVEsR0FBVXpCLElBQ25Ca0UsRUFBUWhELE1BQTJCLElBQW5CbEIsRUFBTW1CLE1BQU0sR0FBVSxDQUN2QyxHQUFJZ0gsR0FDQUMsRUFBbUIsb0JBQVRMLEVBQTZCRyxFQUFLRyxXQUFhSCxDQUM3RCxHQUNJQyxHQUFrQnRJLEVBQU95SSxPQUFPRixFQUFTLDBCQUNmLEtBQXBCRCxHQUE4QyxnQkFBcEJBLEtBQXVDQyxFQUFVQSxFQUFRQyxhQUFlRCxFQUFRRyxNQUVwSHZJLEdBQVFBLEVBQU1nRyxNQUFNbUMsR0FBdUMsZ0JBQXBCQSxFQUFvQ0EsRUFBa0IsWUFHakduSSxFQUFRQSxFQUFNc0csZUFFbEI0QixFQUFLSyxNQUFNUixHQUFRL0gsSUFHM0JILEVBQU8ySSxHQUFHQyxLQUFLVixHQUFRLFNBQVVTLEdBQ3hCQSxFQUFHRSxZQUNKRixFQUFHN0MsTUFBUTFFLEVBQU11SCxFQUFHTixLQUFNSCxHQUMxQlMsRUFBRzlDLElBQU16RSxFQUFNdUgsRUFBRzlDLEtBQ2xCOEMsRUFBR0UsV0FBWSxHQUVuQjdJLEVBQU9tSSxTQUFTRCxHQUFNRSxJQUFJTyxFQUFHTixLQUFNTSxFQUFHN0MsTUFBTUosV0FBV2lELEVBQUc5QyxJQUFLOEMsRUFBR0csU0FqakJoRDlJLEVBc2pCbkIsV0FDSCxHQUFJK0ksR0FBTUMsU0FBU0MsY0FBYyxPQUM3QkMsRUFBWUgsRUFBSUwsS0FFcEJRLEdBQVVDLFFBQVUsa0NBQ3BCOUUsRUFBUWhELEtBQU82SCxFQUFVWixnQkFBZ0JjLFFBQVEsUUFBVSxLQTNqQnJDMUcsRUFpa0JqQjFDLEVBQU9xRCxNQUFNZ0csT0FDbEJDLEtBQU0sVUFDTkMsTUFBTyxVQUNQQyxNQUFPLFVBQ1BDLE1BQU8sVUFDUGxHLEtBQU0sVUFDTm1HLE1BQU8sVUFDUEMsS0FBTSxVQUNOQyxTQUFVLFVBQ1ZDLFNBQVUsVUFDVkMsU0FBVSxVQUNWQyxVQUFXLFVBQ1hDLFVBQVcsVUFDWEMsWUFBYSxVQUNiQyxlQUFnQixVQUNoQkMsV0FBWSxVQUNaQyxXQUFZLFVBQ1pDLFFBQVMsVUFDVEMsV0FBWSxVQUNaQyxXQUFZLFVBQ1pDLFFBQVMsVUFDVEMsS0FBTSxVQUNObkgsTUFBTyxVQUNQb0gsT0FBUSxVQUNSQyxNQUFPLFVBQ1BDLFVBQVcsVUFDWEMsVUFBVyxVQUNYQyxXQUFZLFVBQ1pDLFVBQVcsVUFDWEMsVUFBVyxVQUNYQyxZQUFhLFVBQ2JDLEtBQU0sVUFDTkMsUUFBUyxVQUNUQyxPQUFRLFVBQ1JDLEtBQU0sVUFDTkMsTUFBTyxVQUNQQyxPQUFRLFVBQ1JDLEtBQU0sVUFDTkMsT0FBUSxVQUNSQyxPQUFRLFVBQ1IvSCxJQUFLLFVBQ0xnSSxPQUFRLFVBQ1JDLE1BQU8sVUFDUEMsT0FBUSxVQUNSbEosYUFBYyxLQUFNLEtBQU0sS0FBTSxHQUNoQ2dDLFNBQVUsWUFFZjNFIiwiZmlsZSI6ImxpYnJhcnkvanMvbGlicy9qcXVlcnkuY29sb3IuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAqIGpRdWVyeSBDb2xvciBBbmltYXRpb25zIHZAVkVSU0lPTlxuICogaHR0cDovL2pxdWVyeS5vcmcvXG4gKlxuICogQ29weXJpZ2h0IDIwMTEgSm9obiBSZXNpZ1xuICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKlxuICogRGF0ZTogQERBVEVcbiAqL1xuXG4oZnVuY3Rpb24gKGpRdWVyeSwgdW5kZWZpbmVkKSB7XG4gICAgdmFyIHN0ZXBIb29rcyA9IFwiYmFja2dyb3VuZENvbG9yIGJvcmRlckJvdHRvbUNvbG9yIGJvcmRlckxlZnRDb2xvciBib3JkZXJSaWdodENvbG9yIGJvcmRlclRvcENvbG9yIGNvbG9yIG91dGxpbmVDb2xvclwiLnNwbGl0KFwiIFwiKSxcblxuXG4gICAgICAgIC8vIHBsdXNlcXVhbHMgdGVzdCBmb3IgKz0gMTAwIC09IDEwMFxuICAgICAgICBycGx1c2VxdWFscyA9IC9eKFtcXC0rXSk9XFxzKihcXGQrXFwuP1xcZCopLyxcblxuXG4gICAgICAgIC8vIGEgc2V0IG9mIFJFJ3MgdGhhdCBjYW4gbWF0Y2ggc3RyaW5ncyBhbmQgZ2VuZXJhdGUgY29sb3IgdHVwbGVzLlxuICAgICAgICBzdHJpbmdQYXJzZXJzID0gW3tcbiAgICAgICAgICAgIHJlOiAvcmdiYT9cXChcXHMqKFxcZHsxLDN9KVxccyosXFxzKihcXGR7MSwzfSlcXHMqLFxccyooXFxkezEsM30pXFxzKig/OixcXHMqKFxcZCsoPzpcXC5cXGQrKT8pXFxzKik/XFwpLyxcbiAgICAgICAgICAgIHBhcnNlOiBmdW5jdGlvbiBwYXJzZShleGVjUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtleGVjUmVzdWx0WzFdLCBleGVjUmVzdWx0WzJdLCBleGVjUmVzdWx0WzNdLCBleGVjUmVzdWx0WzRdXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAgcmU6IC9yZ2JhP1xcKFxccyooXFxkKyg/OlxcLlxcZCspPylcXCVcXHMqLFxccyooXFxkKyg/OlxcLlxcZCspPylcXCVcXHMqLFxccyooXFxkKyg/OlxcLlxcZCspPylcXCVcXHMqKD86LFxccyooXFxkKyg/OlxcLlxcZCspPylcXHMqKT9cXCkvLFxuICAgICAgICAgICAgcGFyc2U6IGZ1bmN0aW9uIHBhcnNlKGV4ZWNSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIuNTUgKiBleGVjUmVzdWx0WzFdLCAyLjU1ICogZXhlY1Jlc3VsdFsyXSwgMi41NSAqIGV4ZWNSZXN1bHRbM10sIGV4ZWNSZXN1bHRbNF1dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICByZTogLyMoW2EtZkEtRjAtOV17Mn0pKFthLWZBLUYwLTldezJ9KShbYS1mQS1GMC05XXsyfSkvLFxuICAgICAgICAgICAgcGFyc2U6IGZ1bmN0aW9uIHBhcnNlKGV4ZWNSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW3BhcnNlSW50KGV4ZWNSZXN1bHRbMV0sIDE2KSwgcGFyc2VJbnQoZXhlY1Jlc3VsdFsyXSwgMTYpLCBwYXJzZUludChleGVjUmVzdWx0WzNdLCAxNildO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICByZTogLyMoW2EtZkEtRjAtOV0pKFthLWZBLUYwLTldKShbYS1mQS1GMC05XSkvLFxuICAgICAgICAgICAgcGFyc2U6IGZ1bmN0aW9uIHBhcnNlKGV4ZWNSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW3BhcnNlSW50KGV4ZWNSZXN1bHRbMV0gKyBleGVjUmVzdWx0WzFdLCAxNiksIHBhcnNlSW50KGV4ZWNSZXN1bHRbMl0gKyBleGVjUmVzdWx0WzJdLCAxNiksIHBhcnNlSW50KGV4ZWNSZXN1bHRbM10gKyBleGVjUmVzdWx0WzNdLCAxNildO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICByZTogL2hzbGE/XFwoXFxzKihcXGQrKD86XFwuXFxkKyk/KVxccyosXFxzKihcXGQrKD86XFwuXFxkKyk/KVxcJVxccyosXFxzKihcXGQrKD86XFwuXFxkKyk/KVxcJVxccyooPzosXFxzKihcXGQrKD86XFwuXFxkKyk/KVxccyopP1xcKS8sXG4gICAgICAgICAgICBzcGFjZTogXCJoc2xhXCIsXG4gICAgICAgICAgICBwYXJzZTogZnVuY3Rpb24gcGFyc2UoZXhlY1Jlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbZXhlY1Jlc3VsdFsxXSwgZXhlY1Jlc3VsdFsyXSAvIDEwMCwgZXhlY1Jlc3VsdFszXSAvIDEwMCwgZXhlY1Jlc3VsdFs0XV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dLFxuXG5cbiAgICAgICAgLy8galF1ZXJ5LkNvbG9yKCApXG4gICAgICAgIGNvbG9yID0galF1ZXJ5LkNvbG9yID0gZnVuY3Rpb24gKGNvbG9yLCBncmVlbiwgYmx1ZSwgYWxwaGEpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgalF1ZXJ5LkNvbG9yLmZuLnBhcnNlKGNvbG9yLCBncmVlbiwgYmx1ZSwgYWxwaGEpO1xuICAgICAgICB9LFxuICAgICAgICBzcGFjZXMgPSB7XG4gICAgICAgICAgICByZ2JhOiB7XG4gICAgICAgICAgICAgICAgY2FjaGU6IFwiX3JnYmFcIixcbiAgICAgICAgICAgICAgICBwcm9wczoge1xuICAgICAgICAgICAgICAgICAgICByZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkeDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW1wdHk6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZ3JlZW46IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkeDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW1wdHk6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYmx1ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWR4OiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJieXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbXB0eTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBhbHBoYToge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWR4OiAzLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJwZXJjZW50XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWY6IDFcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoc2xhOiB7XG4gICAgICAgICAgICAgICAgY2FjaGU6IFwiX2hzbGFcIixcbiAgICAgICAgICAgICAgICBwcm9wczoge1xuICAgICAgICAgICAgICAgICAgICBodWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkeDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZGVncmVlc1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW1wdHk6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc2F0dXJhdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWR4OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJwZXJjZW50XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbXB0eTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBsaWdodG5lc3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkeDogMixcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwicGVyY2VudFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW1wdHk6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgcHJvcFR5cGVzID0ge1xuICAgICAgICAgICAgXCJieXRlXCI6IHtcbiAgICAgICAgICAgICAgICBmbG9vcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICAgICAgbWF4OiAyNTVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcInBlcmNlbnRcIjoge1xuICAgICAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgICAgICBtYXg6IDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImRlZ3JlZXNcIjoge1xuICAgICAgICAgICAgICAgIG1vZDogMzYwLFxuICAgICAgICAgICAgICAgIGZsb29yOiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHJnYmFzcGFjZSA9IHNwYWNlcy5yZ2JhLnByb3BzLFxuICAgICAgICBzdXBwb3J0ID0gY29sb3Iuc3VwcG9ydCA9IHt9LFxuXG5cbiAgICAgICAgLy8gY29sb3JzID0galF1ZXJ5LkNvbG9yLm5hbWVzXG4gICAgICAgIGNvbG9ycyxcblxuXG4gICAgICAgIC8vIGxvY2FsIGFsaWFzZXMgb2YgZnVuY3Rpb25zIGNhbGxlZCBvZnRlblxuICAgICAgICBlYWNoID0galF1ZXJ5LmVhY2g7XG5cbiAgICBzcGFjZXMuaHNsYS5wcm9wcy5hbHBoYSA9IHJnYmFzcGFjZS5hbHBoYTtcblxuICAgIGZ1bmN0aW9uIGNsYW1wKHZhbHVlLCBwcm9wLCBhbHdheXNBbGxvd0VtcHR5KSB7XG4gICAgICAgIHZhciB0eXBlID0gcHJvcFR5cGVzW3Byb3AudHlwZV0gfHwge30sXG4gICAgICAgICAgICBhbGxvd0VtcHR5ID0gcHJvcC5lbXB0eSB8fCBhbHdheXNBbGxvd0VtcHR5O1xuXG4gICAgICAgIGlmIChhbGxvd0VtcHR5ICYmIHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wLmRlZiAmJiB2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvcC5kZWY7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUuZmxvb3IpIHtcbiAgICAgICAgICAgIHZhbHVlID0gfn52YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwgfHwgaXNOYU4odmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvcC5kZWY7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUubW9kKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlICUgdHlwZS5tb2Q7XG4gICAgICAgICAgICAvLyAtMTAgLT4gMzUwXG4gICAgICAgICAgICByZXR1cm4gdmFsdWUgPCAwID8gdHlwZS5tb2QgKyB2YWx1ZSA6IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZm9yIG5vdyBhbGwgcHJvcGVydHkgdHlwZXMgd2l0aG91dCBtb2QgaGF2ZSBtaW4gYW5kIG1heFxuICAgICAgICByZXR1cm4gdHlwZS5taW4gPiB2YWx1ZSA/IHR5cGUubWluIDogdHlwZS5tYXggPCB2YWx1ZSA/IHR5cGUubWF4IDogdmFsdWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3RyaW5nUGFyc2Uoc3RyaW5nKSB7XG4gICAgICAgIHZhciBpbnN0ID0gY29sb3IoKSxcbiAgICAgICAgICAgIHJnYmEgPSBpbnN0Ll9yZ2JhID0gW107XG5cbiAgICAgICAgc3RyaW5nID0gc3RyaW5nLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgZWFjaChzdHJpbmdQYXJzZXJzLCBmdW5jdGlvbiAoaSwgcGFyc2VyKSB7XG4gICAgICAgICAgICB2YXIgbWF0Y2ggPSBwYXJzZXIucmUuZXhlYyhzdHJpbmcpLFxuICAgICAgICAgICAgICAgIHZhbHVlcyA9IG1hdGNoICYmIHBhcnNlci5wYXJzZShtYXRjaCksXG4gICAgICAgICAgICAgICAgcGFyc2VkLFxuICAgICAgICAgICAgICAgIHNwYWNlTmFtZSA9IHBhcnNlci5zcGFjZSB8fCBcInJnYmFcIixcbiAgICAgICAgICAgICAgICBjYWNoZSA9IHNwYWNlc1tzcGFjZU5hbWVdLmNhY2hlO1xuXG4gICAgICAgICAgICBpZiAodmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgcGFyc2VkID0gaW5zdFtzcGFjZU5hbWVdKHZhbHVlcyk7XG5cbiAgICAgICAgICAgICAgICAvLyBpZiB0aGlzIHdhcyBhbiByZ2JhIHBhcnNlIHRoZSBhc3NpZ25tZW50IG1pZ2h0IGhhcHBlbiB0d2ljZVxuICAgICAgICAgICAgICAgIC8vIG9oIHdlbGwuLi4uXG4gICAgICAgICAgICAgICAgaW5zdFtjYWNoZV0gPSBwYXJzZWRbY2FjaGVdO1xuICAgICAgICAgICAgICAgIHJnYmEgPSBpbnN0Ll9yZ2JhID0gcGFyc2VkLl9yZ2JhO1xuXG4gICAgICAgICAgICAgICAgLy8gZXhpdCBlYWNoKCBzdHJpbmdQYXJzZXJzICkgaGVyZSBiZWNhdXNlIHdlIG1hdGNoZWRcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEZvdW5kIGEgc3RyaW5nUGFyc2VyIHRoYXQgaGFuZGxlZCBpdFxuICAgICAgICBpZiAocmdiYS5sZW5ndGggIT09IDApIHtcblxuICAgICAgICAgICAgLy8gaWYgdGhpcyBjYW1lIGZyb20gYSBwYXJzZWQgc3RyaW5nLCBmb3JjZSBcInRyYW5zcGFyZW50XCIgd2hlbiBhbHBoYSBpcyAwXG4gICAgICAgICAgICAvLyBjaHJvbWUsIChhbmQgbWF5YmUgb3RoZXJzKSByZXR1cm4gXCJ0cmFuc3BhcmVudFwiIGFzIHJnYmEoMCwwLDAsMClcbiAgICAgICAgICAgIGlmIChNYXRoLm1heC5hcHBseShNYXRoLCByZ2JhKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGpRdWVyeS5leHRlbmQocmdiYSwgY29sb3JzLnRyYW5zcGFyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpbnN0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbmFtZWQgY29sb3JzIC8gZGVmYXVsdCAtIGZpbHRlciBiYWNrIHRocm91Z2ggcGFyc2UgZnVuY3Rpb25cbiAgICAgICAgaWYgKHN0cmluZyA9IGNvbG9yc1tzdHJpbmddKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29sb3IuZm4gPSBjb2xvci5wcm90b3R5cGUgPSB7XG4gICAgICAgIGNvbnN0cnVjdG9yOiBjb2xvcixcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uIHBhcnNlKHJlZCwgZ3JlZW4sIGJsdWUsIGFscGhhKSB7XG4gICAgICAgICAgICBpZiAocmVkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZ2JhID0gW251bGwsIG51bGwsIG51bGwsIG51bGxdO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlZCBpbnN0YW5jZW9mIGpRdWVyeSB8fCByZWQubm9kZVR5cGUpIHtcbiAgICAgICAgICAgICAgICByZWQgPSByZWQgaW5zdGFuY2VvZiBqUXVlcnkgPyByZWQuY3NzKGdyZWVuKSA6IGpRdWVyeShyZWQpLmNzcyhncmVlbik7XG4gICAgICAgICAgICAgICAgZ3JlZW4gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBpbnN0ID0gdGhpcyxcbiAgICAgICAgICAgICAgICB0eXBlID0galF1ZXJ5LnR5cGUocmVkKSxcbiAgICAgICAgICAgICAgICByZ2JhID0gdGhpcy5fcmdiYSA9IFtdLFxuICAgICAgICAgICAgICAgIHNvdXJjZTtcblxuICAgICAgICAgICAgLy8gbW9yZSB0aGFuIDEgYXJndW1lbnQgc3BlY2lmaWVkIC0gYXNzdW1lICggcmVkLCBncmVlbiwgYmx1ZSwgYWxwaGEgKVxuICAgICAgICAgICAgaWYgKGdyZWVuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZWQgPSBbcmVkLCBncmVlbiwgYmx1ZSwgYWxwaGFdO1xuICAgICAgICAgICAgICAgIHR5cGUgPSBcImFycmF5XCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2Uoc3RyaW5nUGFyc2UocmVkKSB8fCBjb2xvcnMuX2RlZmF1bHQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gXCJhcnJheVwiKSB7XG4gICAgICAgICAgICAgICAgZWFjaChyZ2Jhc3BhY2UsIGZ1bmN0aW9uIChrZXksIHByb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgcmdiYVtwcm9wLmlkeF0gPSBjbGFtcChyZWRbcHJvcC5pZHhdLCBwcm9wKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVkIGluc3RhbmNlb2YgY29sb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgZWFjaChzcGFjZXMsIGZ1bmN0aW9uIChzcGFjZU5hbWUsIHNwYWNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVkW3NwYWNlLmNhY2hlXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3Rbc3BhY2UuY2FjaGVdID0gcmVkW3NwYWNlLmNhY2hlXS5zbGljZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlYWNoKHNwYWNlcywgZnVuY3Rpb24gKHNwYWNlTmFtZSwgc3BhY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVhY2goc3BhY2UucHJvcHMsIGZ1bmN0aW9uIChrZXksIHByb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FjaGUgPSBzcGFjZS5jYWNoZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBjYWNoZSBkb2Vzbid0IGV4aXN0LCBhbmQgd2Uga25vdyBob3cgdG8gY29udmVydFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaW5zdFtjYWNoZV0gJiYgc3BhY2UudG8pIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgdmFsdWUgd2FzIG51bGwsIHdlIGRvbid0IG5lZWQgdG8gY29weSBpdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUga2V5IHdhcyBhbHBoYSwgd2UgZG9uJ3QgbmVlZCB0byBjb3B5IGl0IGVpdGhlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVkW2tleV0gPT0gbnVsbCB8fCBrZXkgPT09IFwiYWxwaGFcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RbY2FjaGVdID0gc3BhY2UudG8oaW5zdC5fcmdiYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBpcyB0aGUgb25seSBjYXNlIHdoZXJlIHdlIGFsbG93IG51bGxzIGZvciBBTEwgcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjYWxsIGNsYW1wIHdpdGggYWx3YXlzQWxsb3dFbXB0eVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RbY2FjaGVdW3Byb3AuaWR4XSA9IGNsYW1wKHJlZFtrZXldLCBwcm9wLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGlzOiBmdW5jdGlvbiBpcyhjb21wYXJlKSB7XG4gICAgICAgICAgICB2YXIgaXMgPSBjb2xvcihjb21wYXJlKSxcbiAgICAgICAgICAgICAgICBzYW1lID0gdHJ1ZSxcbiAgICAgICAgICAgICAgICBteXNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICBlYWNoKHNwYWNlcywgZnVuY3Rpb24gKF8sIHNwYWNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlzQ2FjaGUgPSBpc1tzcGFjZS5jYWNoZV0sXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsQ2FjaGU7XG4gICAgICAgICAgICAgICAgaWYgKGlzQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxDYWNoZSA9IG15c2VsZltzcGFjZS5jYWNoZV0gfHwgc3BhY2UudG8gJiYgc3BhY2UudG8obXlzZWxmLl9yZ2JhKSB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgZWFjaChzcGFjZS5wcm9wcywgZnVuY3Rpb24gKF8sIHByb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0NhY2hlW3Byb3AuaWR4XSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FtZSA9IGlzQ2FjaGVbcHJvcC5pZHhdID09IGxvY2FsQ2FjaGVbcHJvcC5pZHhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNhbWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBzYW1lO1xuICAgICAgICB9LFxuICAgICAgICBfc3BhY2U6IGZ1bmN0aW9uIF9zcGFjZSgpIHtcbiAgICAgICAgICAgIHZhciB1c2VkID0gW10sXG4gICAgICAgICAgICAgICAgaW5zdCA9IHRoaXM7XG4gICAgICAgICAgICBlYWNoKHNwYWNlcywgZnVuY3Rpb24gKHNwYWNlTmFtZSwgc3BhY2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5zdFtzcGFjZS5jYWNoZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgdXNlZC5wdXNoKHNwYWNlTmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gdXNlZC5wb3AoKTtcbiAgICAgICAgfSxcbiAgICAgICAgdHJhbnNpdGlvbjogZnVuY3Rpb24gdHJhbnNpdGlvbihvdGhlciwgZGlzdGFuY2UpIHtcbiAgICAgICAgICAgIHZhciBlbmQgPSBjb2xvcihvdGhlciksXG4gICAgICAgICAgICAgICAgc3BhY2VOYW1lID0gZW5kLl9zcGFjZSgpLFxuICAgICAgICAgICAgICAgIHNwYWNlID0gc3BhY2VzW3NwYWNlTmFtZV0sXG4gICAgICAgICAgICAgICAgc3RhcnQgPSB0aGlzW3NwYWNlLmNhY2hlXSB8fCBzcGFjZS50byh0aGlzLl9yZ2JhKSxcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBzdGFydC5zbGljZSgpO1xuXG4gICAgICAgICAgICBlbmQgPSBlbmRbc3BhY2UuY2FjaGVdO1xuICAgICAgICAgICAgZWFjaChzcGFjZS5wcm9wcywgZnVuY3Rpb24gKGtleSwgcHJvcCkge1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHByb3AuaWR4LFxuICAgICAgICAgICAgICAgICAgICBzdGFydFZhbHVlID0gc3RhcnRbaW5kZXhdLFxuICAgICAgICAgICAgICAgICAgICBlbmRWYWx1ZSA9IGVuZFtpbmRleF0sXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSBwcm9wVHlwZXNbcHJvcC50eXBlXSB8fCB7fTtcblxuICAgICAgICAgICAgICAgIC8vIGlmIG51bGwsIGRvbid0IG92ZXJyaWRlIHN0YXJ0IHZhbHVlXG4gICAgICAgICAgICAgICAgaWYgKGVuZFZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gaWYgbnVsbCAtIHVzZSBlbmRcbiAgICAgICAgICAgICAgICBpZiAoc3RhcnRWYWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRbaW5kZXhdID0gZW5kVmFsdWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUubW9kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW5kVmFsdWUgLSBzdGFydFZhbHVlID4gdHlwZS5tb2QgLyAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRWYWx1ZSArPSB0eXBlLm1vZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhcnRWYWx1ZSAtIGVuZFZhbHVlID4gdHlwZS5tb2QgLyAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRWYWx1ZSAtPSB0eXBlLm1vZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXN1bHRbcHJvcC5pZHhdID0gY2xhbXAoKGVuZFZhbHVlIC0gc3RhcnRWYWx1ZSkgKiBkaXN0YW5jZSArIHN0YXJ0VmFsdWUsIHByb3ApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXNbc3BhY2VOYW1lXShyZXN1bHQpO1xuICAgICAgICB9LFxuICAgICAgICBibGVuZDogZnVuY3Rpb24gYmxlbmQob3BhcXVlKSB7XG4gICAgICAgICAgICAvLyBpZiB3ZSBhcmUgYWxyZWFkeSBvcGFxdWUgLSByZXR1cm4gb3Vyc2VsZlxuICAgICAgICAgICAgaWYgKHRoaXMuX3JnYmFbM10gPT09IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHJnYiA9IHRoaXMuX3JnYmEuc2xpY2UoKSxcbiAgICAgICAgICAgICAgICBhID0gcmdiLnBvcCgpLFxuICAgICAgICAgICAgICAgIGJsZW5kID0gY29sb3Iob3BhcXVlKS5fcmdiYTtcblxuICAgICAgICAgICAgcmV0dXJuIGNvbG9yKGpRdWVyeS5tYXAocmdiLCBmdW5jdGlvbiAodiwgaSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoMSAtIGEpICogYmxlbmRbaV0gKyBhICogdjtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSxcbiAgICAgICAgdG9SZ2JhU3RyaW5nOiBmdW5jdGlvbiB0b1JnYmFTdHJpbmcoKSB7XG4gICAgICAgICAgICB2YXIgcHJlZml4ID0gXCJyZ2JhKFwiLFxuICAgICAgICAgICAgICAgIHJnYmEgPSBqUXVlcnkubWFwKHRoaXMuX3JnYmEsIGZ1bmN0aW9uICh2LCBpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2ID09IG51bGwgPyBpID4gMiA/IDEgOiAwIDogdjtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKHJnYmFbM10gPT09IDEpIHtcbiAgICAgICAgICAgICAgICByZ2JhLnBvcCgpO1xuICAgICAgICAgICAgICAgIHByZWZpeCA9IFwicmdiKFwiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcHJlZml4ICsgcmdiYS5qb2luKFwiLFwiKSArIFwiKVwiO1xuICAgICAgICB9LFxuICAgICAgICB0b0hzbGFTdHJpbmc6IGZ1bmN0aW9uIHRvSHNsYVN0cmluZygpIHtcbiAgICAgICAgICAgIHZhciBwcmVmaXggPSBcImhzbGEoXCIsXG4gICAgICAgICAgICAgICAgaHNsYSA9IGpRdWVyeS5tYXAodGhpcy5oc2xhKCksIGZ1bmN0aW9uICh2LCBpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHYgPSBpID4gMiA/IDEgOiAwO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gY2F0Y2ggMSBhbmQgMlxuICAgICAgICAgICAgICAgICAgICBpZiAoaSAmJiBpIDwgMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdiA9IE1hdGgucm91bmQodiAqIDEwMCkgKyBcIiVcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdjtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKGhzbGFbM10gPT0gMSkge1xuICAgICAgICAgICAgICAgIGhzbGEucG9wKCk7XG4gICAgICAgICAgICAgICAgcHJlZml4ID0gXCJoc2woXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcHJlZml4ICsgaHNsYS5qb2luKFwiLFwiKSArIFwiKVwiO1xuICAgICAgICB9LFxuICAgICAgICB0b0hleFN0cmluZzogZnVuY3Rpb24gdG9IZXhTdHJpbmcoaW5jbHVkZUFscGhhKSB7XG4gICAgICAgICAgICB2YXIgcmdiYSA9IHRoaXMuX3JnYmEuc2xpY2UoKSxcbiAgICAgICAgICAgICAgICBhbHBoYSA9IHJnYmEucG9wKCk7XG5cbiAgICAgICAgICAgIGlmIChpbmNsdWRlQWxwaGEpIHtcbiAgICAgICAgICAgICAgICByZ2JhLnB1c2gofn4oYWxwaGEgKiAyNTUpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIFwiI1wiICsgalF1ZXJ5Lm1hcChyZ2JhLCBmdW5jdGlvbiAodiwgaSkge1xuXG4gICAgICAgICAgICAgICAgLy8gZGVmYXVsdCB0byAwIHdoZW4gbnVsbHMgZXhpc3RcbiAgICAgICAgICAgICAgICB2ID0gKHYgfHwgMCkudG9TdHJpbmcoMTYpO1xuICAgICAgICAgICAgICAgIHJldHVybiB2Lmxlbmd0aCA9PSAxID8gXCIwXCIgKyB2IDogdjtcbiAgICAgICAgICAgIH0pLmpvaW4oXCJcIik7XG4gICAgICAgIH0sXG4gICAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZ2JhWzNdID09PSAwID8gXCJ0cmFuc3BhcmVudFwiIDogdGhpcy50b1JnYmFTdHJpbmcoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29sb3IuZm4ucGFyc2UucHJvdG90eXBlID0gY29sb3IuZm47XG5cbiAgICAvLyBoc2xhIGNvbnZlcnNpb25zIGFkYXB0ZWQgZnJvbTpcbiAgICAvLyBodHRwOi8vd3d3Lmdvb2dsZS5jb20vY29kZXNlYXJjaC9wI09BTWx4X2pvLWNrL3NyYy90aGlyZF9wYXJ0eS9XZWJLaXQvU291cmNlL1dlYkNvcmUvaW5zcGVjdG9yL2Zyb250LWVuZC9Db2xvci5qcyZkPTcmbD0xOTNcblxuICAgIGZ1bmN0aW9uIGh1ZTJyZ2IocCwgcSwgaCkge1xuICAgICAgICBoID0gKGggKyAxKSAlIDE7XG4gICAgICAgIGlmIChoICogNiA8IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBwICsgKHEgLSBwKSAqIDYgKiBoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoICogMiA8IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBxO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoICogMyA8IDIpIHtcbiAgICAgICAgICAgIHJldHVybiBwICsgKHEgLSBwKSAqICgyIC8gMyAtIGgpICogNjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcDtcbiAgICB9XG5cbiAgICBzcGFjZXMuaHNsYS50byA9IGZ1bmN0aW9uIChyZ2JhKSB7XG4gICAgICAgIGlmIChyZ2JhWzBdID09IG51bGwgfHwgcmdiYVsxXSA9PSBudWxsIHx8IHJnYmFbMl0gPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIFtudWxsLCBudWxsLCBudWxsLCByZ2JhWzNdXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgciA9IHJnYmFbMF0gLyAyNTUsXG4gICAgICAgICAgICBnID0gcmdiYVsxXSAvIDI1NSxcbiAgICAgICAgICAgIGIgPSByZ2JhWzJdIC8gMjU1LFxuICAgICAgICAgICAgYSA9IHJnYmFbM10sXG4gICAgICAgICAgICBtYXggPSBNYXRoLm1heChyLCBnLCBiKSxcbiAgICAgICAgICAgIG1pbiA9IE1hdGgubWluKHIsIGcsIGIpLFxuICAgICAgICAgICAgZGlmZiA9IG1heCAtIG1pbixcbiAgICAgICAgICAgIGFkZCA9IG1heCArIG1pbixcbiAgICAgICAgICAgIGwgPSBhZGQgKiAwLjUsXG4gICAgICAgICAgICBoLFxuICAgICAgICAgICAgcztcblxuICAgICAgICBpZiAobWluID09PSBtYXgpIHtcbiAgICAgICAgICAgIGggPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKHIgPT09IG1heCkge1xuICAgICAgICAgICAgaCA9IDYwICogKGcgLSBiKSAvIGRpZmYgKyAzNjA7XG4gICAgICAgIH0gZWxzZSBpZiAoZyA9PT0gbWF4KSB7XG4gICAgICAgICAgICBoID0gNjAgKiAoYiAtIHIpIC8gZGlmZiArIDEyMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGggPSA2MCAqIChyIC0gZykgLyBkaWZmICsgMjQwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGwgPT09IDAgfHwgbCA9PT0gMSkge1xuICAgICAgICAgICAgcyA9IGw7XG4gICAgICAgIH0gZWxzZSBpZiAobCA8PSAwLjUpIHtcbiAgICAgICAgICAgIHMgPSBkaWZmIC8gYWRkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcyA9IGRpZmYgLyAoMiAtIGFkZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtNYXRoLnJvdW5kKGgpICUgMzYwLCBzLCBsLCBhID09IG51bGwgPyAxIDogYV07XG4gICAgfTtcblxuICAgIHNwYWNlcy5oc2xhLmZyb20gPSBmdW5jdGlvbiAoaHNsYSkge1xuICAgICAgICBpZiAoaHNsYVswXSA9PSBudWxsIHx8IGhzbGFbMV0gPT0gbnVsbCB8fCBoc2xhWzJdID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBbbnVsbCwgbnVsbCwgbnVsbCwgaHNsYVszXV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGggPSBoc2xhWzBdIC8gMzYwLFxuICAgICAgICAgICAgcyA9IGhzbGFbMV0sXG4gICAgICAgICAgICBsID0gaHNsYVsyXSxcbiAgICAgICAgICAgIGEgPSBoc2xhWzNdLFxuICAgICAgICAgICAgcSA9IGwgPD0gMC41ID8gbCAqICgxICsgcykgOiBsICsgcyAtIGwgKiBzLFxuICAgICAgICAgICAgcCA9IDIgKiBsIC0gcSxcbiAgICAgICAgICAgIHIsXG4gICAgICAgICAgICBnLFxuICAgICAgICAgICAgYjtcblxuICAgICAgICByZXR1cm4gW01hdGgucm91bmQoaHVlMnJnYihwLCBxLCBoICsgMSAvIDMpICogMjU1KSwgTWF0aC5yb3VuZChodWUycmdiKHAsIHEsIGgpICogMjU1KSwgTWF0aC5yb3VuZChodWUycmdiKHAsIHEsIGggLSAxIC8gMykgKiAyNTUpLCBhXTtcbiAgICB9O1xuXG4gICAgZWFjaChzcGFjZXMsIGZ1bmN0aW9uIChzcGFjZU5hbWUsIHNwYWNlKSB7XG4gICAgICAgIHZhciBwcm9wcyA9IHNwYWNlLnByb3BzLFxuICAgICAgICAgICAgY2FjaGUgPSBzcGFjZS5jYWNoZSxcbiAgICAgICAgICAgIHRvID0gc3BhY2UudG8sXG4gICAgICAgICAgICBmcm9tID0gc3BhY2UuZnJvbTtcblxuICAgICAgICAvLyBtYWtlcyByZ2JhKCkgYW5kIGhzbGEoKVxuICAgICAgICBjb2xvci5mbltzcGFjZU5hbWVdID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cbiAgICAgICAgICAgIC8vIGdlbmVyYXRlIGEgY2FjaGUgZm9yIHRoaXMgc3BhY2UgaWYgaXQgZG9lc24ndCBleGlzdFxuICAgICAgICAgICAgaWYgKHRvICYmICF0aGlzW2NhY2hlXSkge1xuICAgICAgICAgICAgICAgIHRoaXNbY2FjaGVdID0gdG8odGhpcy5fcmdiYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW2NhY2hlXS5zbGljZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgdHlwZSA9IGpRdWVyeS50eXBlKHZhbHVlKSxcbiAgICAgICAgICAgICAgICBhcnIgPSB0eXBlID09PSBcImFycmF5XCIgfHwgdHlwZSA9PT0gXCJvYmplY3RcIiA/IHZhbHVlIDogYXJndW1lbnRzLFxuICAgICAgICAgICAgICAgIGxvY2FsID0gdGhpc1tjYWNoZV0uc2xpY2UoKSxcbiAgICAgICAgICAgICAgICByZXQ7XG5cbiAgICAgICAgICAgIGVhY2gocHJvcHMsIGZ1bmN0aW9uIChrZXksIHByb3ApIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsID0gYXJyW3R5cGUgPT09IFwib2JqZWN0XCIgPyBrZXkgOiBwcm9wLmlkeF07XG4gICAgICAgICAgICAgICAgaWYgKHZhbCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbCA9IGxvY2FsW3Byb3AuaWR4XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbG9jYWxbcHJvcC5pZHhdID0gY2xhbXAodmFsLCBwcm9wKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoZnJvbSkge1xuICAgICAgICAgICAgICAgIHJldCA9IGNvbG9yKGZyb20obG9jYWwpKTtcbiAgICAgICAgICAgICAgICByZXRbY2FjaGVdID0gbG9jYWw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yKGxvY2FsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBtYWtlcyByZWQoKSBncmVlbigpIGJsdWUoKSBhbHBoYSgpIGh1ZSgpIHNhdHVyYXRpb24oKSBsaWdodG5lc3MoKVxuICAgICAgICBlYWNoKHByb3BzLCBmdW5jdGlvbiAoa2V5LCBwcm9wKSB7XG4gICAgICAgICAgICAvLyBhbHBoYSBpcyBpbmNsdWRlZCBpbiBtb3JlIHRoYW4gb25lIHNwYWNlXG4gICAgICAgICAgICBpZiAoY29sb3IuZm5ba2V5XSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbG9yLmZuW2tleV0gPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdnR5cGUgPSBqUXVlcnkudHlwZSh2YWx1ZSksXG4gICAgICAgICAgICAgICAgICAgIGZuID0ga2V5ID09PSAnYWxwaGEnID8gdGhpcy5faHNsYSA/ICdoc2xhJyA6ICdyZ2JhJyA6IHNwYWNlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgbG9jYWwgPSB0aGlzW2ZuXSgpLFxuICAgICAgICAgICAgICAgICAgICBjdXIgPSBsb2NhbFtwcm9wLmlkeF0sXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoO1xuXG4gICAgICAgICAgICAgICAgaWYgKHZ0eXBlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHZ0eXBlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5jYWxsKHRoaXMsIGN1cik7XG4gICAgICAgICAgICAgICAgICAgIHZ0eXBlID0galF1ZXJ5LnR5cGUodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCAmJiBwcm9wLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodnR5cGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2ggPSBycGx1c2VxdWFscy5leGVjKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGN1ciArIHBhcnNlRmxvYXQobWF0Y2hbMl0pICogKG1hdGNoWzFdID09PSBcIitcIiA/IDEgOiAtMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbG9jYWxbcHJvcC5pZHhdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNbZm5dKGxvY2FsKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gYWRkIC5meC5zdGVwIGZ1bmN0aW9uc1xuICAgIGVhY2goc3RlcEhvb2tzLCBmdW5jdGlvbiAoaSwgaG9vaykge1xuICAgICAgICBqUXVlcnkuY3NzSG9va3NbaG9va10gPSB7XG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChlbGVtLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHZhciBwYXJzZWQ7XG5cbiAgICAgICAgICAgICAgICBpZiAoalF1ZXJ5LnR5cGUodmFsdWUpICE9PSAnc3RyaW5nJyB8fCAocGFyc2VkID0gc3RyaW5nUGFyc2UodmFsdWUpKSkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGNvbG9yKHBhcnNlZCB8fCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc3VwcG9ydC5yZ2JhICYmIHZhbHVlLl9yZ2JhWzNdICE9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYmFja2dyb3VuZENvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckVsZW0gPSBob29rID09PSBcImJhY2tncm91bmRDb2xvclwiID8gZWxlbS5wYXJlbnROb2RlIDogZWxlbTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3IgPSBqUXVlcnkuY3VyQ1NTKGN1ckVsZW0sIFwiYmFja2dyb3VuZENvbG9yXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoKGJhY2tncm91bmRDb2xvciA9PT0gXCJcIiB8fCBiYWNrZ3JvdW5kQ29sb3IgPT09IFwidHJhbnNwYXJlbnRcIikgJiYgKGN1ckVsZW0gPSBjdXJFbGVtLnBhcmVudE5vZGUpICYmIGN1ckVsZW0uc3R5bGUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLmJsZW5kKGJhY2tncm91bmRDb2xvciAmJiBiYWNrZ3JvdW5kQ29sb3IgIT09IFwidHJhbnNwYXJlbnRcIiA/IGJhY2tncm91bmRDb2xvciA6IFwiX2RlZmF1bHRcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnRvUmdiYVN0cmluZygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbGVtLnN0eWxlW2hvb2tdID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGpRdWVyeS5meC5zdGVwW2hvb2tdID0gZnVuY3Rpb24gKGZ4KSB7XG4gICAgICAgICAgICBpZiAoIWZ4LmNvbG9ySW5pdCkge1xuICAgICAgICAgICAgICAgIGZ4LnN0YXJ0ID0gY29sb3IoZnguZWxlbSwgaG9vayk7XG4gICAgICAgICAgICAgICAgZnguZW5kID0gY29sb3IoZnguZW5kKTtcbiAgICAgICAgICAgICAgICBmeC5jb2xvckluaXQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgalF1ZXJ5LmNzc0hvb2tzW2hvb2tdLnNldChmeC5lbGVtLCBmeC5zdGFydC50cmFuc2l0aW9uKGZ4LmVuZCwgZngucG9zKSk7XG4gICAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBkZXRlY3QgcmdiYSBzdXBwb3J0XG4gICAgalF1ZXJ5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgICAgICAgICBkaXZfc3R5bGUgPSBkaXYuc3R5bGU7XG5cbiAgICAgICAgZGl2X3N0eWxlLmNzc1RleHQgPSBcImJhY2tncm91bmQtY29sb3I6cmdiYSgxLDEsMSwuNSlcIjtcbiAgICAgICAgc3VwcG9ydC5yZ2JhID0gZGl2X3N0eWxlLmJhY2tncm91bmRDb2xvci5pbmRleE9mKFwicmdiYVwiKSA+IC0xO1xuICAgIH0pO1xuXG4gICAgLy8gU29tZSBuYW1lZCBjb2xvcnMgdG8gd29yayB3aXRoXG4gICAgLy8gRnJvbSBJbnRlcmZhY2UgYnkgU3RlZmFuIFBldHJlXG4gICAgLy8gaHR0cDovL2ludGVyZmFjZS5leWVjb24ucm8vXG4gICAgY29sb3JzID0galF1ZXJ5LkNvbG9yLm5hbWVzID0ge1xuICAgICAgICBhcXVhOiBcIiMwMGZmZmZcIixcbiAgICAgICAgYXp1cmU6IFwiI2YwZmZmZlwiLFxuICAgICAgICBiZWlnZTogXCIjZjVmNWRjXCIsXG4gICAgICAgIGJsYWNrOiBcIiMwMDAwMDBcIixcbiAgICAgICAgYmx1ZTogXCIjMDAwMGZmXCIsXG4gICAgICAgIGJyb3duOiBcIiNhNTJhMmFcIixcbiAgICAgICAgY3lhbjogXCIjMDBmZmZmXCIsXG4gICAgICAgIGRhcmtibHVlOiBcIiMwMDAwOGJcIixcbiAgICAgICAgZGFya2N5YW46IFwiIzAwOGI4YlwiLFxuICAgICAgICBkYXJrZ3JleTogXCIjYTlhOWE5XCIsXG4gICAgICAgIGRhcmtncmVlbjogXCIjMDA2NDAwXCIsXG4gICAgICAgIGRhcmtraGFraTogXCIjYmRiNzZiXCIsXG4gICAgICAgIGRhcmttYWdlbnRhOiBcIiM4YjAwOGJcIixcbiAgICAgICAgZGFya29saXZlZ3JlZW46IFwiIzU1NmIyZlwiLFxuICAgICAgICBkYXJrb3JhbmdlOiBcIiNmZjhjMDBcIixcbiAgICAgICAgZGFya29yY2hpZDogXCIjOTkzMmNjXCIsXG4gICAgICAgIGRhcmtyZWQ6IFwiIzhiMDAwMFwiLFxuICAgICAgICBkYXJrc2FsbW9uOiBcIiNlOTk2N2FcIixcbiAgICAgICAgZGFya3Zpb2xldDogXCIjOTQwMGQzXCIsXG4gICAgICAgIGZ1Y2hzaWE6IFwiI2ZmMDBmZlwiLFxuICAgICAgICBnb2xkOiBcIiNmZmQ3MDBcIixcbiAgICAgICAgZ3JlZW46IFwiIzAwODAwMFwiLFxuICAgICAgICBpbmRpZ286IFwiIzRiMDA4MlwiLFxuICAgICAgICBraGFraTogXCIjZjBlNjhjXCIsXG4gICAgICAgIGxpZ2h0Ymx1ZTogXCIjYWRkOGU2XCIsXG4gICAgICAgIGxpZ2h0Y3lhbjogXCIjZTBmZmZmXCIsXG4gICAgICAgIGxpZ2h0Z3JlZW46IFwiIzkwZWU5MFwiLFxuICAgICAgICBsaWdodGdyZXk6IFwiI2QzZDNkM1wiLFxuICAgICAgICBsaWdodHBpbms6IFwiI2ZmYjZjMVwiLFxuICAgICAgICBsaWdodHllbGxvdzogXCIjZmZmZmUwXCIsXG4gICAgICAgIGxpbWU6IFwiIzAwZmYwMFwiLFxuICAgICAgICBtYWdlbnRhOiBcIiNmZjAwZmZcIixcbiAgICAgICAgbWFyb29uOiBcIiM4MDAwMDBcIixcbiAgICAgICAgbmF2eTogXCIjMDAwMDgwXCIsXG4gICAgICAgIG9saXZlOiBcIiM4MDgwMDBcIixcbiAgICAgICAgb3JhbmdlOiBcIiNmZmE1MDBcIixcbiAgICAgICAgcGluazogXCIjZmZjMGNiXCIsXG4gICAgICAgIHB1cnBsZTogXCIjODAwMDgwXCIsXG4gICAgICAgIHZpb2xldDogXCIjODAwMDgwXCIsXG4gICAgICAgIHJlZDogXCIjZmYwMDAwXCIsXG4gICAgICAgIHNpbHZlcjogXCIjYzBjMGMwXCIsXG4gICAgICAgIHdoaXRlOiBcIiNmZmZmZmZcIixcbiAgICAgICAgeWVsbG93OiBcIiNmZmZmMDBcIixcbiAgICAgICAgdHJhbnNwYXJlbnQ6IFtudWxsLCBudWxsLCBudWxsLCAwXSxcbiAgICAgICAgX2RlZmF1bHQ6IFwiI2ZmZmZmZlwiXG4gICAgfTtcbn0pKGpRdWVyeSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
