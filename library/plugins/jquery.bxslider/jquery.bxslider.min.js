"use strict";!function(t){var e={},s={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){},onSliderResize:function(){}};t.fn.bxSlider=function(n){if(0==this.length)return this;if(this.length>1)return this.each(function(){t(this).bxSlider(n)}),this;var o={},r=this;e.el=this;var a=t(window).width(),l=t(window).height(),d=function(){o.settings=t.extend({},s,n),o.settings.slideWidth=parseInt(o.settings.slideWidth),o.children=r.children(o.settings.slideSelector),o.children.length<o.settings.minSlides&&(o.settings.minSlides=o.children.length),o.children.length<o.settings.maxSlides&&(o.settings.maxSlides=o.children.length),o.settings.randomStart&&(o.settings.startSlide=Math.floor(Math.random()*o.children.length)),o.active={index:o.settings.startSlide},o.carousel=o.settings.minSlides>1||o.settings.maxSlides>1,o.carousel&&(o.settings.preloadImages="all"),o.minThreshold=o.settings.minSlides*o.settings.slideWidth+(o.settings.minSlides-1)*o.settings.slideMargin,o.maxThreshold=o.settings.maxSlides*o.settings.slideWidth+(o.settings.maxSlides-1)*o.settings.slideMargin,o.working=!1,o.controls={},o.interval=null,o.animProp="vertical"==o.settings.mode?"top":"left",o.usingCSS=o.settings.useCSS&&"fade"!=o.settings.mode&&function(){var t=document.createElement("div"),e=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var i in e)if(void 0!==t.style[e[i]])return o.cssPrefix=e[i].replace("Perspective","").toLowerCase(),o.animProp="-"+o.cssPrefix+"-transform",!0;return!1}(),"vertical"==o.settings.mode&&(o.settings.maxSlides=o.settings.minSlides),r.data("origStyle",r.attr("style")),r.children(o.settings.slideSelector).each(function(){t(this).data("origStyle",t(this).attr("style"))}),c()},c=function(){r.wrap('<div class="'+o.settings.wrapperClass+'"><div class="bx-viewport"></div></div>'),o.viewport=r.parent(),o.loader=t('<div class="bx-loading" />'),o.viewport.prepend(o.loader),r.css({width:"horizontal"==o.settings.mode?100*o.children.length+215+"%":"auto",position:"relative"}),o.usingCSS&&o.settings.easing?r.css("-"+o.cssPrefix+"-transition-timing-function",o.settings.easing):o.settings.easing||(o.settings.easing="swing");f();o.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),o.viewport.parent().css({maxWidth:v()}),o.settings.pager||o.viewport.parent().css({margin:"0 auto 0px"}),o.children.css({"float":"horizontal"==o.settings.mode?"left":"none",listStyle:"none",position:"relative"}),o.children.css("width",u()),"horizontal"==o.settings.mode&&o.settings.slideMargin>0&&o.children.css("marginRight",o.settings.slideMargin),"vertical"==o.settings.mode&&o.settings.slideMargin>0&&o.children.css("marginBottom",o.settings.slideMargin),"fade"==o.settings.mode&&(o.children.css({position:"absolute",zIndex:0,display:"none"}),o.children.eq(o.settings.startSlide).css({zIndex:o.settings.slideZIndex,display:"block"})),o.controls.el=t('<div class="bx-controls" />'),o.settings.captions&&P(),o.active.last=o.settings.startSlide==x()-1,o.settings.video&&r.fitVids();var e=o.children.eq(o.settings.startSlide);"all"==o.settings.preloadImages&&(e=o.children),o.settings.ticker?o.settings.pager=!1:(o.settings.pager&&T(),o.settings.controls&&C(),o.settings.auto&&o.settings.autoControls&&E(),(o.settings.controls||o.settings.autoControls||o.settings.pager)&&o.viewport.after(o.controls.el)),g(e,h)},g=function(e,i){var s=e.find("img, iframe").length;if(0==s)return void i();var n=0;e.find("img, iframe").each(function(){t(this).one("load",function(){++n==s&&i()}).each(function(){this.complete&&t(this).load()})})},h=function(){if(o.settings.infiniteLoop&&"fade"!=o.settings.mode&&!o.settings.ticker){var e="vertical"==o.settings.mode?o.settings.minSlides:o.settings.maxSlides,i=o.children.slice(0,e).clone().addClass("bx-clone"),s=o.children.slice(-e).clone().addClass("bx-clone");r.append(i).prepend(s)}o.loader.remove(),S(),"vertical"==o.settings.mode&&(o.settings.adaptiveHeight=!0),o.viewport.height(p()),r.redrawSlider(),o.settings.onSliderLoad(o.active.index),o.initialized=!0,o.settings.responsive&&t(window).bind("resize",V),o.settings.auto&&o.settings.autoStart&&(x()>1||o.settings.autoSlideForOnePage)&&H(),o.settings.ticker&&L(),o.settings.pager&&q(o.settings.startSlide),o.settings.controls&&W(),o.settings.touchEnabled&&!o.settings.ticker&&N()},p=function(){var e=0,s=t();if("vertical"==o.settings.mode||o.settings.adaptiveHeight)if(o.carousel){var n=1==o.settings.moveSlides?o.active.index:o.active.index*m();for(s=o.children.eq(n),i=1;i<=o.settings.maxSlides-1;i++)s=n+i>=o.children.length?s.add(o.children.eq(i-1)):s.add(o.children.eq(n+i))}else s=o.children.eq(o.active.index);else s=o.children;return"vertical"==o.settings.mode?(s.each(function(i){e+=t(this).outerHeight()}),o.settings.slideMargin>0&&(e+=o.settings.slideMargin*(o.settings.minSlides-1))):e=Math.max.apply(Math,s.map(function(){return t(this).outerHeight(!1)}).get()),"border-box"==o.viewport.css("box-sizing")?e+=parseFloat(o.viewport.css("padding-top"))+parseFloat(o.viewport.css("padding-bottom"))+parseFloat(o.viewport.css("border-top-width"))+parseFloat(o.viewport.css("border-bottom-width")):"padding-box"==o.viewport.css("box-sizing")&&(e+=parseFloat(o.viewport.css("padding-top"))+parseFloat(o.viewport.css("padding-bottom"))),e},v=function(){var t="100%";return o.settings.slideWidth>0&&(t="horizontal"==o.settings.mode?o.settings.maxSlides*o.settings.slideWidth+(o.settings.maxSlides-1)*o.settings.slideMargin:o.settings.slideWidth),t},u=function(){var t=o.settings.slideWidth,e=o.viewport.width();return 0==o.settings.slideWidth||o.settings.slideWidth>e&&!o.carousel||"vertical"==o.settings.mode?t=e:o.settings.maxSlides>1&&"horizontal"==o.settings.mode&&(e>o.maxThreshold||e<o.minThreshold&&(t=(e-o.settings.slideMargin*(o.settings.minSlides-1))/o.settings.minSlides)),t},f=function(){var t=1;if("horizontal"==o.settings.mode&&o.settings.slideWidth>0)if(o.viewport.width()<o.minThreshold)t=o.settings.minSlides;else if(o.viewport.width()>o.maxThreshold)t=o.settings.maxSlides;else{var e=o.children.first().width()+o.settings.slideMargin;t=Math.floor((o.viewport.width()+o.settings.slideMargin)/e)}else"vertical"==o.settings.mode&&(t=o.settings.minSlides);return t},x=function(){var t=0;if(o.settings.moveSlides>0)if(o.settings.infiniteLoop)t=Math.ceil(o.children.length/m());else for(var e=0,i=0;e<o.children.length;)++t,e=i+f(),i+=o.settings.moveSlides<=f()?o.settings.moveSlides:f();else t=Math.ceil(o.children.length/f());return t},m=function(){return o.settings.moveSlides>0&&o.settings.moveSlides<=f()?o.settings.moveSlides:f()},S=function(){if(o.children.length>o.settings.maxSlides&&o.active.last&&!o.settings.infiniteLoop){if("horizontal"==o.settings.mode){var t=o.children.last(),e=t.position();b(-(e.left-(o.viewport.width()-t.outerWidth())),"reset",0)}else if("vertical"==o.settings.mode){var i=o.children.length-o.settings.minSlides,e=o.children.eq(i).position();b(-e.top,"reset",0)}}else{var e=o.children.eq(o.active.index*m()).position();o.active.index==x()-1&&(o.active.last=!0),void 0!=e&&("horizontal"==o.settings.mode?b(-e.left,"reset",0):"vertical"==o.settings.mode&&b(-e.top,"reset",0))}},b=function Z(t,e,i,s){if(o.usingCSS){var n="vertical"==o.settings.mode?"translate3d(0, "+t+"px, 0)":"translate3d("+t+"px, 0, 0)";r.css("-"+o.cssPrefix+"-transition-duration",i/1e3+"s"),"slide"==e?(r.css(o.animProp,n),r.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){r.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),D()})):"reset"==e?r.css(o.animProp,n):"ticker"==e&&(r.css("-"+o.cssPrefix+"-transition-timing-function","linear"),r.css(o.animProp,n),r.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){r.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),Z(s.resetValue,"reset",0),F()}))}else{var a={};a[o.animProp]=t,"slide"==e?r.animate(a,i,o.settings.easing,function(){D()}):"reset"==e?r.css(o.animProp,t):"ticker"==e&&r.animate(a,speed,"linear",function(){Z(s.resetValue,"reset",0),F()})}},w=function(){for(var e="",i=x(),s=0;s<i;s++){var n="";o.settings.buildPager&&t.isFunction(o.settings.buildPager)?(n=o.settings.buildPager(s),o.pagerEl.addClass("bx-custom-pager")):(n=s+1,o.pagerEl.addClass("bx-default-pager")),e+='<div class="bx-pager-item"><a href="" data-slide-index="'+s+'" class="bx-pager-link">'+n+"</a></div>"}o.pagerEl.html(e)},T=function(){o.settings.pagerCustom?o.pagerEl=t(o.settings.pagerCustom):(o.pagerEl=t('<div class="bx-pager" />'),o.settings.pagerSelector?t(o.settings.pagerSelector).html(o.pagerEl):o.controls.el.addClass("bx-has-pager").append(o.pagerEl),w()),o.pagerEl.on("click","a",I)},C=function(){o.controls.next=t('<a class="bx-next" href="">'+o.settings.nextText+"</a>"),o.controls.prev=t('<a class="bx-prev" href="">'+o.settings.prevText+"</a>"),o.controls.next.bind("click",z),o.controls.prev.bind("click",y),o.settings.nextSelector&&t(o.settings.nextSelector).append(o.controls.next),o.settings.prevSelector&&t(o.settings.prevSelector).append(o.controls.prev),o.settings.nextSelector||o.settings.prevSelector||(o.controls.directionEl=t('<div class="bx-controls-direction" />'),o.controls.directionEl.append(o.controls.prev).append(o.controls.next),o.controls.el.addClass("bx-has-controls-direction").append(o.controls.directionEl))},E=function(){o.controls.start=t('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+o.settings.startText+"</a></div>"),o.controls.stop=t('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+o.settings.stopText+"</a></div>"),o.controls.autoEl=t('<div class="bx-controls-auto" />'),o.controls.autoEl.on("click",".bx-start",M),o.controls.autoEl.on("click",".bx-stop",k),o.settings.autoControlsCombine?o.controls.autoEl.append(o.controls.start):o.controls.autoEl.append(o.controls.start).append(o.controls.stop),o.settings.autoControlsSelector?t(o.settings.autoControlsSelector).html(o.controls.autoEl):o.controls.el.addClass("bx-has-controls-auto").append(o.controls.autoEl),A(o.settings.autoStart?"stop":"start")},P=function(){o.children.each(function(e){var i=t(this).find("img:first").attr("title");void 0!=i&&(""+i).length&&t(this).append('<div class="bx-caption"><span>'+i+"</span></div>")})},z=function(t){o.settings.auto&&r.stopAuto(),r.goToNextSlide(),t.preventDefault()},y=function(t){o.settings.auto&&r.stopAuto(),r.goToPrevSlide(),t.preventDefault()},M=function(t){r.startAuto(),t.preventDefault()},k=function(t){r.stopAuto(),t.preventDefault()},I=function(e){o.settings.auto&&r.stopAuto();var i=t(e.currentTarget);if(void 0!==i.attr("data-slide-index")){var s=parseInt(i.attr("data-slide-index"));s!=o.active.index&&r.goToSlide(s),e.preventDefault()}},q=function(e){var i=o.children.length;return"short"==o.settings.pagerType?(o.settings.maxSlides>1&&(i=Math.ceil(o.children.length/o.settings.maxSlides)),void o.pagerEl.html(e+1+o.settings.pagerShortSeparator+i)):(o.pagerEl.find("a").removeClass("active"),void o.pagerEl.each(function(i,s){t(s).find("a").eq(e).addClass("active")}))},D=function(){if(o.settings.infiniteLoop){var t="";0==o.active.index?t=o.children.eq(0).position():o.active.index==x()-1&&o.carousel?t=o.children.eq((x()-1)*m()).position():o.active.index==o.children.length-1&&(t=o.children.eq(o.children.length-1).position()),t&&("horizontal"==o.settings.mode?b(-t.left,"reset",0):"vertical"==o.settings.mode&&b(-t.top,"reset",0))}o.working=!1,o.settings.onSlideAfter(o.children.eq(o.active.index),o.oldIndex,o.active.index)},A=function(t){o.settings.autoControlsCombine?o.controls.autoEl.html(o.controls[t]):(o.controls.autoEl.find("a").removeClass("active"),o.controls.autoEl.find("a:not(.bx-"+t+")").addClass("active"))},W=function(){1==x()?(o.controls.prev.addClass("disabled"),o.controls.next.addClass("disabled")):!o.settings.infiniteLoop&&o.settings.hideControlOnEnd&&(0==o.active.index?(o.controls.prev.addClass("disabled"),o.controls.next.removeClass("disabled")):o.active.index==x()-1?(o.controls.next.addClass("disabled"),o.controls.prev.removeClass("disabled")):(o.controls.prev.removeClass("disabled"),o.controls.next.removeClass("disabled")))},H=function(){if(o.settings.autoDelay>0){setTimeout(r.startAuto,o.settings.autoDelay)}else r.startAuto();o.settings.autoHover&&r.hover(function(){o.interval&&(r.stopAuto(!0),o.autoPaused=!0)},function(){o.autoPaused&&(r.startAuto(!0),o.autoPaused=null)})},L=function(){var e=0;if("next"==o.settings.autoDirection)r.append(o.children.clone().addClass("bx-clone"));else{r.prepend(o.children.clone().addClass("bx-clone"));var i=o.children.first().position();e="horizontal"==o.settings.mode?-i.left:-i.top}b(e,"reset",0),o.settings.pager=!1,o.settings.controls=!1,o.settings.autoControls=!1,o.settings.tickerHover&&!o.usingCSS&&o.viewport.hover(function(){r.stop()},function(){var e=0;o.children.each(function(i){e+="horizontal"==o.settings.mode?t(this).outerWidth(!0):t(this).outerHeight(!0)});var i=o.settings.speed/e,s="horizontal"==o.settings.mode?"left":"top",n=i*(e-Math.abs(parseInt(r.css(s))));F(n)}),F()},F=function(t){speed=t?t:o.settings.speed;var e={left:0,top:0},i={left:0,top:0};"next"==o.settings.autoDirection?e=r.find(".bx-clone").first().position():i=o.children.first().position();var s="horizontal"==o.settings.mode?-e.left:-e.top,n="horizontal"==o.settings.mode?-i.left:-i.top,a={resetValue:n};b(s,"ticker",speed,a)},N=function(){o.touch={start:{x:0,y:0},end:{x:0,y:0}},o.viewport.bind("touchstart",O)},O=function(t){if(o.working)t.preventDefault();else{o.touch.originalPos=r.position();var e=t.originalEvent;o.touch.start.x=e.changedTouches[0].pageX,o.touch.start.y=e.changedTouches[0].pageY,o.viewport.bind("touchmove",X),o.viewport.bind("touchend",Y)}},X=function(t){var e=t.originalEvent,i=Math.abs(e.changedTouches[0].pageX-o.touch.start.x),s=Math.abs(e.changedTouches[0].pageY-o.touch.start.y);if(3*i>s&&o.settings.preventDefaultSwipeX?t.preventDefault():3*s>i&&o.settings.preventDefaultSwipeY&&t.preventDefault(),"fade"!=o.settings.mode&&o.settings.oneToOneTouch){var n=0;if("horizontal"==o.settings.mode){var r=e.changedTouches[0].pageX-o.touch.start.x;n=o.touch.originalPos.left+r}else{var r=e.changedTouches[0].pageY-o.touch.start.y;n=o.touch.originalPos.top+r}b(n,"reset",0)}},Y=function B(t){o.viewport.unbind("touchmove",X);var e=t.originalEvent,i=0;if(o.touch.end.x=e.changedTouches[0].pageX,o.touch.end.y=e.changedTouches[0].pageY,"fade"==o.settings.mode){var s=Math.abs(o.touch.start.x-o.touch.end.x);s>=o.settings.swipeThreshold&&(o.touch.start.x>o.touch.end.x?r.goToNextSlide():r.goToPrevSlide(),r.stopAuto())}else{var s=0;"horizontal"==o.settings.mode?(s=o.touch.end.x-o.touch.start.x,i=o.touch.originalPos.left):(s=o.touch.end.y-o.touch.start.y,i=o.touch.originalPos.top),!o.settings.infiniteLoop&&(0==o.active.index&&s>0||o.active.last&&s<0)?b(i,"reset",200):Math.abs(s)>=o.settings.swipeThreshold?(s<0?r.goToNextSlide():r.goToPrevSlide(),r.stopAuto()):b(i,"reset",200)}o.viewport.unbind("touchend",B)},V=function(e){if(o.initialized){var i=t(window).width(),s=t(window).height();a==i&&l==s||(a=i,l=s,r.redrawSlider(),o.settings.onSliderResize.call(r,o.active.index))}};return r.goToSlide=function(e,i){if(!o.working&&o.active.index!=e)if(o.working=!0,o.oldIndex=o.active.index,e<0?o.active.index=x()-1:e>=x()?o.active.index=0:o.active.index=e,o.settings.onSlideBefore(o.children.eq(o.active.index),o.oldIndex,o.active.index),"next"==i?o.settings.onSlideNext(o.children.eq(o.active.index),o.oldIndex,o.active.index):"prev"==i&&o.settings.onSlidePrev(o.children.eq(o.active.index),o.oldIndex,o.active.index),o.active.last=o.active.index>=x()-1,o.settings.pager&&q(o.active.index),o.settings.controls&&W(),"fade"==o.settings.mode)o.settings.adaptiveHeight&&o.viewport.height()!=p()&&o.viewport.animate({height:p()},o.settings.adaptiveHeightSpeed),o.children.filter(":visible").fadeOut(o.settings.speed).css({zIndex:0}),o.children.eq(o.active.index).css("zIndex",o.settings.slideZIndex+1).fadeIn(o.settings.speed,function(){t(this).css("zIndex",o.settings.slideZIndex),D()});else{o.settings.adaptiveHeight&&o.viewport.height()!=p()&&o.viewport.animate({height:p()},o.settings.adaptiveHeightSpeed);var s=0,n={left:0,top:0};if(!o.settings.infiniteLoop&&o.carousel&&o.active.last)if("horizontal"==o.settings.mode){var a=o.children.eq(o.children.length-1);n=a.position(),s=o.viewport.width()-a.outerWidth()}else{var l=o.children.length-o.settings.minSlides;n=o.children.eq(l).position()}else if(o.carousel&&o.active.last&&"prev"==i){var d=1==o.settings.moveSlides?o.settings.maxSlides-m():(x()-1)*m()-(o.children.length-o.settings.maxSlides),a=r.children(".bx-clone").eq(d);n=a.position()}else if("next"==i&&0==o.active.index)n=r.find("> .bx-clone").eq(o.settings.maxSlides).position(),o.active.last=!1;else if(e>=0){var c=e*m();n=o.children.eq(c).position()}if("undefined"!=typeof n){var g="horizontal"==o.settings.mode?-(n.left-s):-n.top;b(g,"slide",o.settings.speed)}}},r.goToNextSlide=function(){if(o.settings.infiniteLoop||!o.active.last){var t=parseInt(o.active.index)+1;r.goToSlide(t,"next")}},r.goToPrevSlide=function(){if(o.settings.infiniteLoop||0!=o.active.index){var t=parseInt(o.active.index)-1;r.goToSlide(t,"prev")}},r.startAuto=function(t){o.interval||(o.interval=setInterval(function(){"next"==o.settings.autoDirection?r.goToNextSlide():r.goToPrevSlide()},o.settings.pause),o.settings.autoControls&&1!=t&&A("stop"))},r.stopAuto=function(t){o.interval&&(clearInterval(o.interval),o.interval=null,o.settings.autoControls&&1!=t&&A("start"))},r.getCurrentSlide=function(){return o.active.index},r.getCurrentSlideElement=function(){return o.children.eq(o.active.index)},r.getSlideCount=function(){return o.children.length},r.redrawSlider=function(){o.children.add(r.find(".bx-clone")).width(u()),o.viewport.css("height",p()),o.settings.ticker||S(),o.active.last&&(o.active.index=x()-1),o.active.index>=x()&&(o.active.last=!0),o.settings.pager&&!o.settings.pagerCustom&&(w(),q(o.active.index))},r.destroySlider=function(){o.initialized&&(o.initialized=!1,t(".bx-clone",this).remove(),o.children.each(function(){void 0!=t(this).data("origStyle")?t(this).attr("style",t(this).data("origStyle")):t(this).removeAttr("style")}),void 0!=t(this).data("origStyle")?this.attr("style",t(this).data("origStyle")):t(this).removeAttr("style"),t(this).unwrap().unwrap(),o.controls.el&&o.controls.el.remove(),o.controls.next&&o.controls.next.remove(),o.controls.prev&&o.controls.prev.remove(),o.pagerEl&&o.settings.controls&&o.pagerEl.remove(),t(".bx-caption",this).remove(),o.controls.autoEl&&o.controls.autoEl.remove(),clearInterval(o.interval),o.settings.responsive&&t(window).unbind("resize",V))},r.reloadSlider=function(t){void 0!=t&&(n=t),r.destroySlider(),d()},d(),this}}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYnJhcnkvcGx1Z2lucy9qcXVlcnkuYnhzbGlkZXIvanF1ZXJ5LmJ4c2xpZGVyLmpzIl0sIm5hbWVzIjpbIiQiLCJwbHVnaW4iLCJkZWZhdWx0cyIsIm1vZGUiLCJzbGlkZVNlbGVjdG9yIiwiaW5maW5pdGVMb29wIiwiaGlkZUNvbnRyb2xPbkVuZCIsInNwZWVkIiwiZWFzaW5nIiwic2xpZGVNYXJnaW4iLCJzdGFydFNsaWRlIiwicmFuZG9tU3RhcnQiLCJjYXB0aW9ucyIsInRpY2tlciIsInRpY2tlckhvdmVyIiwiYWRhcHRpdmVIZWlnaHQiLCJhZGFwdGl2ZUhlaWdodFNwZWVkIiwidmlkZW8iLCJ1c2VDU1MiLCJwcmVsb2FkSW1hZ2VzIiwicmVzcG9uc2l2ZSIsInNsaWRlWkluZGV4Iiwid3JhcHBlckNsYXNzIiwidG91Y2hFbmFibGVkIiwic3dpcGVUaHJlc2hvbGQiLCJvbmVUb09uZVRvdWNoIiwicHJldmVudERlZmF1bHRTd2lwZVgiLCJwcmV2ZW50RGVmYXVsdFN3aXBlWSIsInBhZ2VyIiwicGFnZXJUeXBlIiwicGFnZXJTaG9ydFNlcGFyYXRvciIsInBhZ2VyU2VsZWN0b3IiLCJidWlsZFBhZ2VyIiwicGFnZXJDdXN0b20iLCJjb250cm9scyIsIm5leHRUZXh0IiwicHJldlRleHQiLCJuZXh0U2VsZWN0b3IiLCJwcmV2U2VsZWN0b3IiLCJhdXRvQ29udHJvbHMiLCJzdGFydFRleHQiLCJzdG9wVGV4dCIsImF1dG9Db250cm9sc0NvbWJpbmUiLCJhdXRvQ29udHJvbHNTZWxlY3RvciIsImF1dG8iLCJwYXVzZSIsImF1dG9TdGFydCIsImF1dG9EaXJlY3Rpb24iLCJhdXRvSG92ZXIiLCJhdXRvRGVsYXkiLCJhdXRvU2xpZGVGb3JPbmVQYWdlIiwibWluU2xpZGVzIiwibWF4U2xpZGVzIiwibW92ZVNsaWRlcyIsInNsaWRlV2lkdGgiLCJvblNsaWRlckxvYWQiLCJvblNsaWRlQmVmb3JlIiwib25TbGlkZUFmdGVyIiwib25TbGlkZU5leHQiLCJvblNsaWRlUHJldiIsIm9uU2xpZGVyUmVzaXplIiwiZm4iLCJieFNsaWRlciIsIm9wdGlvbnMiLCJ0aGlzIiwibGVuZ3RoIiwiZWFjaCIsInNsaWRlciIsImVsIiwid2luZG93V2lkdGgiLCJ3aW5kb3ciLCJ3aWR0aCIsIndpbmRvd0hlaWdodCIsImhlaWdodCIsImluaXQiLCJzZXR0aW5ncyIsImV4dGVuZCIsInBhcnNlSW50IiwiY2hpbGRyZW4iLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJhY3RpdmUiLCJpbmRleCIsImNhcm91c2VsIiwibWluVGhyZXNob2xkIiwibWF4VGhyZXNob2xkIiwid29ya2luZyIsImludGVydmFsIiwiYW5pbVByb3AiLCJ1c2luZ0NTUyIsImRpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInByb3BzIiwiaSIsInVuZGVmaW5lZCIsInN0eWxlIiwiY3NzUHJlZml4IiwicmVwbGFjZSIsInRvTG93ZXJDYXNlIiwiZGF0YSIsImF0dHIiLCJzZXR1cCIsIndyYXAiLCJ2aWV3cG9ydCIsInBhcmVudCIsImxvYWRlciIsInByZXBlbmQiLCJjc3MiLCJwb3NpdGlvbiIsImdldE51bWJlclNsaWRlc1Nob3dpbmciLCJvdmVyZmxvdyIsIm1heFdpZHRoIiwiZ2V0Vmlld3BvcnRNYXhXaWR0aCIsIm1hcmdpbiIsImZsb2F0IiwibGlzdFN0eWxlIiwiZ2V0U2xpZGVXaWR0aCIsInpJbmRleCIsImRpc3BsYXkiLCJlcSIsImFwcGVuZENhcHRpb25zIiwibGFzdCIsImdldFBhZ2VyUXR5IiwiZml0VmlkcyIsInByZWxvYWRTZWxlY3RvciIsImFwcGVuZFBhZ2VyIiwiYXBwZW5kQ29udHJvbHMiLCJhcHBlbmRDb250cm9sc0F1dG8iLCJhZnRlciIsImxvYWRFbGVtZW50cyIsInN0YXJ0Iiwic2VsZWN0b3IiLCJjYWxsYmFjayIsInRvdGFsIiwiZmluZCIsImNvdW50Iiwib25lIiwiY29tcGxldGUiLCJsb2FkIiwic2xpY2UiLCJzbGljZUFwcGVuZCIsImNsb25lIiwiYWRkQ2xhc3MiLCJzbGljZVByZXBlbmQiLCJhcHBlbmQiLCJyZW1vdmUiLCJzZXRTbGlkZVBvc2l0aW9uIiwiZ2V0Vmlld3BvcnRIZWlnaHQiLCJyZWRyYXdTbGlkZXIiLCJpbml0aWFsaXplZCIsImJpbmQiLCJyZXNpemVXaW5kb3ciLCJpbml0QXV0byIsImluaXRUaWNrZXIiLCJ1cGRhdGVQYWdlckFjdGl2ZSIsInVwZGF0ZURpcmVjdGlvbkNvbnRyb2xzIiwiaW5pdFRvdWNoIiwiY3VycmVudEluZGV4IiwiZ2V0TW92ZUJ5IiwiYWRkIiwib3V0ZXJIZWlnaHQiLCJtYXgiLCJhcHBseSIsIm1hcCIsImdldCIsInBhcnNlRmxvYXQiLCJuZXdFbFdpZHRoIiwid3JhcFdpZHRoIiwic2xpZGVzU2hvd2luZyIsImNoaWxkV2lkdGgiLCJmaXJzdCIsInBhZ2VyUXR5IiwiY2VpbCIsImJyZWFrUG9pbnQiLCJjb3VudGVyIiwibGFzdENoaWxkIiwic2V0UG9zaXRpb25Qcm9wZXJ0eSIsImxlZnQiLCJvdXRlcldpZHRoIiwibGFzdFNob3dpbmdJbmRleCIsInRvcCIsInZhbHVlIiwidHlwZSIsImR1cmF0aW9uIiwicGFyYW1zIiwicHJvcFZhbHVlIiwidW5iaW5kIiwidXBkYXRlQWZ0ZXJTbGlkZVRyYW5zaXRpb24iLCJ0aWNrZXJMb29wIiwiYW5pbWF0ZU9iaiIsImFuaW1hdGUiLCJwb3B1bGF0ZVBhZ2VyIiwicGFnZXJIdG1sIiwibGlua0NvbnRlbnQiLCJpc0Z1bmN0aW9uIiwicGFnZXJFbCIsImh0bWwiLCJvbiIsImNsaWNrUGFnZXJCaW5kIiwibmV4dCIsInByZXYiLCJjbGlja05leHRCaW5kIiwiY2xpY2tQcmV2QmluZCIsImRpcmVjdGlvbkVsIiwic3RvcCIsImF1dG9FbCIsImNsaWNrU3RhcnRCaW5kIiwiY2xpY2tTdG9wQmluZCIsInVwZGF0ZUF1dG9Db250cm9scyIsInRpdGxlIiwiZSIsInN0b3BBdXRvIiwiZ29Ub05leHRTbGlkZSIsInByZXZlbnREZWZhdWx0IiwiZ29Ub1ByZXZTbGlkZSIsInN0YXJ0QXV0byIsInBhZ2VyTGluayIsImN1cnJlbnRUYXJnZXQiLCJwYWdlckluZGV4IiwiZ29Ub1NsaWRlIiwic2xpZGVJbmRleCIsImxlbiIsInJlbW92ZUNsYXNzIiwib2xkSW5kZXgiLCJzdGF0ZSIsInNldFRpbWVvdXQiLCJob3ZlciIsImF1dG9QYXVzZWQiLCJzdGFydFBvc2l0aW9uIiwidG90YWxEaW1lbnMiLCJyYXRpbyIsInByb3BlcnR5IiwibmV3U3BlZWQiLCJhYnMiLCJyZXN1bWVTcGVlZCIsInJlc2V0IiwiYW5pbWF0ZVByb3BlcnR5IiwicmVzZXRWYWx1ZSIsInRvdWNoIiwieCIsInkiLCJlbmQiLCJvblRvdWNoU3RhcnQiLCJvcmlnaW5hbFBvcyIsIm9yaWciLCJvcmlnaW5hbEV2ZW50IiwiY2hhbmdlZFRvdWNoZXMiLCJwYWdlWCIsInBhZ2VZIiwib25Ub3VjaE1vdmUiLCJvblRvdWNoRW5kIiwieE1vdmVtZW50IiwieU1vdmVtZW50IiwiY2hhbmdlIiwiZGlzdGFuY2UiLCJ3aW5kb3dXaWR0aE5ldyIsIndpbmRvd0hlaWdodE5ldyIsImNhbGwiLCJkaXJlY3Rpb24iLCJmaWx0ZXIiLCJmYWRlT3V0IiwiZmFkZUluIiwibW92ZUJ5IiwicmVxdWVzdEVsIiwicHJldmVudENvbnRyb2xVcGRhdGUiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJnZXRDdXJyZW50U2xpZGUiLCJnZXRDdXJyZW50U2xpZGVFbGVtZW50IiwiZ2V0U2xpZGVDb3VudCIsImRlc3Ryb3lTbGlkZXIiLCJyZW1vdmVBdHRyIiwidW53cmFwIiwicmVsb2FkU2xpZGVyIiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiQUFBQSxjQVVDLFNBQVVBLEdBRVYsR0FBSUMsTUFFQUMsR0FHSEMsS0FBTSxhQUNOQyxjQUFlLEdBQ2ZDLGNBQWMsRUFDZEMsa0JBQWtCLEVBQ2xCQyxNQUFPLElBQ1BDLE9BQVEsS0FDUkMsWUFBYSxFQUNiQyxXQUFZLEVBQ1pDLGFBQWEsRUFDYkMsVUFBVSxFQUNWQyxRQUFRLEVBQ1JDLGFBQWEs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QnJDLEtBQUtzQyxLQUFLLFFBQVN0RyxFQUFFZ0UsTUFBTXFDLEtBQUssY0FBZ0JyRyxFQUFFZ0UsTUFBTWlOLFdBQVcsU0FDNUdqUixFQUFFZ0UsTUFBTWtOLFNBQVNBLFNBQ2QvTSxFQUFPakMsU0FBU2tDLElBQUlELEVBQU9qQyxTQUFTa0MsR0FBRytFLFNBQ3ZDaEYsRUFBT2pDLFNBQVN1SyxNQUFNdEksRUFBT2pDLFNBQVN1SyxLQUFLdEQsU0FDM0NoRixFQUFPakMsU0FBU3dLLE1BQU12SSxFQUFPakMsU0FBU3dLLEtBQUt2RCxTQUMzQ2hGLEVBQU9rSSxTQUFXbEksRUFBT1EsU0FBU3pDLFVBQVVpQyxFQUFPa0ksUUFBUWxELFNBQzlEbkosRUFBRSxjQUFlZ0UsTUFBTW1GLFNBQ3BCaEYsRUFBT2pDLFNBQVM2SyxRQUFRNUksRUFBT2pDLFNBQVM2SyxPQUFPNUQsU0FDbER5SCxjQUFjek0sRUFBT3FCLFVBQ2xCckIsRUFBT1EsU0FBU3ZELFlBQVlwQixFQUFFc0UsUUFBUXNILE9BQU8sU0FBVW5DLEtBTTNEckYsRUFBRytNLGFBQWUsU0FBU3hNLEdBQ1ZxQixRQUFackIsSUFBdUJaLEVBQVVZLEdBQ3JDUCxFQUFHNE0sZ0JBQ0h0TSxLQUdEQSxJQUdPVixPQUdOb04iLCJmaWxlIjoibGlicmFyeS9wbHVnaW5zL2pxdWVyeS5ieHNsaWRlci9qcXVlcnkuYnhzbGlkZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQnhTbGlkZXIgdjQuMS4yIC0gRnVsbHkgbG9hZGVkLCByZXNwb25zaXZlIGNvbnRlbnQgc2xpZGVyXHJcbiAqIGh0dHA6Ly9ieHNsaWRlci5jb21cclxuICpcclxuICogQ29weXJpZ2h0IDIwMTQsIFN0ZXZlbiBXYW5kZXJza2kgLSBodHRwOi8vc3RldmVud2FuZGVyc2tpLmNvbSAtIGh0dHA6Ly9ieGNyZWF0aXZlLmNvbVxyXG4gKiBXcml0dGVuIHdoaWxlIGRyaW5raW5nIEJlbGdpYW4gYWxlcyBhbmQgbGlzdGVuaW5nIHRvIGphenpcclxuICpcclxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIC0gaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxyXG4gKi9cclxuXHJcbjsoZnVuY3Rpb24oJCl7XHJcblxyXG5cdHZhciBwbHVnaW4gPSB7fTtcclxuXHJcblx0dmFyIGRlZmF1bHRzID0ge1xyXG5cclxuXHRcdC8vIEdFTkVSQUxcclxuXHRcdG1vZGU6ICdob3Jpem9udGFsJyxcclxuXHRcdHNsaWRlU2VsZWN0b3I6ICcnLFxyXG5cdFx0aW5maW5pdGVMb29wOiB0cnVlLFxyXG5cdFx0aGlkZUNvbnRyb2xPbkVuZDogZmFsc2UsXHJcblx0XHRzcGVlZDogNTAwLFxyXG5cdFx0ZWFzaW5nOiBudWxsLFxyXG5cdFx0c2xpZGVNYXJnaW46IDAsXHJcblx0XHRzdGFydFNsaWRlOiAwLFxyXG5cdFx0cmFuZG9tU3RhcnQ6IGZhbHNlLFxyXG5cdFx0Y2FwdGlvbnM6IGZhbHNlLFxyXG5cdFx0dGlja2VyOiBmYWxzZSxcclxuXHRcdHRpY2tlckhvdmVyOiBmYWxzZSxcclxuXHRcdGFkYXB0aXZlSGVpZ2h0OiBmYWxzZSxcclxuXHRcdGFkYXB0aXZlSGVpZ2h0U3BlZWQ6IDUwMCxcclxuXHRcdHZpZGVvOiBmYWxzZSxcclxuXHRcdHVzZUNTUzogdHJ1ZSxcclxuXHRcdHByZWxvYWRJbWFnZXM6ICd2aXNpYmxlJyxcclxuXHRcdHJlc3BvbnNpdmU6IHRydWUsXHJcblx0XHRzbGlkZVpJbmRleDogNTAsXHJcblx0XHR3cmFwcGVyQ2xhc3M6ICdieC13cmFwcGVyJyxcclxuXHJcblx0XHQvLyBUT1VDSFxyXG5cdFx0dG91Y2hFbmFibGVkOiB0cnVlLFxyXG5cdFx0c3dpcGVUaHJlc2hvbGQ6IDUwLFxyXG5cdFx0b25lVG9PbmVUb3VjaDogdHJ1ZSxcclxuXHRcdHByZXZlbnREZWZhdWx0U3dpcGVYOiB0cnVlLFxyXG5cdFx0cHJldmVudERlZmF1bHRTd2lwZVk6IGZhbHNlLFxyXG5cclxuXHRcdC8vIFBBR0VSXHJcblx0XHRwYWdlcjogdHJ1ZSxcclxuXHRcdHBhZ2VyVHlwZTogJ2Z1bGwnLFxyXG5cdFx0cGFnZXJTaG9ydFNlcGFyYXRvcjogJyAvICcsXHJcblx0XHRwYWdlclNlbGVjdG9yOiBudWxsLFxyXG5cdFx0YnVpbGRQYWdlcjogbnVsbCxcclxuXHRcdHBhZ2VyQ3VzdG9tOiBudWxsLFxyXG5cclxuXHRcdC8vIENPTlRST0xTXHJcblx0XHRjb250cm9sczogdHJ1ZSxcclxuXHRcdG5leHRUZXh0OiAnTmV4dCcsXHJcblx0XHRwcmV2VGV4dDogJ1ByZXYnLFxyXG5cdFx0bmV4dFNlbGVjdG9yOiBudWxsLFxyXG5cdFx0cHJldlNlbGVjdG9yOiBudWxsLFxyXG5cdFx0YXV0b0NvbnRyb2xzOiBmYWxzZSxcclxuXHRcdHN0YXJ0VGV4dDogJ1N0YXJ0JyxcclxuXHRcdHN0b3BUZXh0OiAnU3RvcCcsXHJcblx0XHRhdXRvQ29udHJvbHNDb21iaW5lOiBmYWxzZSxcclxuXHRcdGF1dG9Db250cm9sc1NlbGVjdG9yOiBudWxsLFxyXG5cclxuXHRcdC8vIEFVVE9cclxuXHRcdGF1dG86IGZhbHNlLFxyXG5cdFx0cGF1c2U6IDQwMDAsXHJcblx0XHRhdXRvU3RhcnQ6IHRydWUsXHJcblx0XHRhdXRvRGlyZWN0aW9uOiAnbmV4dCcsXHJcblx0XHRhdXRvSG92ZXI6IGZhbHNlLFxyXG5cdFx0YXV0b0RlbGF5OiAwLFxyXG5cdFx0YXV0b1NsaWRlRm9yT25lUGFnZTogZmFsc2UsXHJcblxyXG5cdFx0Ly8gQ0FST1VTRUxcclxuXHRcdG1pblNsaWRlczogMSxcclxuXHRcdG1heFNsaWRlczogMSxcclxuXHRcdG1vdmVTbGlkZXM6IDAsXHJcblx0XHRzbGlkZVdpZHRoOiAwLFxyXG5cclxuXHRcdC8vIENBTExCQUNLU1xyXG5cdFx0b25TbGlkZXJMb2FkOiBmdW5jdGlvbigpIHt9LFxyXG5cdFx0b25TbGlkZUJlZm9yZTogZnVuY3Rpb24oKSB7fSxcclxuXHRcdG9uU2xpZGVBZnRlcjogZnVuY3Rpb24oKSB7fSxcclxuXHRcdG9uU2xpZGVOZXh0OiBmdW5jdGlvbigpIHt9LFxyXG5cdFx0b25TbGlkZVByZXY6IGZ1bmN0aW9uKCkge30sXHJcblx0XHRvblNsaWRlclJlc2l6ZTogZnVuY3Rpb24oKSB7fVxyXG5cdH1cclxuXHJcblx0JC5mbi5ieFNsaWRlciA9IGZ1bmN0aW9uKG9wdGlvbnMpe1xyXG5cclxuXHRcdGlmKHRoaXMubGVuZ3RoID09IDApIHJldHVybiB0aGlzO1xyXG5cclxuXHRcdC8vIHN1cHBvcnQgbXV0bHRpcGxlIGVsZW1lbnRzXHJcblx0XHRpZih0aGlzLmxlbmd0aCA+IDEpe1xyXG5cdFx0XHR0aGlzLmVhY2goZnVuY3Rpb24oKXskKHRoaXMpLmJ4U2xpZGVyKG9wdGlvbnMpfSk7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGNyZWF0ZSBhIG5hbWVzcGFjZSB0byBiZSB1c2VkIHRocm91Z2hvdXQgdGhlIHBsdWdpblxyXG5cdFx0dmFyIHNsaWRlciA9IHt9O1xyXG5cdFx0Ly8gc2V0IGEgcmVmZXJlbmNlIHRvIG91ciBzbGlkZXIgZWxlbWVudFxyXG5cdFx0dmFyIGVsID0gdGhpcztcclxuXHRcdHBsdWdpbi5lbCA9IHRoaXM7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBNYWtlcyBzbGlkZXNob3cgcmVzcG9uc2l2ZVxyXG5cdFx0ICovXHJcblx0XHQvLyBmaXJzdCBnZXQgdGhlIG9yaWdpbmFsIHdpbmRvdyBkaW1lbnMgKHRoYW5rcyBhbG90IElFKVxyXG5cdFx0dmFyIHdpbmRvd1dpZHRoID0gJCh3aW5kb3cpLndpZHRoKCk7XHJcblx0XHR2YXIgd2luZG93SGVpZ2h0ID0gJCh3aW5kb3cpLmhlaWdodCgpO1xyXG5cclxuXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdFx0ICogPSBQUklWQVRFIEZVTkNUSU9OU1xyXG5cdFx0ICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHRcdCAqL1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogSW5pdGlhbGl6ZXMgbmFtZXNwYWNlIHNldHRpbmdzIHRvIGJlIHVzZWQgdGhyb3VnaG91dCBwbHVnaW5cclxuXHRcdCAqL1xyXG5cdFx0dmFyIGluaXQgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHQvLyBtZXJnZSB1c2VyLXN1cHBsaWVkIG9wdGlvbnMgd2l0aCB0aGUgZGVmYXVsdHNcclxuXHRcdFx0c2xpZGVyLnNldHRpbmdzID0gJC5leHRlbmQoe30sIGRlZmF1bHRzLCBvcHRpb25zKTtcclxuXHRcdFx0Ly8gcGFyc2Ugc2xpZGVXaWR0aCBzZXR0aW5nXHJcblx0XHRcdHNsaWRlci5zZXR0aW5ncy5zbGlkZVdpZHRoID0gcGFyc2VJbnQoc2xpZGVyLnNldHRpbmdzLnNsaWRlV2lkdGgpO1xyXG5cdFx0XHQvLyBzdG9yZSB0aGUgb3JpZ2luYWwgY2hpbGRyZW5cclxuXHRcdFx0c2xpZGVyLmNoaWxkcmVuID0gZWwuY2hpbGRyZW4oc2xpZGVyLnNldHRpbmdzLnNsaWRlU2VsZWN0b3IpO1xyXG5cdFx0XHQvLyBjaGVjayBpZiBhY3R1YWwgbnVtYmVyIG9mIHNsaWRlcyBpcyBsZXNzIHRoYW4gbWluU2xpZGVzIC8gbWF4U2xpZGVzXHJcblx0XHRcdGlmKHNsaWRlci5jaGlsZHJlbi5sZW5ndGggPCBzbGlkZXIuc2V0dGluZ3MubWluU2xpZGVzKSBzbGlkZXIuc2V0dGluZ3MubWluU2xpZGVzID0gc2xpZGVyLmNoaWxkcmVuLmxlbmd0aDtcclxuXHRcdFx0aWYoc2xpZGVyLmNoaWxkcmVuLmxlbmd0aCA8IHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMpIHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMgPSBzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoO1xyXG5cdFx0XHQvLyBpZiByYW5kb20gc3RhcnQsIHNldCB0aGUgc3RhcnRTbGlkZSBzZXR0aW5nIHRvIHJhbmRvbSBudW1iZXJcclxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLnJhbmRvbVN0YXJ0KSBzbGlkZXIuc2V0dGluZ3Muc3RhcnRTbGlkZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHNsaWRlci5jaGlsZHJlbi5sZW5ndGgpO1xyXG5cdFx0XHQvLyBzdG9yZSBhY3RpdmUgc2xpZGUgaW5mb3JtYXRpb25cclxuXHRcdFx0c2xpZGVyLmFjdGl2ZSA9IHsgaW5kZXg6IHNsaWRlci5zZXR0aW5ncy5zdGFydFNsaWRlIH1cclxuXHRcdFx0Ly8gc3RvcmUgaWYgdGhlIHNsaWRlciBpcyBpbiBjYXJvdXNlbCBtb2RlIChkaXNwbGF5aW5nIC8gbW92aW5nIG11bHRpcGxlIHNsaWRlcylcclxuXHRcdFx0c2xpZGVyLmNhcm91c2VsID0gc2xpZGVyLnNldHRpbmdzLm1pblNsaWRlcyA+IDEgfHwgc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcyA+IDE7XHJcblx0XHRcdC8vIGlmIGNhcm91c2VsLCBmb3JjZSBwcmVsb2FkSW1hZ2VzID0gJ2FsbCdcclxuXHRcdFx0aWYoc2xpZGVyLmNhcm91c2VsKSBzbGlkZXIuc2V0dGluZ3MucHJlbG9hZEltYWdlcyA9ICdhbGwnO1xyXG5cdFx0XHQvLyBjYWxjdWxhdGUgdGhlIG1pbiAvIG1heCB3aWR0aCB0aHJlc2hvbGRzIGJhc2VkIG9uIG1pbiAvIG1heCBudW1iZXIgb2Ygc2xpZGVzXHJcblx0XHRcdC8vIHVzZWQgdG8gc2V0dXAgYW5kIHVwZGF0ZSBjYXJvdXNlbCBzbGlkZXMgZGltZW5zaW9uc1xyXG5cdFx0XHRzbGlkZXIubWluVGhyZXNob2xkID0gKHNsaWRlci5zZXR0aW5ncy5taW5TbGlkZXMgKiBzbGlkZXIuc2V0dGluZ3Muc2xpZGVXaWR0aCkgKyAoKHNsaWRlci5zZXR0aW5ncy5taW5TbGlkZXMgLSAxKSAqIHNsaWRlci5zZXR0aW5ncy5zbGlkZU1hcmdpbik7XHJcblx0XHRcdHNsaWRlci5tYXhUaHJlc2hvbGQgPSAoc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcyAqIHNsaWRlci5zZXR0aW5ncy5zbGlkZVdpZHRoKSArICgoc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcyAtIDEpICogc2xpZGVyLnNldHRpbmdzLnNsaWRlTWFyZ2luKTtcclxuXHRcdFx0Ly8gc3RvcmUgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIHNsaWRlciAoaWYgY3VycmVudGx5IGFuaW1hdGluZywgd29ya2luZyBpcyB0cnVlKVxyXG5cdFx0XHRzbGlkZXIud29ya2luZyA9IGZhbHNlO1xyXG5cdFx0XHQvLyBpbml0aWFsaXplIHRoZSBjb250cm9scyBvYmplY3RcclxuXHRcdFx0c2xpZGVyLmNvbnRyb2xzID0ge307XHJcblx0XHRcdC8vIGluaXRpYWxpemUgYW4gYXV0byBpbnRlcnZhbFxyXG5cdFx0XHRzbGlkZXIuaW50ZXJ2YWwgPSBudWxsO1xyXG5cdFx0XHQvLyBkZXRlcm1pbmUgd2hpY2ggcHJvcGVydHkgdG8gdXNlIGZvciB0cmFuc2l0aW9uc1xyXG5cdFx0XHRzbGlkZXIuYW5pbVByb3AgPSBzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAndmVydGljYWwnID8gJ3RvcCcgOiAnbGVmdCc7XHJcblx0XHRcdC8vIGRldGVybWluZSBpZiBoYXJkd2FyZSBhY2NlbGVyYXRpb24gY2FuIGJlIHVzZWRcclxuXHRcdFx0c2xpZGVyLnVzaW5nQ1NTID0gc2xpZGVyLnNldHRpbmdzLnVzZUNTUyAmJiBzbGlkZXIuc2V0dGluZ3MubW9kZSAhPSAnZmFkZScgJiYgKGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0Ly8gY3JlYXRlIG91ciB0ZXN0IGRpdiBlbGVtZW50XHJcblx0XHRcdFx0dmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0XHRcdC8vIGNzcyB0cmFuc2l0aW9uIHByb3BlcnRpZXNcclxuXHRcdFx0XHR2YXIgcHJvcHMgPSBbJ1dlYmtpdFBlcnNwZWN0aXZlJywgJ01velBlcnNwZWN0aXZlJywgJ09QZXJzcGVjdGl2ZScsICdtc1BlcnNwZWN0aXZlJ107XHJcblx0XHRcdFx0Ly8gdGVzdCBmb3IgZWFjaCBwcm9wZXJ0eVxyXG5cdFx0XHRcdGZvcih2YXIgaSBpbiBwcm9wcyl7XHJcblx0XHRcdFx0XHRpZihkaXYuc3R5bGVbcHJvcHNbaV1dICE9PSB1bmRlZmluZWQpe1xyXG5cdFx0XHRcdFx0XHRzbGlkZXIuY3NzUHJlZml4ID0gcHJvcHNbaV0ucmVwbGFjZSgnUGVyc3BlY3RpdmUnLCAnJykudG9Mb3dlckNhc2UoKTtcclxuXHRcdFx0XHRcdFx0c2xpZGVyLmFuaW1Qcm9wID0gJy0nICsgc2xpZGVyLmNzc1ByZWZpeCArICctdHJhbnNmb3JtJztcclxuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fSgpKTtcclxuXHRcdFx0Ly8gaWYgdmVydGljYWwgbW9kZSBhbHdheXMgbWFrZSBtYXhTbGlkZXMgYW5kIG1pblNsaWRlcyBlcXVhbFxyXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAndmVydGljYWwnKSBzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzID0gc2xpZGVyLnNldHRpbmdzLm1pblNsaWRlcztcclxuXHRcdFx0Ly8gc2F2ZSBvcmlnaW5hbCBzdHlsZSBkYXRhXHJcblx0XHRcdGVsLmRhdGEoXCJvcmlnU3R5bGVcIiwgZWwuYXR0cihcInN0eWxlXCIpKTtcclxuXHRcdFx0ZWwuY2hpbGRyZW4oc2xpZGVyLnNldHRpbmdzLnNsaWRlU2VsZWN0b3IpLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdCAgJCh0aGlzKS5kYXRhKFwib3JpZ1N0eWxlXCIsICQodGhpcykuYXR0cihcInN0eWxlXCIpKTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdC8vIHBlcmZvcm0gYWxsIERPTSAvIENTUyBtb2RpZmljYXRpb25zXHJcblx0XHRcdHNldHVwKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBQZXJmb3JtcyBhbGwgRE9NIGFuZCBDU1MgbW9kaWZpY2F0aW9uc1xyXG5cdFx0ICovXHJcblx0XHR2YXIgc2V0dXAgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHQvLyB3cmFwIGVsIGluIGEgd3JhcHBlclxyXG5cdFx0XHRlbC53cmFwKCc8ZGl2IGNsYXNzPVwiJyArIHNsaWRlci5zZXR0aW5ncy53cmFwcGVyQ2xhc3MgKyAnXCI+PGRpdiBjbGFzcz1cImJ4LXZpZXdwb3J0XCI+PC9kaXY+PC9kaXY+Jyk7XHJcblx0XHRcdC8vIHN0b3JlIGEgbmFtc3BhY2UgcmVmZXJlbmNlIHRvIC5ieC12aWV3cG9ydFxyXG5cdFx0XHRzbGlkZXIudmlld3BvcnQgPSBlbC5wYXJlbnQoKTtcclxuXHRcdFx0Ly8gYWRkIGEgbG9hZGluZyBkaXYgdG8gZGlzcGxheSB3aGlsZSBpbWFnZXMgYXJlIGxvYWRpbmdcclxuXHRcdFx0c2xpZGVyLmxvYWRlciA9ICQoJzxkaXYgY2xhc3M9XCJieC1sb2FkaW5nXCIgLz4nKTtcclxuXHRcdFx0c2xpZGVyLnZpZXdwb3J0LnByZXBlbmQoc2xpZGVyLmxvYWRlcik7XHJcblx0XHRcdC8vIHNldCBlbCB0byBhIG1hc3NpdmUgd2lkdGgsIHRvIGhvbGQgYW55IG5lZWRlZCBzbGlkZXNcclxuXHRcdFx0Ly8gYWxzbyBzdHJpcCBhbnkgbWFyZ2luIGFuZCBwYWRkaW5nIGZyb20gZWxcclxuXHRcdFx0ZWwuY3NzKHtcclxuXHRcdFx0XHR3aWR0aDogc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnID8gKHNsaWRlci5jaGlsZHJlbi5sZW5ndGggKiAxMDAgKyAyMTUpICsgJyUnIDogJ2F1dG8nLFxyXG5cdFx0XHRcdHBvc2l0aW9uOiAncmVsYXRpdmUnXHJcblx0XHRcdH0pO1xyXG5cdFx0XHQvLyBpZiB1c2luZyBDU1MsIGFkZCB0aGUgZWFzaW5nIHByb3BlcnR5XHJcblx0XHRcdGlmKHNsaWRlci51c2luZ0NTUyAmJiBzbGlkZXIuc2V0dGluZ3MuZWFzaW5nKXtcclxuXHRcdFx0XHRlbC5jc3MoJy0nICsgc2xpZGVyLmNzc1ByZWZpeCArICctdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb24nLCBzbGlkZXIuc2V0dGluZ3MuZWFzaW5nKTtcclxuXHRcdFx0Ly8gaWYgbm90IHVzaW5nIENTUyBhbmQgbm8gZWFzaW5nIHZhbHVlIHdhcyBzdXBwbGllZCwgdXNlIHRoZSBkZWZhdWx0IEpTIGFuaW1hdGlvbiBlYXNpbmcgKHN3aW5nKVxyXG5cdFx0XHR9ZWxzZSBpZighc2xpZGVyLnNldHRpbmdzLmVhc2luZyl7XHJcblx0XHRcdFx0c2xpZGVyLnNldHRpbmdzLmVhc2luZyA9ICdzd2luZyc7XHJcblx0XHRcdH1cclxuXHRcdFx0dmFyIHNsaWRlc1Nob3dpbmcgPSBnZXROdW1iZXJTbGlkZXNTaG93aW5nKCk7XHJcblx0XHRcdC8vIG1ha2UgbW9kaWZpY2F0aW9ucyB0byB0aGUgdmlld3BvcnQgKC5ieC12aWV3cG9ydClcclxuXHRcdFx0c2xpZGVyLnZpZXdwb3J0LmNzcyh7XHJcblx0XHRcdFx0d2lkdGg6ICcxMDAlJyxcclxuXHRcdFx0XHRvdmVyZmxvdzogJ2hpZGRlbicsXHJcblx0XHRcdFx0cG9zaXRpb246ICdyZWxhdGl2ZSdcclxuXHRcdFx0fSk7XHJcblx0XHRcdHNsaWRlci52aWV3cG9ydC5wYXJlbnQoKS5jc3Moe1xyXG5cdFx0XHRcdG1heFdpZHRoOiBnZXRWaWV3cG9ydE1heFdpZHRoKClcclxuXHRcdFx0fSk7XHJcblx0XHRcdC8vIG1ha2UgbW9kaWZpY2F0aW9uIHRvIHRoZSB3cmFwcGVyICguYngtd3JhcHBlcilcclxuXHRcdFx0aWYoIXNsaWRlci5zZXR0aW5ncy5wYWdlcikge1xyXG5cdFx0XHRcdHNsaWRlci52aWV3cG9ydC5wYXJlbnQoKS5jc3Moe1xyXG5cdFx0XHRcdG1hcmdpbjogJzAgYXV0byAwcHgnXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gYXBwbHkgY3NzIHRvIGFsbCBzbGlkZXIgY2hpbGRyZW5cclxuXHRcdFx0c2xpZGVyLmNoaWxkcmVuLmNzcyh7XHJcblx0XHRcdFx0J2Zsb2F0Jzogc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnID8gJ2xlZnQnIDogJ25vbmUnLFxyXG5cdFx0XHRcdGxpc3RTdHlsZTogJ25vbmUnLFxyXG5cdFx0XHRcdHBvc2l0aW9uOiAncmVsYXRpdmUnXHJcblx0XHRcdH0pO1xyXG5cdFx0XHQvLyBhcHBseSB0aGUgY2FsY3VsYXRlZCB3aWR0aCBhZnRlciB0aGUgZmxvYXQgaXMgYXBwbGllZCB0byBwcmV2ZW50IHNjcm9sbGJhciBpbnRlcmZlcmVuY2VcclxuXHRcdFx0c2xpZGVyLmNoaWxkcmVuLmNzcygnd2lkdGgnLCBnZXRTbGlkZVdpZHRoKCkpO1xyXG5cdFx0XHQvLyBpZiBzbGlkZU1hcmdpbiBpcyBzdXBwbGllZCwgYWRkIHRoZSBjc3NcclxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnICYmIHNsaWRlci5zZXR0aW5ncy5zbGlkZU1hcmdpbiA+IDApIHNsaWRlci5jaGlsZHJlbi5jc3MoJ21hcmdpblJpZ2h0Jywgc2xpZGVyLnNldHRpbmdzLnNsaWRlTWFyZ2luKTtcclxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ3ZlcnRpY2FsJyAmJiBzbGlkZXIuc2V0dGluZ3Muc2xpZGVNYXJnaW4gPiAwKSBzbGlkZXIuY2hpbGRyZW4uY3NzKCdtYXJnaW5Cb3R0b20nLCBzbGlkZXIuc2V0dGluZ3Muc2xpZGVNYXJnaW4pO1xyXG5cdFx0XHQvLyBpZiBcImZhZGVcIiBtb2RlLCBhZGQgcG9zaXRpb25pbmcgYW5kIHotaW5kZXggQ1NTXHJcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICdmYWRlJyl7XHJcblx0XHRcdFx0c2xpZGVyLmNoaWxkcmVuLmNzcyh7XHJcblx0XHRcdFx0XHRwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuXHRcdFx0XHRcdHpJbmRleDogMCxcclxuXHRcdFx0XHRcdGRpc3BsYXk6ICdub25lJ1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdC8vIHByZXBhcmUgdGhlIHotaW5kZXggb24gdGhlIHNob3dpbmcgZWxlbWVudFxyXG5cdFx0XHRcdHNsaWRlci5jaGlsZHJlbi5lcShzbGlkZXIuc2V0dGluZ3Muc3RhcnRTbGlkZSkuY3NzKHt6SW5kZXg6IHNsaWRlci5zZXR0aW5ncy5zbGlkZVpJbmRleCwgZGlzcGxheTogJ2Jsb2NrJ30pO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIGNyZWF0ZSBhbiBlbGVtZW50IHRvIGNvbnRhaW4gYWxsIHNsaWRlciBjb250cm9scyAocGFnZXIsIHN0YXJ0IC8gc3RvcCwgZXRjKVxyXG5cdFx0XHRzbGlkZXIuY29udHJvbHMuZWwgPSAkKCc8ZGl2IGNsYXNzPVwiYngtY29udHJvbHNcIiAvPicpO1xyXG5cdFx0XHQvLyBpZiBjYXB0aW9ucyBhcmUgcmVxdWVzdGVkLCBhZGQgdGhlbVxyXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuY2FwdGlvbnMpIGFwcGVuZENhcHRpb25zKCk7XHJcblx0XHRcdC8vIGNoZWNrIGlmIHN0YXJ0U2xpZGUgaXMgbGFzdCBzbGlkZVxyXG5cdFx0XHRzbGlkZXIuYWN0aXZlLmxhc3QgPSBzbGlkZXIuc2V0dGluZ3Muc3RhcnRTbGlkZSA9PSBnZXRQYWdlclF0eSgpIC0gMTtcclxuXHRcdFx0Ly8gaWYgdmlkZW8gaXMgdHJ1ZSwgc2V0IHVwIHRoZSBmaXRWaWRzIHBsdWdpblxyXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MudmlkZW8pIGVsLmZpdFZpZHMoKTtcclxuXHRcdFx0Ly8gc2V0IHRoZSBkZWZhdWx0IHByZWxvYWQgc2VsZWN0b3IgKHZpc2libGUpXHJcblx0XHRcdHZhciBwcmVsb2FkU2VsZWN0b3IgPSBzbGlkZXIuY2hpbGRyZW4uZXEoc2xpZGVyLnNldHRpbmdzLnN0YXJ0U2xpZGUpO1xyXG5cdFx0XHRpZiAoc2xpZGVyLnNldHRpbmdzLnByZWxvYWRJbWFnZXMgPT0gXCJhbGxcIikgcHJlbG9hZFNlbGVjdG9yID0gc2xpZGVyLmNoaWxkcmVuO1xyXG5cdFx0XHQvLyBvbmx5IGNoZWNrIGZvciBjb250cm9sIGFkZGl0aW9uIGlmIG5vdCBpbiBcInRpY2tlclwiIG1vZGVcclxuXHRcdFx0aWYoIXNsaWRlci5zZXR0aW5ncy50aWNrZXIpe1xyXG5cdFx0XHRcdC8vIGlmIHBhZ2VyIGlzIHJlcXVlc3RlZCwgYWRkIGl0XHJcblx0XHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLnBhZ2VyKSBhcHBlbmRQYWdlcigpO1xyXG5cdFx0XHRcdC8vIGlmIGNvbnRyb2xzIGFyZSByZXF1ZXN0ZWQsIGFkZCB0aGVtXHJcblx0XHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLmNvbnRyb2xzKSBhcHBlbmRDb250cm9scygpO1xyXG5cdFx0XHRcdC8vIGlmIGF1dG8gaXMgdHJ1ZSwgYW5kIGF1dG8gY29udHJvbHMgYXJlIHJlcXVlc3RlZCwgYWRkIHRoZW1cclxuXHRcdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuYXV0byAmJiBzbGlkZXIuc2V0dGluZ3MuYXV0b0NvbnRyb2xzKSBhcHBlbmRDb250cm9sc0F1dG8oKTtcclxuXHRcdFx0XHQvLyBpZiBhbnkgY29udHJvbCBvcHRpb24gaXMgcmVxdWVzdGVkLCBhZGQgdGhlIGNvbnRyb2xzIHdyYXBwZXJcclxuXHRcdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuY29udHJvbHMgfHwgc2xpZGVyLnNldHRpbmdzLmF1dG9Db250cm9scyB8fCBzbGlkZXIuc2V0dGluZ3MucGFnZXIpIHNsaWRlci52aWV3cG9ydC5hZnRlcihzbGlkZXIuY29udHJvbHMuZWwpO1xyXG5cdFx0XHQvLyBpZiB0aWNrZXIgbW9kZSwgZG8gbm90IGFsbG93IGEgcGFnZXJcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0c2xpZGVyLnNldHRpbmdzLnBhZ2VyID0gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gcHJlbG9hZCBhbGwgaW1hZ2VzLCB0aGVuIHBlcmZvcm0gZmluYWwgRE9NIC8gQ1NTIG1vZGlmaWNhdGlvbnMgdGhhdCBkZXBlbmQgb24gaW1hZ2VzIGJlaW5nIGxvYWRlZFxyXG5cdFx0XHRsb2FkRWxlbWVudHMocHJlbG9hZFNlbGVjdG9yLCBzdGFydCk7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIGxvYWRFbGVtZW50cyA9IGZ1bmN0aW9uKHNlbGVjdG9yLCBjYWxsYmFjayl7XHJcblx0XHRcdHZhciB0b3RhbCA9IHNlbGVjdG9yLmZpbmQoJ2ltZywgaWZyYW1lJykubGVuZ3RoO1xyXG5cdFx0XHRpZiAodG90YWwgPT0gMCl7XHJcblx0XHRcdFx0Y2FsbGJhY2soKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0dmFyIGNvdW50ID0gMDtcclxuXHRcdFx0c2VsZWN0b3IuZmluZCgnaW1nLCBpZnJhbWUnKS5lYWNoKGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0JCh0aGlzKS5vbmUoJ2xvYWQnLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHQgIGlmKCsrY291bnQgPT0gdG90YWwpIGNhbGxiYWNrKCk7XHJcblx0XHRcdFx0fSkuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHQgIGlmKHRoaXMuY29tcGxldGUpICQodGhpcykubG9hZCgpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFN0YXJ0IHRoZSBzbGlkZXJcclxuXHRcdCAqL1xyXG5cdFx0dmFyIHN0YXJ0ID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0Ly8gaWYgaW5maW5pdGUgbG9vcCwgcHJlcGFyZSBhZGRpdGlvbmFsIHNsaWRlc1xyXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuaW5maW5pdGVMb29wICYmIHNsaWRlci5zZXR0aW5ncy5tb2RlICE9ICdmYWRlJyAmJiAhc2xpZGVyLnNldHRpbmdzLnRpY2tlcil7XHJcblx0XHRcdFx0dmFyIHNsaWNlID0gc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ3ZlcnRpY2FsJyA/IHNsaWRlci5zZXR0aW5ncy5taW5TbGlkZXMgOiBzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzO1xyXG5cdFx0XHRcdHZhciBzbGljZUFwcGVuZCA9IHNsaWRlci5jaGlsZHJlbi5zbGljZSgwLCBzbGljZSkuY2xvbmUoKS5hZGRDbGFzcygnYngtY2xvbmUnKTtcclxuXHRcdFx0XHR2YXIgc2xpY2VQcmVwZW5kID0gc2xpZGVyLmNoaWxkcmVuLnNsaWNlKC1zbGljZSkuY2xvbmUoKS5hZGRDbGFzcygnYngtY2xvbmUnKTtcclxuXHRcdFx0XHRlbC5hcHBlbmQoc2xpY2VBcHBlbmQpLnByZXBlbmQoc2xpY2VQcmVwZW5kKTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyByZW1vdmUgdGhlIGxvYWRpbmcgRE9NIGVsZW1lbnRcclxuXHRcdFx0c2xpZGVyLmxvYWRlci5yZW1vdmUoKTtcclxuXHRcdFx0Ly8gc2V0IHRoZSBsZWZ0IC8gdG9wIHBvc2l0aW9uIG9mIFwiZWxcIlxyXG5cdFx0XHRzZXRTbGlkZVBvc2l0aW9uKCk7XHJcblx0XHRcdC8vIGlmIFwidmVydGljYWxcIiBtb2RlLCBhbHdheXMgdXNlIGFkYXB0aXZlSGVpZ2h0IHRvIHByZXZlbnQgb2RkIGJlaGF2aW9yXHJcblx0XHRcdGlmIChzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAndmVydGljYWwnKSBzbGlkZXIuc2V0dGluZ3MuYWRhcHRpdmVIZWlnaHQgPSB0cnVlO1xyXG5cdFx0XHQvLyBzZXQgdGhlIHZpZXdwb3J0IGhlaWdodFxyXG5cdFx0XHRzbGlkZXIudmlld3BvcnQuaGVpZ2h0KGdldFZpZXdwb3J0SGVpZ2h0KCkpO1xyXG5cdFx0XHQvLyBtYWtlIHN1cmUgZXZlcnl0aGluZyBpcyBwb3NpdGlvbmVkIGp1c3QgcmlnaHQgKHNhbWUgYXMgYSB3aW5kb3cgcmVzaXplKVxyXG5cdFx0XHRlbC5yZWRyYXdTbGlkZXIoKTtcclxuXHRcdFx0Ly8gb25TbGlkZXJMb2FkIGNhbGxiYWNrXHJcblx0XHRcdHNsaWRlci5zZXR0aW5ncy5vblNsaWRlckxvYWQoc2xpZGVyLmFjdGl2ZS5pbmRleCk7XHJcblx0XHRcdC8vIHNsaWRlciBoYXMgYmVlbiBmdWxseSBpbml0aWFsaXplZFxyXG5cdFx0XHRzbGlkZXIuaW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG5cdFx0XHQvLyBiaW5kIHRoZSByZXNpemUgY2FsbCB0byB0aGUgd2luZG93XHJcblx0XHRcdGlmIChzbGlkZXIuc2V0dGluZ3MucmVzcG9uc2l2ZSkgJCh3aW5kb3cpLmJpbmQoJ3Jlc2l6ZScsIHJlc2l6ZVdpbmRvdyk7XHJcblx0XHRcdC8vIGlmIGF1dG8gaXMgdHJ1ZSBhbmQgaGFzIG1vcmUgdGhhbiAxIHBhZ2UsIHN0YXJ0IHRoZSBzaG93XHJcblx0XHRcdGlmIChzbGlkZXIuc2V0dGluZ3MuYXV0byAmJiBzbGlkZXIuc2V0dGluZ3MuYXV0b1N0YXJ0ICYmIChnZXRQYWdlclF0eSgpID4gMSB8fCBzbGlkZXIuc2V0dGluZ3MuYXV0b1NsaWRlRm9yT25lUGFnZSkpIGluaXRBdXRvKCk7XHJcblx0XHRcdC8vIGlmIHRpY2tlciBpcyB0cnVlLCBzdGFydCB0aGUgdGlja2VyXHJcblx0XHRcdGlmIChzbGlkZXIuc2V0dGluZ3MudGlja2VyKSBpbml0VGlja2VyKCk7XHJcblx0XHRcdC8vIGlmIHBhZ2VyIGlzIHJlcXVlc3RlZCwgbWFrZSB0aGUgYXBwcm9wcmlhdGUgcGFnZXIgbGluayBhY3RpdmVcclxuXHRcdFx0aWYgKHNsaWRlci5zZXR0aW5ncy5wYWdlcikgdXBkYXRlUGFnZXJBY3RpdmUoc2xpZGVyLnNldHRpbmdzLnN0YXJ0U2xpZGUpO1xyXG5cdFx0XHQvLyBjaGVjayBmb3IgYW55IHVwZGF0ZXMgdG8gdGhlIGNvbnRyb2xzIChsaWtlIGhpZGVDb250cm9sT25FbmQgdXBkYXRlcylcclxuXHRcdFx0aWYgKHNsaWRlci5zZXR0aW5ncy5jb250cm9scykgdXBkYXRlRGlyZWN0aW9uQ29udHJvbHMoKTtcclxuXHRcdFx0Ly8gaWYgdG91Y2hFbmFibGVkIGlzIHRydWUsIHNldHVwIHRoZSB0b3VjaCBldmVudHNcclxuXHRcdFx0aWYgKHNsaWRlci5zZXR0aW5ncy50b3VjaEVuYWJsZWQgJiYgIXNsaWRlci5zZXR0aW5ncy50aWNrZXIpIGluaXRUb3VjaCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmV0dXJucyB0aGUgY2FsY3VsYXRlZCBoZWlnaHQgb2YgdGhlIHZpZXdwb3J0LCB1c2VkIHRvIGRldGVybWluZSBlaXRoZXIgYWRhcHRpdmVIZWlnaHQgb3IgdGhlIG1heEhlaWdodCB2YWx1ZVxyXG5cdFx0ICovXHJcblx0XHR2YXIgZ2V0Vmlld3BvcnRIZWlnaHQgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHR2YXIgaGVpZ2h0ID0gMDtcclxuXHRcdFx0Ly8gZmlyc3QgZGV0ZXJtaW5lIHdoaWNoIGNoaWxkcmVuIChzbGlkZXMpIHNob3VsZCBiZSB1c2VkIGluIG91ciBoZWlnaHQgY2FsY3VsYXRpb25cclxuXHRcdFx0dmFyIGNoaWxkcmVuID0gJCgpO1xyXG5cdFx0XHQvLyBpZiBtb2RlIGlzIG5vdCBcInZlcnRpY2FsXCIgYW5kIGFkYXB0aXZlSGVpZ2h0IGlzIGZhbHNlLCBpbmNsdWRlIGFsbCBjaGlsZHJlblxyXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MubW9kZSAhPSAndmVydGljYWwnICYmICFzbGlkZXIuc2V0dGluZ3MuYWRhcHRpdmVIZWlnaHQpe1xyXG5cdFx0XHRcdGNoaWxkcmVuID0gc2xpZGVyLmNoaWxkcmVuO1xyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHQvLyBpZiBub3QgY2Fyb3VzZWwsIHJldHVybiB0aGUgc2luZ2xlIGFjdGl2ZSBjaGlsZFxyXG5cdFx0XHRcdGlmKCFzbGlkZXIuY2Fyb3VzZWwpe1xyXG5cdFx0XHRcdFx0Y2hpbGRyZW4gPSBzbGlkZXIuY2hpbGRyZW4uZXEoc2xpZGVyLmFjdGl2ZS5pbmRleCk7XHJcblx0XHRcdFx0Ly8gaWYgY2Fyb3VzZWwsIHJldHVybiBhIHNsaWNlIG9mIGNoaWxkcmVuXHJcblx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHQvLyBnZXQgdGhlIGluZGl2aWR1YWwgc2xpZGUgaW5kZXhcclxuXHRcdFx0XHRcdHZhciBjdXJyZW50SW5kZXggPSBzbGlkZXIuc2V0dGluZ3MubW92ZVNsaWRlcyA9PSAxID8gc2xpZGVyLmFjdGl2ZS5pbmRleCA6IHNsaWRlci5hY3RpdmUuaW5kZXggKiBnZXRNb3ZlQnkoKTtcclxuXHRcdFx0XHRcdC8vIGFkZCB0aGUgY3VycmVudCBzbGlkZSB0byB0aGUgY2hpbGRyZW5cclxuXHRcdFx0XHRcdGNoaWxkcmVuID0gc2xpZGVyLmNoaWxkcmVuLmVxKGN1cnJlbnRJbmRleCk7XHJcblx0XHRcdFx0XHQvLyBjeWNsZSB0aHJvdWdoIHRoZSByZW1haW5pbmcgXCJzaG93aW5nXCIgc2xpZGVzXHJcblx0XHRcdFx0XHRmb3IgKGkgPSAxOyBpIDw9IHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMgLSAxOyBpKyspe1xyXG5cdFx0XHRcdFx0XHQvLyBpZiBsb29wZWQgYmFjayB0byB0aGUgc3RhcnRcclxuXHRcdFx0XHRcdFx0aWYoY3VycmVudEluZGV4ICsgaSA+PSBzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoKXtcclxuXHRcdFx0XHRcdFx0XHRjaGlsZHJlbiA9IGNoaWxkcmVuLmFkZChzbGlkZXIuY2hpbGRyZW4uZXEoaSAtIDEpKTtcclxuXHRcdFx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRcdFx0Y2hpbGRyZW4gPSBjaGlsZHJlbi5hZGQoc2xpZGVyLmNoaWxkcmVuLmVxKGN1cnJlbnRJbmRleCArIGkpKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBpZiBcInZlcnRpY2FsXCIgbW9kZSwgY2FsY3VsYXRlIHRoZSBzdW0gb2YgdGhlIGhlaWdodHMgb2YgdGhlIGNoaWxkcmVuXHJcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICd2ZXJ0aWNhbCcpe1xyXG5cdFx0XHRcdGNoaWxkcmVuLmVhY2goZnVuY3Rpb24oaW5kZXgpIHtcclxuXHRcdFx0XHQgIGhlaWdodCArPSAkKHRoaXMpLm91dGVySGVpZ2h0KCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0Ly8gYWRkIHVzZXItc3VwcGxpZWQgbWFyZ2luc1xyXG5cdFx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5zbGlkZU1hcmdpbiA+IDApe1xyXG5cdFx0XHRcdFx0aGVpZ2h0ICs9IHNsaWRlci5zZXR0aW5ncy5zbGlkZU1hcmdpbiAqIChzbGlkZXIuc2V0dGluZ3MubWluU2xpZGVzIC0gMSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHQvLyBpZiBub3QgXCJ2ZXJ0aWNhbFwiIG1vZGUsIGNhbGN1bGF0ZSB0aGUgbWF4IGhlaWdodCBvZiB0aGUgY2hpbGRyZW5cclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0aGVpZ2h0ID0gTWF0aC5tYXguYXBwbHkoTWF0aCwgY2hpbGRyZW4ubWFwKGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0XHRyZXR1cm4gJCh0aGlzKS5vdXRlckhlaWdodChmYWxzZSk7XHJcblx0XHRcdFx0fSkuZ2V0KCkpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZihzbGlkZXIudmlld3BvcnQuY3NzKCdib3gtc2l6aW5nJykgPT0gJ2JvcmRlci1ib3gnKXtcclxuXHRcdFx0XHRoZWlnaHQgKz1cdHBhcnNlRmxvYXQoc2xpZGVyLnZpZXdwb3J0LmNzcygncGFkZGluZy10b3AnKSkgKyBwYXJzZUZsb2F0KHNsaWRlci52aWV3cG9ydC5jc3MoJ3BhZGRpbmctYm90dG9tJykpICtcclxuXHRcdFx0XHRcdFx0XHRwYXJzZUZsb2F0KHNsaWRlci52aWV3cG9ydC5jc3MoJ2JvcmRlci10b3Atd2lkdGgnKSkgKyBwYXJzZUZsb2F0KHNsaWRlci52aWV3cG9ydC5jc3MoJ2JvcmRlci1ib3R0b20td2lkdGgnKSk7XHJcblx0XHRcdH1lbHNlIGlmKHNsaWRlci52aWV3cG9ydC5jc3MoJ2JveC1zaXppbmcnKSA9PSAncGFkZGluZy1ib3gnKXtcclxuXHRcdFx0XHRoZWlnaHQgKz1cdHBhcnNlRmxvYXQoc2xpZGVyLnZpZXdwb3J0LmNzcygncGFkZGluZy10b3AnKSkgKyBwYXJzZUZsb2F0KHNsaWRlci52aWV3cG9ydC5jc3MoJ3BhZGRpbmctYm90dG9tJykpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gaGVpZ2h0O1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmV0dXJucyB0aGUgY2FsY3VsYXRlZCB3aWR0aCB0byBiZSB1c2VkIGZvciB0aGUgb3V0ZXIgd3JhcHBlciAvIHZpZXdwb3J0XHJcblx0XHQgKi9cclxuXHRcdHZhciBnZXRWaWV3cG9ydE1heFdpZHRoID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0dmFyIHdpZHRoID0gJzEwMCUnO1xyXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3Muc2xpZGVXaWR0aCA+IDApe1xyXG5cdFx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICdob3Jpem9udGFsJyl7XHJcblx0XHRcdFx0XHR3aWR0aCA9IChzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzICogc2xpZGVyLnNldHRpbmdzLnNsaWRlV2lkdGgpICsgKChzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzIC0gMSkgKiBzbGlkZXIuc2V0dGluZ3Muc2xpZGVNYXJnaW4pO1xyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0d2lkdGggPSBzbGlkZXIuc2V0dGluZ3Muc2xpZGVXaWR0aDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHdpZHRoO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmV0dXJucyB0aGUgY2FsY3VsYXRlZCB3aWR0aCB0byBiZSBhcHBsaWVkIHRvIGVhY2ggc2xpZGVcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGdldFNsaWRlV2lkdGggPSBmdW5jdGlvbigpe1xyXG5cdFx0XHQvLyBzdGFydCB3aXRoIGFueSB1c2VyLXN1cHBsaWVkIHNsaWRlIHdpZHRoXHJcblx0XHRcdHZhciBuZXdFbFdpZHRoID0gc2xpZGVyLnNldHRpbmdzLnNsaWRlV2lkdGg7XHJcblx0XHRcdC8vIGdldCB0aGUgY3VycmVudCB2aWV3cG9ydCB3aWR0aFxyXG5cdFx0XHR2YXIgd3JhcFdpZHRoID0gc2xpZGVyLnZpZXdwb3J0LndpZHRoKCk7XHJcblx0XHRcdC8vIGlmIHNsaWRlIHdpZHRoIHdhcyBub3Qgc3VwcGxpZWQsIG9yIGlzIGxhcmdlciB0aGFuIHRoZSB2aWV3cG9ydCB1c2UgdGhlIHZpZXdwb3J0IHdpZHRoXHJcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5zbGlkZVdpZHRoID09IDAgfHxcclxuXHRcdFx0XHQoc2xpZGVyLnNldHRpbmdzLnNsaWRlV2lkdGggPiB3cmFwV2lkdGggJiYgIXNsaWRlci5jYXJvdXNlbCkgfHxcclxuXHRcdFx0XHRzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAndmVydGljYWwnKXtcclxuXHRcdFx0XHRuZXdFbFdpZHRoID0gd3JhcFdpZHRoO1xyXG5cdFx0XHQvLyBpZiBjYXJvdXNlbCwgdXNlIHRoZSB0aHJlc2hvbGRzIHRvIGRldGVybWluZSB0aGUgd2lkdGhcclxuXHRcdFx0fWVsc2UgaWYoc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcyA+IDEgJiYgc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnKXtcclxuXHRcdFx0XHRpZih3cmFwV2lkdGggPiBzbGlkZXIubWF4VGhyZXNob2xkKXtcclxuXHRcdFx0XHRcdC8vIG5ld0VsV2lkdGggPSAod3JhcFdpZHRoIC0gKHNsaWRlci5zZXR0aW5ncy5zbGlkZU1hcmdpbiAqIChzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzIC0gMSkpKSAvIHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXM7XHJcblx0XHRcdFx0fWVsc2UgaWYod3JhcFdpZHRoIDwgc2xpZGVyLm1pblRocmVzaG9sZCl7XHJcblx0XHRcdFx0XHRuZXdFbFdpZHRoID0gKHdyYXBXaWR0aCAtIChzbGlkZXIuc2V0dGluZ3Muc2xpZGVNYXJnaW4gKiAoc2xpZGVyLnNldHRpbmdzLm1pblNsaWRlcyAtIDEpKSkgLyBzbGlkZXIuc2V0dGluZ3MubWluU2xpZGVzO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gbmV3RWxXaWR0aDtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJldHVybnMgdGhlIG51bWJlciBvZiBzbGlkZXMgY3VycmVudGx5IHZpc2libGUgaW4gdGhlIHZpZXdwb3J0IChpbmNsdWRlcyBwYXJ0aWFsbHkgdmlzaWJsZSBzbGlkZXMpXHJcblx0XHQgKi9cclxuXHRcdHZhciBnZXROdW1iZXJTbGlkZXNTaG93aW5nID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0dmFyIHNsaWRlc1Nob3dpbmcgPSAxO1xyXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAnaG9yaXpvbnRhbCcgJiYgc2xpZGVyLnNldHRpbmdzLnNsaWRlV2lkdGggPiAwKXtcclxuXHRcdFx0XHQvLyBpZiB2aWV3cG9ydCBpcyBzbWFsbGVyIHRoYW4gbWluVGhyZXNob2xkLCByZXR1cm4gbWluU2xpZGVzXHJcblx0XHRcdFx0aWYoc2xpZGVyLnZpZXdwb3J0LndpZHRoKCkgPCBzbGlkZXIubWluVGhyZXNob2xkKXtcclxuXHRcdFx0XHRcdHNsaWRlc1Nob3dpbmcgPSBzbGlkZXIuc2V0dGluZ3MubWluU2xpZGVzO1xyXG5cdFx0XHRcdC8vIGlmIHZpZXdwb3J0IGlzIGxhcmdlciB0aGFuIG1pblRocmVzaG9sZCwgcmV0dXJuIG1heFNsaWRlc1xyXG5cdFx0XHRcdH1lbHNlIGlmKHNsaWRlci52aWV3cG9ydC53aWR0aCgpID4gc2xpZGVyLm1heFRocmVzaG9sZCl7XHJcblx0XHRcdFx0XHRzbGlkZXNTaG93aW5nID0gc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcztcclxuXHRcdFx0XHQvLyBpZiB2aWV3cG9ydCBpcyBiZXR3ZWVuIG1pbiAvIG1heCB0aHJlc2hvbGRzLCBkaXZpZGUgdmlld3BvcnQgd2lkdGggYnkgZmlyc3QgY2hpbGQgd2lkdGhcclxuXHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdHZhciBjaGlsZFdpZHRoID0gc2xpZGVyLmNoaWxkcmVuLmZpcnN0KCkud2lkdGgoKSArIHNsaWRlci5zZXR0aW5ncy5zbGlkZU1hcmdpbjtcclxuXHRcdFx0XHRcdHNsaWRlc1Nob3dpbmcgPSBNYXRoLmZsb29yKChzbGlkZXIudmlld3BvcnQud2lkdGgoKSArXHJcblx0XHRcdFx0XHRcdHNsaWRlci5zZXR0aW5ncy5zbGlkZU1hcmdpbikgLyBjaGlsZFdpZHRoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdC8vIGlmIFwidmVydGljYWxcIiBtb2RlLCBzbGlkZXMgc2hvd2luZyB3aWxsIGFsd2F5cyBiZSBtaW5TbGlkZXNcclxuXHRcdFx0fWVsc2UgaWYoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ3ZlcnRpY2FsJyl7XHJcblx0XHRcdFx0c2xpZGVzU2hvd2luZyA9IHNsaWRlci5zZXR0aW5ncy5taW5TbGlkZXM7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHNsaWRlc1Nob3dpbmc7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgcGFnZXMgKG9uZSBmdWxsIHZpZXdwb3J0IG9mIHNsaWRlcyBpcyBvbmUgXCJwYWdlXCIpXHJcblx0XHQgKi9cclxuXHRcdHZhciBnZXRQYWdlclF0eSA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdHZhciBwYWdlclF0eSA9IDA7XHJcblx0XHRcdC8vIGlmIG1vdmVTbGlkZXMgaXMgc3BlY2lmaWVkIGJ5IHRoZSB1c2VyXHJcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5tb3ZlU2xpZGVzID4gMCl7XHJcblx0XHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLmluZmluaXRlTG9vcCl7XHJcblx0XHRcdFx0XHRwYWdlclF0eSA9IE1hdGguY2VpbChzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoIC8gZ2V0TW92ZUJ5KCkpO1xyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0Ly8gdXNlIGEgd2hpbGUgbG9vcCB0byBkZXRlcm1pbmUgcGFnZXNcclxuXHRcdFx0XHRcdHZhciBicmVha1BvaW50ID0gMDtcclxuXHRcdFx0XHRcdHZhciBjb3VudGVyID0gMFxyXG5cdFx0XHRcdFx0Ly8gd2hlbiBicmVha3BvaW50IGdvZXMgYWJvdmUgY2hpbGRyZW4gbGVuZ3RoLCBjb3VudGVyIGlzIHRoZSBudW1iZXIgb2YgcGFnZXNcclxuXHRcdFx0XHRcdHdoaWxlIChicmVha1BvaW50IDwgc2xpZGVyLmNoaWxkcmVuLmxlbmd0aCl7XHJcblx0XHRcdFx0XHRcdCsrcGFnZXJRdHk7XHJcblx0XHRcdFx0XHRcdGJyZWFrUG9pbnQgPSBjb3VudGVyICsgZ2V0TnVtYmVyU2xpZGVzU2hvd2luZygpO1xyXG5cdFx0XHRcdFx0XHRjb3VudGVyICs9IHNsaWRlci5zZXR0aW5ncy5tb3ZlU2xpZGVzIDw9IGdldE51bWJlclNsaWRlc1Nob3dpbmcoKSA/IHNsaWRlci5zZXR0aW5ncy5tb3ZlU2xpZGVzIDogZ2V0TnVtYmVyU2xpZGVzU2hvd2luZygpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0Ly8gaWYgbW92ZVNsaWRlcyBpcyAwIChhdXRvKSBkaXZpZGUgY2hpbGRyZW4gbGVuZ3RoIGJ5IHNpZGVzIHNob3dpbmcsIHRoZW4gcm91bmQgdXBcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0cGFnZXJRdHkgPSBNYXRoLmNlaWwoc2xpZGVyLmNoaWxkcmVuLmxlbmd0aCAvIGdldE51bWJlclNsaWRlc1Nob3dpbmcoKSk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHBhZ2VyUXR5O1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIGluZGl2dWFsIHNsaWRlcyBieSB3aGljaCB0byBzaGlmdCB0aGUgc2xpZGVyXHJcblx0XHQgKi9cclxuXHRcdHZhciBnZXRNb3ZlQnkgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHQvLyBpZiBtb3ZlU2xpZGVzIHdhcyBzZXQgYnkgdGhlIHVzZXIgYW5kIG1vdmVTbGlkZXMgaXMgbGVzcyB0aGFuIG51bWJlciBvZiBzbGlkZXMgc2hvd2luZ1xyXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MubW92ZVNsaWRlcyA+IDAgJiYgc2xpZGVyLnNldHRpbmdzLm1vdmVTbGlkZXMgPD0gZ2V0TnVtYmVyU2xpZGVzU2hvd2luZygpKXtcclxuXHRcdFx0XHRyZXR1cm4gc2xpZGVyLnNldHRpbmdzLm1vdmVTbGlkZXM7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gaWYgbW92ZVNsaWRlcyBpcyAwIChhdXRvKVxyXG5cdFx0XHRyZXR1cm4gZ2V0TnVtYmVyU2xpZGVzU2hvd2luZygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU2V0cyB0aGUgc2xpZGVyJ3MgKGVsKSBsZWZ0IG9yIHRvcCBwb3NpdGlvblxyXG5cdFx0ICovXHJcblx0XHR2YXIgc2V0U2xpZGVQb3NpdGlvbiA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdC8vIGlmIGxhc3Qgc2xpZGUsIG5vdCBpbmZpbml0ZSBsb29wLCBhbmQgbnVtYmVyIG9mIGNoaWxkcmVuIGlzIGxhcmdlciB0aGFuIHNwZWNpZmllZCBtYXhTbGlkZXNcclxuXHRcdFx0aWYoc2xpZGVyLmNoaWxkcmVuLmxlbmd0aCA+IHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMgJiYgc2xpZGVyLmFjdGl2ZS5sYXN0ICYmICFzbGlkZXIuc2V0dGluZ3MuaW5maW5pdGVMb29wKXtcclxuXHRcdFx0XHRpZiAoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnKXtcclxuXHRcdFx0XHRcdC8vIGdldCB0aGUgbGFzdCBjaGlsZCdzIHBvc2l0aW9uXHJcblx0XHRcdFx0XHR2YXIgbGFzdENoaWxkID0gc2xpZGVyLmNoaWxkcmVuLmxhc3QoKTtcclxuXHRcdFx0XHRcdHZhciBwb3NpdGlvbiA9IGxhc3RDaGlsZC5wb3NpdGlvbigpO1xyXG5cdFx0XHRcdFx0Ly8gc2V0IHRoZSBsZWZ0IHBvc2l0aW9uXHJcblx0XHRcdFx0XHRzZXRQb3NpdGlvblByb3BlcnR5KC0ocG9zaXRpb24ubGVmdCAtIChzbGlkZXIudmlld3BvcnQud2lkdGgoKSAtIGxhc3RDaGlsZC5vdXRlcldpZHRoKCkpKSwgJ3Jlc2V0JywgMCk7XHJcblx0XHRcdFx0fWVsc2UgaWYoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ3ZlcnRpY2FsJyl7XHJcblx0XHRcdFx0XHQvLyBnZXQgdGhlIGxhc3Qgc2hvd2luZyBpbmRleCdzIHBvc2l0aW9uXHJcblx0XHRcdFx0XHR2YXIgbGFzdFNob3dpbmdJbmRleCA9IHNsaWRlci5jaGlsZHJlbi5sZW5ndGggLSBzbGlkZXIuc2V0dGluZ3MubWluU2xpZGVzO1xyXG5cdFx0XHRcdFx0dmFyIHBvc2l0aW9uID0gc2xpZGVyLmNoaWxkcmVuLmVxKGxhc3RTaG93aW5nSW5kZXgpLnBvc2l0aW9uKCk7XHJcblx0XHRcdFx0XHQvLyBzZXQgdGhlIHRvcCBwb3NpdGlvblxyXG5cdFx0XHRcdFx0c2V0UG9zaXRpb25Qcm9wZXJ0eSgtcG9zaXRpb24udG9wLCAncmVzZXQnLCAwKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdC8vIGlmIG5vdCBsYXN0IHNsaWRlXHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdC8vIGdldCB0aGUgcG9zaXRpb24gb2YgdGhlIGZpcnN0IHNob3dpbmcgc2xpZGVcclxuXHRcdFx0XHR2YXIgcG9zaXRpb24gPSBzbGlkZXIuY2hpbGRyZW4uZXEoc2xpZGVyLmFjdGl2ZS5pbmRleCAqIGdldE1vdmVCeSgpKS5wb3NpdGlvbigpO1xyXG5cdFx0XHRcdC8vIGNoZWNrIGZvciBsYXN0IHNsaWRlXHJcblx0XHRcdFx0aWYgKHNsaWRlci5hY3RpdmUuaW5kZXggPT0gZ2V0UGFnZXJRdHkoKSAtIDEpIHNsaWRlci5hY3RpdmUubGFzdCA9IHRydWU7XHJcblx0XHRcdFx0Ly8gc2V0IHRoZSByZXBlY3RpdmUgcG9zaXRpb25cclxuXHRcdFx0XHRpZiAocG9zaXRpb24gIT0gdW5kZWZpbmVkKXtcclxuXHRcdFx0XHRcdGlmIChzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAnaG9yaXpvbnRhbCcpIHNldFBvc2l0aW9uUHJvcGVydHkoLXBvc2l0aW9uLmxlZnQsICdyZXNldCcsIDApO1xyXG5cdFx0XHRcdFx0ZWxzZSBpZiAoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ3ZlcnRpY2FsJykgc2V0UG9zaXRpb25Qcm9wZXJ0eSgtcG9zaXRpb24udG9wLCAncmVzZXQnLCAwKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFNldHMgdGhlIGVsJ3MgYW5pbWF0aW5nIHByb3BlcnR5IHBvc2l0aW9uICh3aGljaCBpbiB0dXJuIHdpbGwgc29tZXRpbWVzIGFuaW1hdGUgZWwpLlxyXG5cdFx0ICogSWYgdXNpbmcgQ1NTLCBzZXRzIHRoZSB0cmFuc2Zvcm0gcHJvcGVydHkuIElmIG5vdCB1c2luZyBDU1MsIHNldHMgdGhlIHRvcCAvIGxlZnQgcHJvcGVydHkuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHZhbHVlIChpbnQpXHJcblx0XHQgKiAgLSB0aGUgYW5pbWF0aW5nIHByb3BlcnR5J3MgdmFsdWVcclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gdHlwZSAoc3RyaW5nKSAnc2xpZGVyJywgJ3Jlc2V0JywgJ3RpY2tlcidcclxuXHRcdCAqICAtIHRoZSB0eXBlIG9mIGluc3RhbmNlIGZvciB3aGljaCB0aGUgZnVuY3Rpb24gaXMgYmVpbmdcclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gZHVyYXRpb24gKGludClcclxuXHRcdCAqICAtIHRoZSBhbW91bnQgb2YgdGltZSAoaW4gbXMpIHRoZSB0cmFuc2l0aW9uIHNob3VsZCBvY2N1cHlcclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gcGFyYW1zIChhcnJheSkgb3B0aW9uYWxcclxuXHRcdCAqICAtIGFuIG9wdGlvbmFsIHBhcmFtZXRlciBjb250YWluaW5nIGFueSB2YXJpYWJsZXMgdGhhdCBuZWVkIHRvIGJlIHBhc3NlZCBpblxyXG5cdFx0ICovXHJcblx0XHR2YXIgc2V0UG9zaXRpb25Qcm9wZXJ0eSA9IGZ1bmN0aW9uKHZhbHVlLCB0eXBlLCBkdXJhdGlvbiwgcGFyYW1zKXtcclxuXHRcdFx0Ly8gdXNlIENTUyB0cmFuc2Zvcm1cclxuXHRcdFx0aWYoc2xpZGVyLnVzaW5nQ1NTKXtcclxuXHRcdFx0XHQvLyBkZXRlcm1pbmUgdGhlIHRyYW5zbGF0ZTNkIHZhbHVlXHJcblx0XHRcdFx0dmFyIHByb3BWYWx1ZSA9IHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICd2ZXJ0aWNhbCcgPyAndHJhbnNsYXRlM2QoMCwgJyArIHZhbHVlICsgJ3B4LCAwKScgOiAndHJhbnNsYXRlM2QoJyArIHZhbHVlICsgJ3B4LCAwLCAwKSc7XHJcblx0XHRcdFx0Ly8gYWRkIHRoZSBDU1MgdHJhbnNpdGlvbi1kdXJhdGlvblxyXG5cdFx0XHRcdGVsLmNzcygnLScgKyBzbGlkZXIuY3NzUHJlZml4ICsgJy10cmFuc2l0aW9uLWR1cmF0aW9uJywgZHVyYXRpb24gLyAxMDAwICsgJ3MnKTtcclxuXHRcdFx0XHRpZih0eXBlID09ICdzbGlkZScpe1xyXG5cdFx0XHRcdFx0Ly8gc2V0IHRoZSBwcm9wZXJ0eSB2YWx1ZVxyXG5cdFx0XHRcdFx0ZWwuY3NzKHNsaWRlci5hbmltUHJvcCwgcHJvcFZhbHVlKTtcclxuXHRcdFx0XHRcdC8vIGJpbmQgYSBjYWxsYmFjayBtZXRob2QgLSBleGVjdXRlcyB3aGVuIENTUyB0cmFuc2l0aW9uIGNvbXBsZXRlc1xyXG5cdFx0XHRcdFx0ZWwuYmluZCgndHJhbnNpdGlvbmVuZCB3ZWJraXRUcmFuc2l0aW9uRW5kIG9UcmFuc2l0aW9uRW5kIE1TVHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0XHRcdC8vIHVuYmluZCB0aGUgY2FsbGJhY2tcclxuXHRcdFx0XHRcdFx0ZWwudW5iaW5kKCd0cmFuc2l0aW9uZW5kIHdlYmtpdFRyYW5zaXRpb25FbmQgb1RyYW5zaXRpb25FbmQgTVNUcmFuc2l0aW9uRW5kJyk7XHJcblx0XHRcdFx0XHRcdHVwZGF0ZUFmdGVyU2xpZGVUcmFuc2l0aW9uKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9ZWxzZSBpZih0eXBlID09ICdyZXNldCcpe1xyXG5cdFx0XHRcdFx0ZWwuY3NzKHNsaWRlci5hbmltUHJvcCwgcHJvcFZhbHVlKTtcclxuXHRcdFx0XHR9ZWxzZSBpZih0eXBlID09ICd0aWNrZXInKXtcclxuXHRcdFx0XHRcdC8vIG1ha2UgdGhlIHRyYW5zaXRpb24gdXNlICdsaW5lYXInXHJcblx0XHRcdFx0XHRlbC5jc3MoJy0nICsgc2xpZGVyLmNzc1ByZWZpeCArICctdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb24nLCAnbGluZWFyJyk7XHJcblx0XHRcdFx0XHRlbC5jc3Moc2xpZGVyLmFuaW1Qcm9wLCBwcm9wVmFsdWUpO1xyXG5cdFx0XHRcdFx0Ly8gYmluZCBhIGNhbGxiYWNrIG1ldGhvZCAtIGV4ZWN1dGVzIHdoZW4gQ1NTIHRyYW5zaXRpb24gY29tcGxldGVzXHJcblx0XHRcdFx0XHRlbC5iaW5kKCd0cmFuc2l0aW9uZW5kIHdlYmtpdFRyYW5zaXRpb25FbmQgb1RyYW5zaXRpb25FbmQgTVNUcmFuc2l0aW9uRW5kJywgZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdFx0Ly8gdW5iaW5kIHRoZSBjYWxsYmFja1xyXG5cdFx0XHRcdFx0XHRlbC51bmJpbmQoJ3RyYW5zaXRpb25lbmQgd2Via2l0VHJhbnNpdGlvbkVuZCBvVHJhbnNpdGlvbkVuZCBNU1RyYW5zaXRpb25FbmQnKTtcclxuXHRcdFx0XHRcdFx0Ly8gcmVzZXQgdGhlIHBvc2l0aW9uXHJcblx0XHRcdFx0XHRcdHNldFBvc2l0aW9uUHJvcGVydHkocGFyYW1zWydyZXNldFZhbHVlJ10sICdyZXNldCcsIDApO1xyXG5cdFx0XHRcdFx0XHQvLyBzdGFydCB0aGUgbG9vcCBhZ2FpblxyXG5cdFx0XHRcdFx0XHR0aWNrZXJMb29wKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdC8vIHVzZSBKUyBhbmltYXRlXHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdHZhciBhbmltYXRlT2JqID0ge307XHJcblx0XHRcdFx0YW5pbWF0ZU9ialtzbGlkZXIuYW5pbVByb3BdID0gdmFsdWU7XHJcblx0XHRcdFx0aWYodHlwZSA9PSAnc2xpZGUnKXtcclxuXHRcdFx0XHRcdGVsLmFuaW1hdGUoYW5pbWF0ZU9iaiwgZHVyYXRpb24sIHNsaWRlci5zZXR0aW5ncy5lYXNpbmcsIGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0XHRcdHVwZGF0ZUFmdGVyU2xpZGVUcmFuc2l0aW9uKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9ZWxzZSBpZih0eXBlID09ICdyZXNldCcpe1xyXG5cdFx0XHRcdFx0ZWwuY3NzKHNsaWRlci5hbmltUHJvcCwgdmFsdWUpXHJcblx0XHRcdFx0fWVsc2UgaWYodHlwZSA9PSAndGlja2VyJyl7XHJcblx0XHRcdFx0XHRlbC5hbmltYXRlKGFuaW1hdGVPYmosIHNwZWVkLCAnbGluZWFyJywgZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdFx0c2V0UG9zaXRpb25Qcm9wZXJ0eShwYXJhbXNbJ3Jlc2V0VmFsdWUnXSwgJ3Jlc2V0JywgMCk7XHJcblx0XHRcdFx0XHRcdC8vIHJ1biB0aGUgcmVjdXJzaXZlIGxvb3AgYWZ0ZXIgYW5pbWF0aW9uXHJcblx0XHRcdFx0XHRcdHRpY2tlckxvb3AoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUG9wdWxhdGVzIHRoZSBwYWdlciB3aXRoIHByb3BlciBhbW91bnQgb2YgcGFnZXNcclxuXHRcdCAqL1xyXG5cdFx0dmFyIHBvcHVsYXRlUGFnZXIgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHR2YXIgcGFnZXJIdG1sID0gJyc7XHJcblx0XHRcdHZhciBwYWdlclF0eSA9IGdldFBhZ2VyUXR5KCk7XHJcblx0XHRcdC8vIGxvb3AgdGhyb3VnaCBlYWNoIHBhZ2VyIGl0ZW1cclxuXHRcdFx0Zm9yKHZhciBpPTA7IGkgPCBwYWdlclF0eTsgaSsrKXtcclxuXHRcdFx0XHR2YXIgbGlua0NvbnRlbnQgPSAnJztcclxuXHRcdFx0XHQvLyBpZiBhIGJ1aWxkUGFnZXIgZnVuY3Rpb24gaXMgc3VwcGxpZWQsIHVzZSBpdCB0byBnZXQgcGFnZXIgbGluayB2YWx1ZSwgZWxzZSB1c2UgaW5kZXggKyAxXHJcblx0XHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLmJ1aWxkUGFnZXIgJiYgJC5pc0Z1bmN0aW9uKHNsaWRlci5zZXR0aW5ncy5idWlsZFBhZ2VyKSl7XHJcblx0XHRcdFx0XHRsaW5rQ29udGVudCA9IHNsaWRlci5zZXR0aW5ncy5idWlsZFBhZ2VyKGkpO1xyXG5cdFx0XHRcdFx0c2xpZGVyLnBhZ2VyRWwuYWRkQ2xhc3MoJ2J4LWN1c3RvbS1wYWdlcicpO1xyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0bGlua0NvbnRlbnQgPSBpICsgMTtcclxuXHRcdFx0XHRcdHNsaWRlci5wYWdlckVsLmFkZENsYXNzKCdieC1kZWZhdWx0LXBhZ2VyJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdC8vIHZhciBsaW5rQ29udGVudCA9IHNsaWRlci5zZXR0aW5ncy5idWlsZFBhZ2VyICYmICQuaXNGdW5jdGlvbihzbGlkZXIuc2V0dGluZ3MuYnVpbGRQYWdlcikgPyBzbGlkZXIuc2V0dGluZ3MuYnVpbGRQYWdlcihpKSA6IGkgKyAxO1xyXG5cdFx0XHRcdC8vIGFkZCB0aGUgbWFya3VwIHRvIHRoZSBzdHJpbmdcclxuXHRcdFx0XHRwYWdlckh0bWwgKz0gJzxkaXYgY2xhc3M9XCJieC1wYWdlci1pdGVtXCI+PGEgaHJlZj1cIlwiIGRhdGEtc2xpZGUtaW5kZXg9XCInICsgaSArICdcIiBjbGFzcz1cImJ4LXBhZ2VyLWxpbmtcIj4nICsgbGlua0NvbnRlbnQgKyAnPC9hPjwvZGl2Pic7XHJcblx0XHRcdH07XHJcblx0XHRcdC8vIHBvcHVsYXRlIHRoZSBwYWdlciBlbGVtZW50IHdpdGggcGFnZXIgbGlua3NcclxuXHRcdFx0c2xpZGVyLnBhZ2VyRWwuaHRtbChwYWdlckh0bWwpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQXBwZW5kcyB0aGUgcGFnZXIgdG8gdGhlIGNvbnRyb2xzIGVsZW1lbnRcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGFwcGVuZFBhZ2VyID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0aWYoIXNsaWRlci5zZXR0aW5ncy5wYWdlckN1c3RvbSl7XHJcblx0XHRcdFx0Ly8gY3JlYXRlIHRoZSBwYWdlciBET00gZWxlbWVudFxyXG5cdFx0XHRcdHNsaWRlci5wYWdlckVsID0gJCgnPGRpdiBjbGFzcz1cImJ4LXBhZ2VyXCIgLz4nKTtcclxuXHRcdFx0XHQvLyBpZiBhIHBhZ2VyIHNlbGVjdG9yIHdhcyBzdXBwbGllZCwgcG9wdWxhdGUgaXQgd2l0aCB0aGUgcGFnZXJcclxuXHRcdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MucGFnZXJTZWxlY3Rvcil7XHJcblx0XHRcdFx0XHQkKHNsaWRlci5zZXR0aW5ncy5wYWdlclNlbGVjdG9yKS5odG1sKHNsaWRlci5wYWdlckVsKTtcclxuXHRcdFx0XHQvLyBpZiBubyBwYWdlciBzZWxlY3RvciB3YXMgc3VwcGxpZWQsIGFkZCBpdCBhZnRlciB0aGUgd3JhcHBlclxyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLmVsLmFkZENsYXNzKCdieC1oYXMtcGFnZXInKS5hcHBlbmQoc2xpZGVyLnBhZ2VyRWwpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQvLyBwb3B1bGF0ZSB0aGUgcGFnZXJcclxuXHRcdFx0XHRwb3B1bGF0ZVBhZ2VyKCk7XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdHNsaWRlci5wYWdlckVsID0gJChzbGlkZXIuc2V0dGluZ3MucGFnZXJDdXN0b20pO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIGFzc2lnbiB0aGUgcGFnZXIgY2xpY2sgYmluZGluZ1xyXG5cdFx0XHRzbGlkZXIucGFnZXJFbC5vbignY2xpY2snLCAnYScsIGNsaWNrUGFnZXJCaW5kKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEFwcGVuZHMgcHJldiAvIG5leHQgY29udHJvbHMgdG8gdGhlIGNvbnRyb2xzIGVsZW1lbnRcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGFwcGVuZENvbnRyb2xzID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0c2xpZGVyLmNvbnRyb2xzLm5leHQgPSAkKCc8YSBjbGFzcz1cImJ4LW5leHRcIiBocmVmPVwiXCI+JyArIHNsaWRlci5zZXR0aW5ncy5uZXh0VGV4dCArICc8L2E+Jyk7XHJcblx0XHRcdHNsaWRlci5jb250cm9scy5wcmV2ID0gJCgnPGEgY2xhc3M9XCJieC1wcmV2XCIgaHJlZj1cIlwiPicgKyBzbGlkZXIuc2V0dGluZ3MucHJldlRleHQgKyAnPC9hPicpO1xyXG5cdFx0XHQvLyBiaW5kIGNsaWNrIGFjdGlvbnMgdG8gdGhlIGNvbnRyb2xzXHJcblx0XHRcdHNsaWRlci5jb250cm9scy5uZXh0LmJpbmQoJ2NsaWNrJywgY2xpY2tOZXh0QmluZCk7XHJcblx0XHRcdHNsaWRlci5jb250cm9scy5wcmV2LmJpbmQoJ2NsaWNrJywgY2xpY2tQcmV2QmluZCk7XHJcblx0XHRcdC8vIGlmIG5leHRTbGVjdG9yIHdhcyBzdXBwbGllZCwgcG9wdWxhdGUgaXRcclxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLm5leHRTZWxlY3Rvcil7XHJcblx0XHRcdFx0JChzbGlkZXIuc2V0dGluZ3MubmV4dFNlbGVjdG9yKS5hcHBlbmQoc2xpZGVyLmNvbnRyb2xzLm5leHQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIGlmIHByZXZTbGVjdG9yIHdhcyBzdXBwbGllZCwgcG9wdWxhdGUgaXRcclxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLnByZXZTZWxlY3Rvcil7XHJcblx0XHRcdFx0JChzbGlkZXIuc2V0dGluZ3MucHJldlNlbGVjdG9yKS5hcHBlbmQoc2xpZGVyLmNvbnRyb2xzLnByZXYpO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIGlmIG5vIGN1c3RvbSBzZWxlY3RvcnMgd2VyZSBzdXBwbGllZFxyXG5cdFx0XHRpZighc2xpZGVyLnNldHRpbmdzLm5leHRTZWxlY3RvciAmJiAhc2xpZGVyLnNldHRpbmdzLnByZXZTZWxlY3Rvcil7XHJcblx0XHRcdFx0Ly8gYWRkIHRoZSBjb250cm9scyB0byB0aGUgRE9NXHJcblx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLmRpcmVjdGlvbkVsID0gJCgnPGRpdiBjbGFzcz1cImJ4LWNvbnRyb2xzLWRpcmVjdGlvblwiIC8+Jyk7XHJcblx0XHRcdFx0Ly8gYWRkIHRoZSBjb250cm9sIGVsZW1lbnRzIHRvIHRoZSBkaXJlY3Rpb25FbFxyXG5cdFx0XHRcdHNsaWRlci5jb250cm9scy5kaXJlY3Rpb25FbC5hcHBlbmQoc2xpZGVyLmNvbnRyb2xzLnByZXYpLmFwcGVuZChzbGlkZXIuY29udHJvbHMubmV4dCk7XHJcblx0XHRcdFx0Ly8gc2xpZGVyLnZpZXdwb3J0LmFwcGVuZChzbGlkZXIuY29udHJvbHMuZGlyZWN0aW9uRWwpO1xyXG5cdFx0XHRcdHNsaWRlci5jb250cm9scy5lbC5hZGRDbGFzcygnYngtaGFzLWNvbnRyb2xzLWRpcmVjdGlvbicpLmFwcGVuZChzbGlkZXIuY29udHJvbHMuZGlyZWN0aW9uRWwpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBBcHBlbmRzIHN0YXJ0IC8gc3RvcCBhdXRvIGNvbnRyb2xzIHRvIHRoZSBjb250cm9scyBlbGVtZW50XHJcblx0XHQgKi9cclxuXHRcdHZhciBhcHBlbmRDb250cm9sc0F1dG8gPSBmdW5jdGlvbigpe1xyXG5cdFx0XHRzbGlkZXIuY29udHJvbHMuc3RhcnQgPSAkKCc8ZGl2IGNsYXNzPVwiYngtY29udHJvbHMtYXV0by1pdGVtXCI+PGEgY2xhc3M9XCJieC1zdGFydFwiIGhyZWY9XCJcIj4nICsgc2xpZGVyLnNldHRpbmdzLnN0YXJ0VGV4dCArICc8L2E+PC9kaXY+Jyk7XHJcblx0XHRcdHNsaWRlci5jb250cm9scy5zdG9wID0gJCgnPGRpdiBjbGFzcz1cImJ4LWNvbnRyb2xzLWF1dG8taXRlbVwiPjxhIGNsYXNzPVwiYngtc3RvcFwiIGhyZWY9XCJcIj4nICsgc2xpZGVyLnNldHRpbmdzLnN0b3BUZXh0ICsgJzwvYT48L2Rpdj4nKTtcclxuXHRcdFx0Ly8gYWRkIHRoZSBjb250cm9scyB0byB0aGUgRE9NXHJcblx0XHRcdHNsaWRlci5jb250cm9scy5hdXRvRWwgPSAkKCc8ZGl2IGNsYXNzPVwiYngtY29udHJvbHMtYXV0b1wiIC8+Jyk7XHJcblx0XHRcdC8vIGJpbmQgY2xpY2sgYWN0aW9ucyB0byB0aGUgY29udHJvbHNcclxuXHRcdFx0c2xpZGVyLmNvbnRyb2xzLmF1dG9FbC5vbignY2xpY2snLCAnLmJ4LXN0YXJ0JywgY2xpY2tTdGFydEJpbmQpO1xyXG5cdFx0XHRzbGlkZXIuY29udHJvbHMuYXV0b0VsLm9uKCdjbGljaycsICcuYngtc3RvcCcsIGNsaWNrU3RvcEJpbmQpO1xyXG5cdFx0XHQvLyBpZiBhdXRvQ29udHJvbHNDb21iaW5lLCBpbnNlcnQgb25seSB0aGUgXCJzdGFydFwiIGNvbnRyb2xcclxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLmF1dG9Db250cm9sc0NvbWJpbmUpe1xyXG5cdFx0XHRcdHNsaWRlci5jb250cm9scy5hdXRvRWwuYXBwZW5kKHNsaWRlci5jb250cm9scy5zdGFydCk7XHJcblx0XHRcdC8vIGlmIGF1dG9Db250cm9sc0NvbWJpbmUgaXMgZmFsc2UsIGluc2VydCBib3RoIGNvbnRyb2xzXHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdHNsaWRlci5jb250cm9scy5hdXRvRWwuYXBwZW5kKHNsaWRlci5jb250cm9scy5zdGFydCkuYXBwZW5kKHNsaWRlci5jb250cm9scy5zdG9wKTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBpZiBhdXRvIGNvbnRyb2xzIHNlbGVjdG9yIHdhcyBzdXBwbGllZCwgcG9wdWxhdGUgaXQgd2l0aCB0aGUgY29udHJvbHNcclxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLmF1dG9Db250cm9sc1NlbGVjdG9yKXtcclxuXHRcdFx0XHQkKHNsaWRlci5zZXR0aW5ncy5hdXRvQ29udHJvbHNTZWxlY3RvcikuaHRtbChzbGlkZXIuY29udHJvbHMuYXV0b0VsKTtcclxuXHRcdFx0Ly8gaWYgYXV0byBjb250cm9scyBzZWxlY3RvciB3YXMgbm90IHN1cHBsaWVkLCBhZGQgaXQgYWZ0ZXIgdGhlIHdyYXBwZXJcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLmVsLmFkZENsYXNzKCdieC1oYXMtY29udHJvbHMtYXV0bycpLmFwcGVuZChzbGlkZXIuY29udHJvbHMuYXV0b0VsKTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyB1cGRhdGUgdGhlIGF1dG8gY29udHJvbHNcclxuXHRcdFx0dXBkYXRlQXV0b0NvbnRyb2xzKHNsaWRlci5zZXR0aW5ncy5hdXRvU3RhcnQgPyAnc3RvcCcgOiAnc3RhcnQnKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEFwcGVuZHMgaW1hZ2UgY2FwdGlvbnMgdG8gdGhlIERPTVxyXG5cdFx0ICovXHJcblx0XHR2YXIgYXBwZW5kQ2FwdGlvbnMgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHQvLyBjeWNsZSB0aHJvdWdoIGVhY2ggY2hpbGRcclxuXHRcdFx0c2xpZGVyLmNoaWxkcmVuLmVhY2goZnVuY3Rpb24oaW5kZXgpe1xyXG5cdFx0XHRcdC8vIGdldCB0aGUgaW1hZ2UgdGl0bGUgYXR0cmlidXRlXHJcblx0XHRcdFx0dmFyIHRpdGxlID0gJCh0aGlzKS5maW5kKCdpbWc6Zmlyc3QnKS5hdHRyKCd0aXRsZScpO1xyXG5cdFx0XHRcdC8vIGFwcGVuZCB0aGUgY2FwdGlvblxyXG5cdFx0XHRcdGlmICh0aXRsZSAhPSB1bmRlZmluZWQgJiYgKCcnICsgdGl0bGUpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiYngtY2FwdGlvblwiPjxzcGFuPicgKyB0aXRsZSArICc8L3NwYW4+PC9kaXY+Jyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ2xpY2sgbmV4dCBiaW5kaW5nXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIGUgKGV2ZW50KVxyXG5cdFx0ICogIC0gRE9NIGV2ZW50IG9iamVjdFxyXG5cdFx0ICovXHJcblx0XHR2YXIgY2xpY2tOZXh0QmluZCA9IGZ1bmN0aW9uKGUpe1xyXG5cdFx0XHQvLyBpZiBhdXRvIHNob3cgaXMgcnVubmluZywgc3RvcCBpdFxyXG5cdFx0XHRpZiAoc2xpZGVyLnNldHRpbmdzLmF1dG8pIGVsLnN0b3BBdXRvKCk7XHJcblx0XHRcdGVsLmdvVG9OZXh0U2xpZGUoKTtcclxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ2xpY2sgcHJldiBiaW5kaW5nXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIGUgKGV2ZW50KVxyXG5cdFx0ICogIC0gRE9NIGV2ZW50IG9iamVjdFxyXG5cdFx0ICovXHJcblx0XHR2YXIgY2xpY2tQcmV2QmluZCA9IGZ1bmN0aW9uKGUpe1xyXG5cdFx0XHQvLyBpZiBhdXRvIHNob3cgaXMgcnVubmluZywgc3RvcCBpdFxyXG5cdFx0XHRpZiAoc2xpZGVyLnNldHRpbmdzLmF1dG8pIGVsLnN0b3BBdXRvKCk7XHJcblx0XHRcdGVsLmdvVG9QcmV2U2xpZGUoKTtcclxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ2xpY2sgc3RhcnQgYmluZGluZ1xyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSBlIChldmVudClcclxuXHRcdCAqICAtIERPTSBldmVudCBvYmplY3RcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGNsaWNrU3RhcnRCaW5kID0gZnVuY3Rpb24oZSl7XHJcblx0XHRcdGVsLnN0YXJ0QXV0bygpO1xyXG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDbGljayBzdG9wIGJpbmRpbmdcclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gZSAoZXZlbnQpXHJcblx0XHQgKiAgLSBET00gZXZlbnQgb2JqZWN0XHJcblx0XHQgKi9cclxuXHRcdHZhciBjbGlja1N0b3BCaW5kID0gZnVuY3Rpb24oZSl7XHJcblx0XHRcdGVsLnN0b3BBdXRvKCk7XHJcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENsaWNrIHBhZ2VyIGJpbmRpbmdcclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gZSAoZXZlbnQpXHJcblx0XHQgKiAgLSBET00gZXZlbnQgb2JqZWN0XHJcblx0XHQgKi9cclxuXHRcdHZhciBjbGlja1BhZ2VyQmluZCA9IGZ1bmN0aW9uKGUpe1xyXG5cdFx0XHQvLyBpZiBhdXRvIHNob3cgaXMgcnVubmluZywgc3RvcCBpdFxyXG5cdFx0XHRpZiAoc2xpZGVyLnNldHRpbmdzLmF1dG8pIGVsLnN0b3BBdXRvKCk7XHJcblx0XHRcdHZhciBwYWdlckxpbmsgPSAkKGUuY3VycmVudFRhcmdldCk7XHJcblx0XHRcdGlmKHBhZ2VyTGluay5hdHRyKCdkYXRhLXNsaWRlLWluZGV4JykgIT09IHVuZGVmaW5lZCl7XHJcblx0XHRcdFx0dmFyIHBhZ2VySW5kZXggPSBwYXJzZUludChwYWdlckxpbmsuYXR0cignZGF0YS1zbGlkZS1pbmRleCcpKTtcclxuXHRcdFx0XHQvLyBpZiBjbGlja2VkIHBhZ2VyIGxpbmsgaXMgbm90IGFjdGl2ZSwgY29udGludWUgd2l0aCB0aGUgZ29Ub1NsaWRlIGNhbGxcclxuXHRcdFx0XHRpZihwYWdlckluZGV4ICE9IHNsaWRlci5hY3RpdmUuaW5kZXgpIGVsLmdvVG9TbGlkZShwYWdlckluZGV4KTtcclxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFVwZGF0ZXMgdGhlIHBhZ2VyIGxpbmtzIHdpdGggYW4gYWN0aXZlIGNsYXNzXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHNsaWRlSW5kZXggKGludClcclxuXHRcdCAqICAtIGluZGV4IG9mIHNsaWRlIHRvIG1ha2UgYWN0aXZlXHJcblx0XHQgKi9cclxuXHRcdHZhciB1cGRhdGVQYWdlckFjdGl2ZSA9IGZ1bmN0aW9uKHNsaWRlSW5kZXgpe1xyXG5cdFx0XHQvLyBpZiBcInNob3J0XCIgcGFnZXIgdHlwZVxyXG5cdFx0XHR2YXIgbGVuID0gc2xpZGVyLmNoaWxkcmVuLmxlbmd0aDsgLy8gbmIgb2YgY2hpbGRyZW5cclxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLnBhZ2VyVHlwZSA9PSAnc2hvcnQnKXtcclxuXHRcdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzID4gMSkge1xyXG5cdFx0XHRcdFx0bGVuID0gTWF0aC5jZWlsKHNsaWRlci5jaGlsZHJlbi5sZW5ndGgvc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHNsaWRlci5wYWdlckVsLmh0bWwoIChzbGlkZUluZGV4ICsgMSkgKyBzbGlkZXIuc2V0dGluZ3MucGFnZXJTaG9ydFNlcGFyYXRvciArIGxlbik7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIHJlbW92ZSBhbGwgcGFnZXIgYWN0aXZlIGNsYXNzZXNcclxuXHRcdFx0c2xpZGVyLnBhZ2VyRWwuZmluZCgnYScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuXHRcdFx0Ly8gYXBwbHkgdGhlIGFjdGl2ZSBjbGFzcyBmb3IgYWxsIHBhZ2Vyc1xyXG5cdFx0XHRzbGlkZXIucGFnZXJFbC5lYWNoKGZ1bmN0aW9uKGksIGVsKSB7ICQoZWwpLmZpbmQoJ2EnKS5lcShzbGlkZUluZGV4KS5hZGRDbGFzcygnYWN0aXZlJyk7IH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUGVyZm9ybXMgbmVlZGVkIGFjdGlvbnMgYWZ0ZXIgYSBzbGlkZSB0cmFuc2l0aW9uXHJcblx0XHQgKi9cclxuXHRcdHZhciB1cGRhdGVBZnRlclNsaWRlVHJhbnNpdGlvbiA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdC8vIGlmIGluZmludGUgbG9vcCBpcyB0cnVlXHJcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5pbmZpbml0ZUxvb3Ape1xyXG5cdFx0XHRcdHZhciBwb3NpdGlvbiA9ICcnO1xyXG5cdFx0XHRcdC8vIGZpcnN0IHNsaWRlXHJcblx0XHRcdFx0aWYoc2xpZGVyLmFjdGl2ZS5pbmRleCA9PSAwKXtcclxuXHRcdFx0XHRcdC8vIHNldCB0aGUgbmV3IHBvc2l0aW9uXHJcblx0XHRcdFx0XHRwb3NpdGlvbiA9IHNsaWRlci5jaGlsZHJlbi5lcSgwKS5wb3NpdGlvbigpO1xyXG5cdFx0XHRcdC8vIGNhcm91c2VsLCBsYXN0IHNsaWRlXHJcblx0XHRcdFx0fWVsc2UgaWYoc2xpZGVyLmFjdGl2ZS5pbmRleCA9PSBnZXRQYWdlclF0eSgpIC0gMSAmJiBzbGlkZXIuY2Fyb3VzZWwpe1xyXG5cdFx0XHRcdFx0cG9zaXRpb24gPSBzbGlkZXIuY2hpbGRyZW4uZXEoKGdldFBhZ2VyUXR5KCkgLSAxKSAqIGdldE1vdmVCeSgpKS5wb3NpdGlvbigpO1xyXG5cdFx0XHRcdC8vIGxhc3Qgc2xpZGVcclxuXHRcdFx0XHR9ZWxzZSBpZihzbGlkZXIuYWN0aXZlLmluZGV4ID09IHNsaWRlci5jaGlsZHJlbi5sZW5ndGggLSAxKXtcclxuXHRcdFx0XHRcdHBvc2l0aW9uID0gc2xpZGVyLmNoaWxkcmVuLmVxKHNsaWRlci5jaGlsZHJlbi5sZW5ndGggLSAxKS5wb3NpdGlvbigpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZihwb3NpdGlvbil7XHJcblx0XHRcdFx0XHRpZiAoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnKSB7IHNldFBvc2l0aW9uUHJvcGVydHkoLXBvc2l0aW9uLmxlZnQsICdyZXNldCcsIDApOyB9XHJcblx0XHRcdFx0XHRlbHNlIGlmIChzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAndmVydGljYWwnKSB7IHNldFBvc2l0aW9uUHJvcGVydHkoLXBvc2l0aW9uLnRvcCwgJ3Jlc2V0JywgMCk7IH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gZGVjbGFyZSB0aGF0IHRoZSB0cmFuc2l0aW9uIGlzIGNvbXBsZXRlXHJcblx0XHRcdHNsaWRlci53b3JraW5nID0gZmFsc2U7XHJcblx0XHRcdC8vIG9uU2xpZGVBZnRlciBjYWxsYmFja1xyXG5cdFx0XHRzbGlkZXIuc2V0dGluZ3Mub25TbGlkZUFmdGVyKHNsaWRlci5jaGlsZHJlbi5lcShzbGlkZXIuYWN0aXZlLmluZGV4KSwgc2xpZGVyLm9sZEluZGV4LCBzbGlkZXIuYWN0aXZlLmluZGV4KTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFVwZGF0ZXMgdGhlIGF1dG8gY29udHJvbHMgc3RhdGUgKGVpdGhlciBhY3RpdmUsIG9yIGNvbWJpbmVkIHN3aXRjaClcclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gc3RhdGUgKHN0cmluZykgXCJzdGFydFwiLCBcInN0b3BcIlxyXG5cdFx0ICogIC0gdGhlIG5ldyBzdGF0ZSBvZiB0aGUgYXV0byBzaG93XHJcblx0XHQgKi9cclxuXHRcdHZhciB1cGRhdGVBdXRvQ29udHJvbHMgPSBmdW5jdGlvbihzdGF0ZSl7XHJcblx0XHRcdC8vIGlmIGF1dG9Db250cm9sc0NvbWJpbmUgaXMgdHJ1ZSwgcmVwbGFjZSB0aGUgY3VycmVudCBjb250cm9sIHdpdGggdGhlIG5ldyBzdGF0ZVxyXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuYXV0b0NvbnRyb2xzQ29tYmluZSl7XHJcblx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLmF1dG9FbC5odG1sKHNsaWRlci5jb250cm9sc1tzdGF0ZV0pO1xyXG5cdFx0XHQvLyBpZiBhdXRvQ29udHJvbHNDb21iaW5lIGlzIGZhbHNlLCBhcHBseSB0aGUgXCJhY3RpdmVcIiBjbGFzcyB0byB0aGUgYXBwcm9wcmlhdGUgY29udHJvbFxyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRzbGlkZXIuY29udHJvbHMuYXV0b0VsLmZpbmQoJ2EnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLmF1dG9FbC5maW5kKCdhOm5vdCguYngtJyArIHN0YXRlICsgJyknKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFVwZGF0ZXMgdGhlIGRpcmVjdGlvbiBjb250cm9scyAoY2hlY2tzIGlmIGVpdGhlciBzaG91bGQgYmUgaGlkZGVuKVxyXG5cdFx0ICovXHJcblx0XHR2YXIgdXBkYXRlRGlyZWN0aW9uQ29udHJvbHMgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHRpZihnZXRQYWdlclF0eSgpID09IDEpe1xyXG5cdFx0XHRcdHNsaWRlci5jb250cm9scy5wcmV2LmFkZENsYXNzKCdkaXNhYmxlZCcpO1xyXG5cdFx0XHRcdHNsaWRlci5jb250cm9scy5uZXh0LmFkZENsYXNzKCdkaXNhYmxlZCcpO1xyXG5cdFx0XHR9ZWxzZSBpZighc2xpZGVyLnNldHRpbmdzLmluZmluaXRlTG9vcCAmJiBzbGlkZXIuc2V0dGluZ3MuaGlkZUNvbnRyb2xPbkVuZCl7XHJcblx0XHRcdFx0Ly8gaWYgZmlyc3Qgc2xpZGVcclxuXHRcdFx0XHRpZiAoc2xpZGVyLmFjdGl2ZS5pbmRleCA9PSAwKXtcclxuXHRcdFx0XHRcdHNsaWRlci5jb250cm9scy5wcmV2LmFkZENsYXNzKCdkaXNhYmxlZCcpO1xyXG5cdFx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLm5leHQucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcblx0XHRcdFx0Ly8gaWYgbGFzdCBzbGlkZVxyXG5cdFx0XHRcdH1lbHNlIGlmKHNsaWRlci5hY3RpdmUuaW5kZXggPT0gZ2V0UGFnZXJRdHkoKSAtIDEpe1xyXG5cdFx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLm5leHQuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcblx0XHRcdFx0XHRzbGlkZXIuY29udHJvbHMucHJldi5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcclxuXHRcdFx0XHQvLyBpZiBhbnkgc2xpZGUgaW4gdGhlIG1pZGRsZVxyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLnByZXYucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcblx0XHRcdFx0XHRzbGlkZXIuY29udHJvbHMubmV4dC5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEluaXRpYWx6ZXMgdGhlIGF1dG8gcHJvY2Vzc1xyXG5cdFx0ICovXHJcblx0XHR2YXIgaW5pdEF1dG8gPSBmdW5jdGlvbigpe1xyXG5cdFx0XHQvLyBpZiBhdXRvRGVsYXkgd2FzIHN1cHBsaWVkLCBsYXVuY2ggdGhlIGF1dG8gc2hvdyB1c2luZyBhIHNldFRpbWVvdXQoKSBjYWxsXHJcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5hdXRvRGVsYXkgPiAwKXtcclxuXHRcdFx0XHR2YXIgdGltZW91dCA9IHNldFRpbWVvdXQoZWwuc3RhcnRBdXRvLCBzbGlkZXIuc2V0dGluZ3MuYXV0b0RlbGF5KTtcclxuXHRcdFx0Ly8gaWYgYXV0b0RlbGF5IHdhcyBub3Qgc3VwcGxpZWQsIHN0YXJ0IHRoZSBhdXRvIHNob3cgbm9ybWFsbHlcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0ZWwuc3RhcnRBdXRvKCk7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gaWYgYXV0b0hvdmVyIGlzIHJlcXVlc3RlZFxyXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuYXV0b0hvdmVyKXtcclxuXHRcdFx0XHQvLyBvbiBlbCBob3ZlclxyXG5cdFx0XHRcdGVsLmhvdmVyKGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0XHQvLyBpZiB0aGUgYXV0byBzaG93IGlzIGN1cnJlbnRseSBwbGF5aW5nIChoYXMgYW4gYWN0aXZlIGludGVydmFsKVxyXG5cdFx0XHRcdFx0aWYoc2xpZGVyLmludGVydmFsKXtcclxuXHRcdFx0XHRcdFx0Ly8gc3RvcCB0aGUgYXV0byBzaG93IGFuZCBwYXNzIHRydWUgYWd1bWVudCB3aGljaCB3aWxsIHByZXZlbnQgY29udHJvbCB1cGRhdGVcclxuXHRcdFx0XHRcdFx0ZWwuc3RvcEF1dG8odHJ1ZSk7XHJcblx0XHRcdFx0XHRcdC8vIGNyZWF0ZSBhIG5ldyBhdXRvUGF1c2VkIHZhbHVlIHdoaWNoIHdpbGwgYmUgdXNlZCBieSB0aGUgcmVsYXRpdmUgXCJtb3VzZW91dFwiIGV2ZW50XHJcblx0XHRcdFx0XHRcdHNsaWRlci5hdXRvUGF1c2VkID0gdHJ1ZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9LCBmdW5jdGlvbigpe1xyXG5cdFx0XHRcdFx0Ly8gaWYgdGhlIGF1dG9QYXVzZWQgdmFsdWUgd2FzIGNyZWF0ZWQgYmUgdGhlIHByaW9yIFwibW91c2VvdmVyXCIgZXZlbnRcclxuXHRcdFx0XHRcdGlmKHNsaWRlci5hdXRvUGF1c2VkKXtcclxuXHRcdFx0XHRcdFx0Ly8gc3RhcnQgdGhlIGF1dG8gc2hvdyBhbmQgcGFzcyB0cnVlIGFndW1lbnQgd2hpY2ggd2lsbCBwcmV2ZW50IGNvbnRyb2wgdXBkYXRlXHJcblx0XHRcdFx0XHRcdGVsLnN0YXJ0QXV0byh0cnVlKTtcclxuXHRcdFx0XHRcdFx0Ly8gcmVzZXQgdGhlIGF1dG9QYXVzZWQgdmFsdWVcclxuXHRcdFx0XHRcdFx0c2xpZGVyLmF1dG9QYXVzZWQgPSBudWxsO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBJbml0aWFsemVzIHRoZSB0aWNrZXIgcHJvY2Vzc1xyXG5cdFx0ICovXHJcblx0XHR2YXIgaW5pdFRpY2tlciA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdHZhciBzdGFydFBvc2l0aW9uID0gMDtcclxuXHRcdFx0Ly8gaWYgYXV0b0RpcmVjdGlvbiBpcyBcIm5leHRcIiwgYXBwZW5kIGEgY2xvbmUgb2YgdGhlIGVudGlyZSBzbGlkZXJcclxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLmF1dG9EaXJlY3Rpb24gPT0gJ25leHQnKXtcclxuXHRcdFx0XHRlbC5hcHBlbmQoc2xpZGVyLmNoaWxkcmVuLmNsb25lKCkuYWRkQ2xhc3MoJ2J4LWNsb25lJykpO1xyXG5cdFx0XHQvLyBpZiBhdXRvRGlyZWN0aW9uIGlzIFwicHJldlwiLCBwcmVwZW5kIGEgY2xvbmUgb2YgdGhlIGVudGlyZSBzbGlkZXIsIGFuZCBzZXQgdGhlIGxlZnQgcG9zaXRpb25cclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0ZWwucHJlcGVuZChzbGlkZXIuY2hpbGRyZW4uY2xvbmUoKS5hZGRDbGFzcygnYngtY2xvbmUnKSk7XHJcblx0XHRcdFx0dmFyIHBvc2l0aW9uID0gc2xpZGVyLmNoaWxkcmVuLmZpcnN0KCkucG9zaXRpb24oKTtcclxuXHRcdFx0XHRzdGFydFBvc2l0aW9uID0gc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnID8gLXBvc2l0aW9uLmxlZnQgOiAtcG9zaXRpb24udG9wO1xyXG5cdFx0XHR9XHJcblx0XHRcdHNldFBvc2l0aW9uUHJvcGVydHkoc3RhcnRQb3NpdGlvbiwgJ3Jlc2V0JywgMCk7XHJcblx0XHRcdC8vIGRvIG5vdCBhbGxvdyBjb250cm9scyBpbiB0aWNrZXIgbW9kZVxyXG5cdFx0XHRzbGlkZXIuc2V0dGluZ3MucGFnZXIgPSBmYWxzZTtcclxuXHRcdFx0c2xpZGVyLnNldHRpbmdzLmNvbnRyb2xzID0gZmFsc2U7XHJcblx0XHRcdHNsaWRlci5zZXR0aW5ncy5hdXRvQ29udHJvbHMgPSBmYWxzZTtcclxuXHRcdFx0Ly8gaWYgYXV0b0hvdmVyIGlzIHJlcXVlc3RlZFxyXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MudGlja2VySG92ZXIgJiYgIXNsaWRlci51c2luZ0NTUyl7XHJcblx0XHRcdFx0Ly8gb24gZWwgaG92ZXJcclxuXHRcdFx0XHRzbGlkZXIudmlld3BvcnQuaG92ZXIoZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdGVsLnN0b3AoKTtcclxuXHRcdFx0XHR9LCBmdW5jdGlvbigpe1xyXG5cdFx0XHRcdFx0Ly8gY2FsY3VsYXRlIHRoZSB0b3RhbCB3aWR0aCBvZiBjaGlsZHJlbiAodXNlZCB0byBjYWxjdWxhdGUgdGhlIHNwZWVkIHJhdGlvKVxyXG5cdFx0XHRcdFx0dmFyIHRvdGFsRGltZW5zID0gMDtcclxuXHRcdFx0XHRcdHNsaWRlci5jaGlsZHJlbi5lYWNoKGZ1bmN0aW9uKGluZGV4KXtcclxuXHRcdFx0XHRcdCAgdG90YWxEaW1lbnMgKz0gc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnID8gJCh0aGlzKS5vdXRlcldpZHRoKHRydWUpIDogJCh0aGlzKS5vdXRlckhlaWdodCh0cnVlKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0Ly8gY2FsY3VsYXRlIHRoZSBzcGVlZCByYXRpbyAodXNlZCB0byBkZXRlcm1pbmUgdGhlIG5ldyBzcGVlZCB0byBmaW5pc2ggdGhlIHBhdXNlZCBhbmltYXRpb24pXHJcblx0XHRcdFx0XHR2YXIgcmF0aW8gPSBzbGlkZXIuc2V0dGluZ3Muc3BlZWQgLyB0b3RhbERpbWVucztcclxuXHRcdFx0XHRcdC8vIGRldGVybWluZSB3aGljaCBwcm9wZXJ0eSB0byB1c2VcclxuXHRcdFx0XHRcdHZhciBwcm9wZXJ0eSA9IHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICdob3Jpem9udGFsJyA/ICdsZWZ0JyA6ICd0b3AnO1xyXG5cdFx0XHRcdFx0Ly8gY2FsY3VsYXRlIHRoZSBuZXcgc3BlZWRcclxuXHRcdFx0XHRcdHZhciBuZXdTcGVlZCA9IHJhdGlvICogKHRvdGFsRGltZW5zIC0gKE1hdGguYWJzKHBhcnNlSW50KGVsLmNzcyhwcm9wZXJ0eSkpKSkpO1xyXG5cdFx0XHRcdFx0dGlja2VyTG9vcChuZXdTcGVlZCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gc3RhcnQgdGhlIHRpY2tlciBsb29wXHJcblx0XHRcdHRpY2tlckxvb3AoKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJ1bnMgYSBjb250aW51b3VzIGxvb3AsIG5ld3MgdGlja2VyLXN0eWxlXHJcblx0XHQgKi9cclxuXHRcdHZhciB0aWNrZXJMb29wID0gZnVuY3Rpb24ocmVzdW1lU3BlZWQpe1xyXG5cdFx0XHRzcGVlZCA9IHJlc3VtZVNwZWVkID8gcmVzdW1lU3BlZWQgOiBzbGlkZXIuc2V0dGluZ3Muc3BlZWQ7XHJcblx0XHRcdHZhciBwb3NpdGlvbiA9IHtsZWZ0OiAwLCB0b3A6IDB9O1xyXG5cdFx0XHR2YXIgcmVzZXQgPSB7bGVmdDogMCwgdG9wOiAwfTtcclxuXHRcdFx0Ly8gaWYgXCJuZXh0XCIgYW5pbWF0ZSBsZWZ0IHBvc2l0aW9uIHRvIGxhc3QgY2hpbGQsIHRoZW4gcmVzZXQgbGVmdCB0byAwXHJcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5hdXRvRGlyZWN0aW9uID09ICduZXh0Jyl7XHJcblx0XHRcdFx0cG9zaXRpb24gPSBlbC5maW5kKCcuYngtY2xvbmUnKS5maXJzdCgpLnBvc2l0aW9uKCk7XHJcblx0XHRcdC8vIGlmIFwicHJldlwiIGFuaW1hdGUgbGVmdCBwb3NpdGlvbiB0byAwLCB0aGVuIHJlc2V0IGxlZnQgdG8gZmlyc3Qgbm9uLWNsb25lIGNoaWxkXHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdHJlc2V0ID0gc2xpZGVyLmNoaWxkcmVuLmZpcnN0KCkucG9zaXRpb24oKTtcclxuXHRcdFx0fVxyXG5cdFx0XHR2YXIgYW5pbWF0ZVByb3BlcnR5ID0gc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnID8gLXBvc2l0aW9uLmxlZnQgOiAtcG9zaXRpb24udG9wO1xyXG5cdFx0XHR2YXIgcmVzZXRWYWx1ZSA9IHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICdob3Jpem9udGFsJyA/IC1yZXNldC5sZWZ0IDogLXJlc2V0LnRvcDtcclxuXHRcdFx0dmFyIHBhcmFtcyA9IHtyZXNldFZhbHVlOiByZXNldFZhbHVlfTtcclxuXHRcdFx0c2V0UG9zaXRpb25Qcm9wZXJ0eShhbmltYXRlUHJvcGVydHksICd0aWNrZXInLCBzcGVlZCwgcGFyYW1zKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEluaXRpYWxpemVzIHRvdWNoIGV2ZW50c1xyXG5cdFx0ICovXHJcblx0XHR2YXIgaW5pdFRvdWNoID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0Ly8gaW5pdGlhbGl6ZSBvYmplY3QgdG8gY29udGFpbiBhbGwgdG91Y2ggdmFsdWVzXHJcblx0XHRcdHNsaWRlci50b3VjaCA9IHtcclxuXHRcdFx0XHRzdGFydDoge3g6IDAsIHk6IDB9LFxyXG5cdFx0XHRcdGVuZDoge3g6IDAsIHk6IDB9XHJcblx0XHRcdH1cclxuXHRcdFx0c2xpZGVyLnZpZXdwb3J0LmJpbmQoJ3RvdWNoc3RhcnQnLCBvblRvdWNoU3RhcnQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogRXZlbnQgaGFuZGxlciBmb3IgXCJ0b3VjaHN0YXJ0XCJcclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gZSAoZXZlbnQpXHJcblx0XHQgKiAgLSBET00gZXZlbnQgb2JqZWN0XHJcblx0XHQgKi9cclxuXHRcdHZhciBvblRvdWNoU3RhcnQgPSBmdW5jdGlvbihlKXtcclxuXHRcdFx0aWYoc2xpZGVyLndvcmtpbmcpe1xyXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0Ly8gcmVjb3JkIHRoZSBvcmlnaW5hbCBwb3NpdGlvbiB3aGVuIHRvdWNoIHN0YXJ0c1xyXG5cdFx0XHRcdHNsaWRlci50b3VjaC5vcmlnaW5hbFBvcyA9IGVsLnBvc2l0aW9uKCk7XHJcblx0XHRcdFx0dmFyIG9yaWcgPSBlLm9yaWdpbmFsRXZlbnQ7XHJcblx0XHRcdFx0Ly8gcmVjb3JkIHRoZSBzdGFydGluZyB0b3VjaCB4LCB5IGNvb3JkaW5hdGVzXHJcblx0XHRcdFx0c2xpZGVyLnRvdWNoLnN0YXJ0LnggPSBvcmlnLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYO1xyXG5cdFx0XHRcdHNsaWRlci50b3VjaC5zdGFydC55ID0gb3JpZy5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWTtcclxuXHRcdFx0XHQvLyBiaW5kIGEgXCJ0b3VjaG1vdmVcIiBldmVudCB0byB0aGUgdmlld3BvcnRcclxuXHRcdFx0XHRzbGlkZXIudmlld3BvcnQuYmluZCgndG91Y2htb3ZlJywgb25Ub3VjaE1vdmUpO1xyXG5cdFx0XHRcdC8vIGJpbmQgYSBcInRvdWNoZW5kXCIgZXZlbnQgdG8gdGhlIHZpZXdwb3J0XHJcblx0XHRcdFx0c2xpZGVyLnZpZXdwb3J0LmJpbmQoJ3RvdWNoZW5kJywgb25Ub3VjaEVuZCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEV2ZW50IGhhbmRsZXIgZm9yIFwidG91Y2htb3ZlXCJcclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gZSAoZXZlbnQpXHJcblx0XHQgKiAgLSBET00gZXZlbnQgb2JqZWN0XHJcblx0XHQgKi9cclxuXHRcdHZhciBvblRvdWNoTW92ZSA9IGZ1bmN0aW9uKGUpe1xyXG5cdFx0XHR2YXIgb3JpZyA9IGUub3JpZ2luYWxFdmVudDtcclxuXHRcdFx0Ly8gaWYgc2Nyb2xsaW5nIG9uIHkgYXhpcywgZG8gbm90IHByZXZlbnQgZGVmYXVsdFxyXG5cdFx0XHR2YXIgeE1vdmVtZW50ID0gTWF0aC5hYnMob3JpZy5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWCAtIHNsaWRlci50b3VjaC5zdGFydC54KTtcclxuXHRcdFx0dmFyIHlNb3ZlbWVudCA9IE1hdGguYWJzKG9yaWcuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVkgLSBzbGlkZXIudG91Y2guc3RhcnQueSk7XHJcblx0XHRcdC8vIHggYXhpcyBzd2lwZVxyXG5cdFx0XHRpZigoeE1vdmVtZW50ICogMykgPiB5TW92ZW1lbnQgJiYgc2xpZGVyLnNldHRpbmdzLnByZXZlbnREZWZhdWx0U3dpcGVYKXtcclxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdC8vIHkgYXhpcyBzd2lwZVxyXG5cdFx0XHR9ZWxzZSBpZigoeU1vdmVtZW50ICogMykgPiB4TW92ZW1lbnQgJiYgc2xpZGVyLnNldHRpbmdzLnByZXZlbnREZWZhdWx0U3dpcGVZKXtcclxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLm1vZGUgIT0gJ2ZhZGUnICYmIHNsaWRlci5zZXR0aW5ncy5vbmVUb09uZVRvdWNoKXtcclxuXHRcdFx0XHR2YXIgdmFsdWUgPSAwO1xyXG5cdFx0XHRcdC8vIGlmIGhvcml6b250YWwsIGRyYWcgYWxvbmcgeCBheGlzXHJcblx0XHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnKXtcclxuXHRcdFx0XHRcdHZhciBjaGFuZ2UgPSBvcmlnLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYIC0gc2xpZGVyLnRvdWNoLnN0YXJ0Lng7XHJcblx0XHRcdFx0XHR2YWx1ZSA9IHNsaWRlci50b3VjaC5vcmlnaW5hbFBvcy5sZWZ0ICsgY2hhbmdlO1xyXG5cdFx0XHRcdC8vIGlmIHZlcnRpY2FsLCBkcmFnIGFsb25nIHkgYXhpc1xyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0dmFyIGNoYW5nZSA9IG9yaWcuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVkgLSBzbGlkZXIudG91Y2guc3RhcnQueTtcclxuXHRcdFx0XHRcdHZhbHVlID0gc2xpZGVyLnRvdWNoLm9yaWdpbmFsUG9zLnRvcCArIGNoYW5nZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0c2V0UG9zaXRpb25Qcm9wZXJ0eSh2YWx1ZSwgJ3Jlc2V0JywgMCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEV2ZW50IGhhbmRsZXIgZm9yIFwidG91Y2hlbmRcIlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSBlIChldmVudClcclxuXHRcdCAqICAtIERPTSBldmVudCBvYmplY3RcclxuXHRcdCAqL1xyXG5cdFx0dmFyIG9uVG91Y2hFbmQgPSBmdW5jdGlvbihlKXtcclxuXHRcdFx0c2xpZGVyLnZpZXdwb3J0LnVuYmluZCgndG91Y2htb3ZlJywgb25Ub3VjaE1vdmUpO1xyXG5cdFx0XHR2YXIgb3JpZyA9IGUub3JpZ2luYWxFdmVudDtcclxuXHRcdFx0dmFyIHZhbHVlID0gMDtcclxuXHRcdFx0Ly8gcmVjb3JkIGVuZCB4LCB5IHBvc2l0aW9uc1xyXG5cdFx0XHRzbGlkZXIudG91Y2guZW5kLnggPSBvcmlnLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYO1xyXG5cdFx0XHRzbGlkZXIudG91Y2guZW5kLnkgPSBvcmlnLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZO1xyXG5cdFx0XHQvLyBpZiBmYWRlIG1vZGUsIGNoZWNrIGlmIGFic29sdXRlIHggZGlzdGFuY2UgY2xlYXJzIHRoZSB0aHJlc2hvbGRcclxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2ZhZGUnKXtcclxuXHRcdFx0XHR2YXIgZGlzdGFuY2UgPSBNYXRoLmFicyhzbGlkZXIudG91Y2guc3RhcnQueCAtIHNsaWRlci50b3VjaC5lbmQueCk7XHJcblx0XHRcdFx0aWYoZGlzdGFuY2UgPj0gc2xpZGVyLnNldHRpbmdzLnN3aXBlVGhyZXNob2xkKXtcclxuXHRcdFx0XHRcdHNsaWRlci50b3VjaC5zdGFydC54ID4gc2xpZGVyLnRvdWNoLmVuZC54ID8gZWwuZ29Ub05leHRTbGlkZSgpIDogZWwuZ29Ub1ByZXZTbGlkZSgpO1xyXG5cdFx0XHRcdFx0ZWwuc3RvcEF1dG8oKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdC8vIG5vdCBmYWRlIG1vZGVcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0dmFyIGRpc3RhbmNlID0gMDtcclxuXHRcdFx0XHQvLyBjYWxjdWxhdGUgZGlzdGFuY2UgYW5kIGVsJ3MgYW5pbWF0ZSBwcm9wZXJ0eVxyXG5cdFx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICdob3Jpem9udGFsJyl7XHJcblx0XHRcdFx0XHRkaXN0YW5jZSA9IHNsaWRlci50b3VjaC5lbmQueCAtIHNsaWRlci50b3VjaC5zdGFydC54O1xyXG5cdFx0XHRcdFx0dmFsdWUgPSBzbGlkZXIudG91Y2gub3JpZ2luYWxQb3MubGVmdDtcclxuXHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdGRpc3RhbmNlID0gc2xpZGVyLnRvdWNoLmVuZC55IC0gc2xpZGVyLnRvdWNoLnN0YXJ0Lnk7XHJcblx0XHRcdFx0XHR2YWx1ZSA9IHNsaWRlci50b3VjaC5vcmlnaW5hbFBvcy50b3A7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdC8vIGlmIG5vdCBpbmZpbml0ZSBsb29wIGFuZCBmaXJzdCAvIGxhc3Qgc2xpZGUsIGRvIG5vdCBhdHRlbXB0IGEgc2xpZGUgdHJhbnNpdGlvblxyXG5cdFx0XHRcdGlmKCFzbGlkZXIuc2V0dGluZ3MuaW5maW5pdGVMb29wICYmICgoc2xpZGVyLmFjdGl2ZS5pbmRleCA9PSAwICYmIGRpc3RhbmNlID4gMCkgfHwgKHNsaWRlci5hY3RpdmUubGFzdCAmJiBkaXN0YW5jZSA8IDApKSl7XHJcblx0XHRcdFx0XHRzZXRQb3NpdGlvblByb3BlcnR5KHZhbHVlLCAncmVzZXQnLCAyMDApO1xyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0Ly8gY2hlY2sgaWYgZGlzdGFuY2UgY2xlYXJzIHRocmVzaG9sZFxyXG5cdFx0XHRcdFx0aWYoTWF0aC5hYnMoZGlzdGFuY2UpID49IHNsaWRlci5zZXR0aW5ncy5zd2lwZVRocmVzaG9sZCl7XHJcblx0XHRcdFx0XHRcdGRpc3RhbmNlIDwgMCA/IGVsLmdvVG9OZXh0U2xpZGUoKSA6IGVsLmdvVG9QcmV2U2xpZGUoKTtcclxuXHRcdFx0XHRcdFx0ZWwuc3RvcEF1dG8oKTtcclxuXHRcdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0XHQvLyBlbC5hbmltYXRlKHByb3BlcnR5LCAyMDApO1xyXG5cdFx0XHRcdFx0XHRzZXRQb3NpdGlvblByb3BlcnR5KHZhbHVlLCAncmVzZXQnLCAyMDApO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRzbGlkZXIudmlld3BvcnQudW5iaW5kKCd0b3VjaGVuZCcsIG9uVG91Y2hFbmQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogV2luZG93IHJlc2l6ZSBldmVudCBjYWxsYmFja1xyXG5cdFx0ICovXHJcblx0XHR2YXIgcmVzaXplV2luZG93ID0gZnVuY3Rpb24oZSl7XHJcblx0XHRcdC8vIGRvbid0IGRvIGFueXRoaW5nIGlmIHNsaWRlciBpc24ndCBpbml0aWFsaXplZC5cclxuXHRcdFx0aWYoIXNsaWRlci5pbml0aWFsaXplZCkgcmV0dXJuO1xyXG5cdFx0XHQvLyBnZXQgdGhlIG5ldyB3aW5kb3cgZGltZW5zIChhZ2FpbiwgdGhhbmsgeW91IElFKVxyXG5cdFx0XHR2YXIgd2luZG93V2lkdGhOZXcgPSAkKHdpbmRvdykud2lkdGgoKTtcclxuXHRcdFx0dmFyIHdpbmRvd0hlaWdodE5ldyA9ICQod2luZG93KS5oZWlnaHQoKTtcclxuXHRcdFx0Ly8gbWFrZSBzdXJlIHRoYXQgaXQgaXMgYSB0cnVlIHdpbmRvdyByZXNpemVcclxuXHRcdFx0Ly8gKndlIG11c3QgY2hlY2sgdGhpcyBiZWNhdXNlIG91ciBkaW5vc2F1ciBmcmllbmQgSUUgZmlyZXMgYSB3aW5kb3cgcmVzaXplIGV2ZW50IHdoZW4gY2VydGFpbiBET00gZWxlbWVudHNcclxuXHRcdFx0Ly8gYXJlIHJlc2l6ZWQuIENhbiB5b3UganVzdCBkaWUgYWxyZWFkeT8qXHJcblx0XHRcdGlmKHdpbmRvd1dpZHRoICE9IHdpbmRvd1dpZHRoTmV3IHx8IHdpbmRvd0hlaWdodCAhPSB3aW5kb3dIZWlnaHROZXcpe1xyXG5cdFx0XHRcdC8vIHNldCB0aGUgbmV3IHdpbmRvdyBkaW1lbnNcclxuXHRcdFx0XHR3aW5kb3dXaWR0aCA9IHdpbmRvd1dpZHRoTmV3O1xyXG5cdFx0XHRcdHdpbmRvd0hlaWdodCA9IHdpbmRvd0hlaWdodE5ldztcclxuXHRcdFx0XHQvLyB1cGRhdGUgYWxsIGR5bmFtaWMgZWxlbWVudHNcclxuXHRcdFx0XHRlbC5yZWRyYXdTbGlkZXIoKTtcclxuXHRcdFx0XHQvLyBDYWxsIHVzZXIgcmVzaXplIGhhbmRsZXJcclxuXHRcdFx0XHRzbGlkZXIuc2V0dGluZ3Mub25TbGlkZXJSZXNpemUuY2FsbChlbCwgc2xpZGVyLmFjdGl2ZS5pbmRleCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0XHQgKiA9IFBVQkxJQyBGVU5DVElPTlNcclxuXHRcdCAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0XHQgKi9cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFBlcmZvcm1zIHNsaWRlIHRyYW5zaXRpb24gdG8gdGhlIHNwZWNpZmllZCBzbGlkZVxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSBzbGlkZUluZGV4IChpbnQpXHJcblx0XHQgKiAgLSB0aGUgZGVzdGluYXRpb24gc2xpZGUncyBpbmRleCAoemVyby1iYXNlZClcclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gZGlyZWN0aW9uIChzdHJpbmcpXHJcblx0XHQgKiAgLSBJTlRFUk5BTCBVU0UgT05MWSAtIHRoZSBkaXJlY3Rpb24gb2YgdHJhdmVsIChcInByZXZcIiAvIFwibmV4dFwiKVxyXG5cdFx0ICovXHJcblx0XHRlbC5nb1RvU2xpZGUgPSBmdW5jdGlvbihzbGlkZUluZGV4LCBkaXJlY3Rpb24pe1xyXG5cdFx0XHQvLyBpZiBwbHVnaW4gaXMgY3VycmVudGx5IGluIG1vdGlvbiwgaWdub3JlIHJlcXVlc3RcclxuXHRcdFx0aWYoc2xpZGVyLndvcmtpbmcgfHwgc2xpZGVyLmFjdGl2ZS5pbmRleCA9PSBzbGlkZUluZGV4KSByZXR1cm47XHJcblx0XHRcdC8vIGRlY2xhcmUgdGhhdCBwbHVnaW4gaXMgaW4gbW90aW9uXHJcblx0XHRcdHNsaWRlci53b3JraW5nID0gdHJ1ZTtcclxuXHRcdFx0Ly8gc3RvcmUgdGhlIG9sZCBpbmRleFxyXG5cdFx0XHRzbGlkZXIub2xkSW5kZXggPSBzbGlkZXIuYWN0aXZlLmluZGV4O1xyXG5cdFx0XHQvLyBpZiBzbGlkZUluZGV4IGlzIGxlc3MgdGhhbiB6ZXJvLCBzZXQgYWN0aXZlIGluZGV4IHRvIGxhc3QgY2hpbGQgKHRoaXMgaGFwcGVucyBkdXJpbmcgaW5maW5pdGUgbG9vcClcclxuXHRcdFx0aWYoc2xpZGVJbmRleCA8IDApe1xyXG5cdFx0XHRcdHNsaWRlci5hY3RpdmUuaW5kZXggPSBnZXRQYWdlclF0eSgpIC0gMTtcclxuXHRcdFx0Ly8gaWYgc2xpZGVJbmRleCBpcyBncmVhdGVyIHRoYW4gY2hpbGRyZW4gbGVuZ3RoLCBzZXQgYWN0aXZlIGluZGV4IHRvIDAgKHRoaXMgaGFwcGVucyBkdXJpbmcgaW5maW5pdGUgbG9vcClcclxuXHRcdFx0fWVsc2UgaWYoc2xpZGVJbmRleCA+PSBnZXRQYWdlclF0eSgpKXtcclxuXHRcdFx0XHRzbGlkZXIuYWN0aXZlLmluZGV4ID0gMDtcclxuXHRcdFx0Ly8gc2V0IGFjdGl2ZSBpbmRleCB0byByZXF1ZXN0ZWQgc2xpZGVcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0c2xpZGVyLmFjdGl2ZS5pbmRleCA9IHNsaWRlSW5kZXg7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gb25TbGlkZUJlZm9yZSwgb25TbGlkZU5leHQsIG9uU2xpZGVQcmV2IGNhbGxiYWNrc1xyXG5cdFx0XHRzbGlkZXIuc2V0dGluZ3Mub25TbGlkZUJlZm9yZShzbGlkZXIuY2hpbGRyZW4uZXEoc2xpZGVyLmFjdGl2ZS5pbmRleCksIHNsaWRlci5vbGRJbmRleCwgc2xpZGVyLmFjdGl2ZS5pbmRleCk7XHJcblx0XHRcdGlmKGRpcmVjdGlvbiA9PSAnbmV4dCcpe1xyXG5cdFx0XHRcdHNsaWRlci5zZXR0aW5ncy5vblNsaWRlTmV4dChzbGlkZXIuY2hpbGRyZW4uZXEoc2xpZGVyLmFjdGl2ZS5pbmRleCksIHNsaWRlci5vbGRJbmRleCwgc2xpZGVyLmFjdGl2ZS5pbmRleCk7XHJcblx0XHRcdH1lbHNlIGlmKGRpcmVjdGlvbiA9PSAncHJldicpe1xyXG5cdFx0XHRcdHNsaWRlci5zZXR0aW5ncy5vblNsaWRlUHJldihzbGlkZXIuY2hpbGRyZW4uZXEoc2xpZGVyLmFjdGl2ZS5pbmRleCksIHNsaWRlci5vbGRJbmRleCwgc2xpZGVyLmFjdGl2ZS5pbmRleCk7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gY2hlY2sgaWYgbGFzdCBzbGlkZVxyXG5cdFx0XHRzbGlkZXIuYWN0aXZlLmxhc3QgPSBzbGlkZXIuYWN0aXZlLmluZGV4ID49IGdldFBhZ2VyUXR5KCkgLSAxO1xyXG5cdFx0XHQvLyB1cGRhdGUgdGhlIHBhZ2VyIHdpdGggYWN0aXZlIGNsYXNzXHJcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5wYWdlcikgdXBkYXRlUGFnZXJBY3RpdmUoc2xpZGVyLmFjdGl2ZS5pbmRleCk7XHJcblx0XHRcdC8vIC8vIGNoZWNrIGZvciBkaXJlY3Rpb24gY29udHJvbCB1cGRhdGVcclxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLmNvbnRyb2xzKSB1cGRhdGVEaXJlY3Rpb25Db250cm9scygpO1xyXG5cdFx0XHQvLyBpZiBzbGlkZXIgaXMgc2V0IHRvIG1vZGU6IFwiZmFkZVwiXHJcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICdmYWRlJyl7XHJcblx0XHRcdFx0Ly8gaWYgYWRhcHRpdmVIZWlnaHQgaXMgdHJ1ZSBhbmQgbmV4dCBoZWlnaHQgaXMgZGlmZmVyZW50IGZyb20gY3VycmVudCBoZWlnaHQsIGFuaW1hdGUgdG8gdGhlIG5ldyBoZWlnaHRcclxuXHRcdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuYWRhcHRpdmVIZWlnaHQgJiYgc2xpZGVyLnZpZXdwb3J0LmhlaWdodCgpICE9IGdldFZpZXdwb3J0SGVpZ2h0KCkpe1xyXG5cdFx0XHRcdFx0c2xpZGVyLnZpZXdwb3J0LmFuaW1hdGUoe2hlaWdodDogZ2V0Vmlld3BvcnRIZWlnaHQoKX0sIHNsaWRlci5zZXR0aW5ncy5hZGFwdGl2ZUhlaWdodFNwZWVkKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly8gZmFkZSBvdXQgdGhlIHZpc2libGUgY2hpbGQgYW5kIHJlc2V0IGl0cyB6LWluZGV4IHZhbHVlXHJcblx0XHRcdFx0c2xpZGVyLmNoaWxkcmVuLmZpbHRlcignOnZpc2libGUnKS5mYWRlT3V0KHNsaWRlci5zZXR0aW5ncy5zcGVlZCkuY3NzKHt6SW5kZXg6IDB9KTtcclxuXHRcdFx0XHQvLyBmYWRlIGluIHRoZSBuZXdseSByZXF1ZXN0ZWQgc2xpZGVcclxuXHRcdFx0XHRzbGlkZXIuY2hpbGRyZW4uZXEoc2xpZGVyLmFjdGl2ZS5pbmRleCkuY3NzKCd6SW5kZXgnLCBzbGlkZXIuc2V0dGluZ3Muc2xpZGVaSW5kZXgrMSkuZmFkZUluKHNsaWRlci5zZXR0aW5ncy5zcGVlZCwgZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdCQodGhpcykuY3NzKCd6SW5kZXgnLCBzbGlkZXIuc2V0dGluZ3Muc2xpZGVaSW5kZXgpO1xyXG5cdFx0XHRcdFx0dXBkYXRlQWZ0ZXJTbGlkZVRyYW5zaXRpb24oKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0Ly8gc2xpZGVyIG1vZGUgaXMgbm90IFwiZmFkZVwiXHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdC8vIGlmIGFkYXB0aXZlSGVpZ2h0IGlzIHRydWUgYW5kIG5leHQgaGVpZ2h0IGlzIGRpZmZlcmVudCBmcm9tIGN1cnJlbnQgaGVpZ2h0LCBhbmltYXRlIHRvIHRoZSBuZXcgaGVpZ2h0XHJcblx0XHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLmFkYXB0aXZlSGVpZ2h0ICYmIHNsaWRlci52aWV3cG9ydC5oZWlnaHQoKSAhPSBnZXRWaWV3cG9ydEhlaWdodCgpKXtcclxuXHRcdFx0XHRcdHNsaWRlci52aWV3cG9ydC5hbmltYXRlKHtoZWlnaHQ6IGdldFZpZXdwb3J0SGVpZ2h0KCl9LCBzbGlkZXIuc2V0dGluZ3MuYWRhcHRpdmVIZWlnaHRTcGVlZCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHZhciBtb3ZlQnkgPSAwO1xyXG5cdFx0XHRcdHZhciBwb3NpdGlvbiA9IHtsZWZ0OiAwLCB0b3A6IDB9O1xyXG5cdFx0XHRcdC8vIGlmIGNhcm91c2VsIGFuZCBub3QgaW5maW5pdGUgbG9vcFxyXG5cdFx0XHRcdGlmKCFzbGlkZXIuc2V0dGluZ3MuaW5maW5pdGVMb29wICYmIHNsaWRlci5jYXJvdXNlbCAmJiBzbGlkZXIuYWN0aXZlLmxhc3Qpe1xyXG5cdFx0XHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnKXtcclxuXHRcdFx0XHRcdFx0Ly8gZ2V0IHRoZSBsYXN0IGNoaWxkIHBvc2l0aW9uXHJcblx0XHRcdFx0XHRcdHZhciBsYXN0Q2hpbGQgPSBzbGlkZXIuY2hpbGRyZW4uZXEoc2xpZGVyLmNoaWxkcmVuLmxlbmd0aCAtIDEpO1xyXG5cdFx0XHRcdFx0XHRwb3NpdGlvbiA9IGxhc3RDaGlsZC5wb3NpdGlvbigpO1xyXG5cdFx0XHRcdFx0XHQvLyBjYWxjdWxhdGUgdGhlIHBvc2l0aW9uIG9mIHRoZSBsYXN0IHNsaWRlXHJcblx0XHRcdFx0XHRcdG1vdmVCeSA9IHNsaWRlci52aWV3cG9ydC53aWR0aCgpIC0gbGFzdENoaWxkLm91dGVyV2lkdGgoKTtcclxuXHRcdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0XHQvLyBnZXQgbGFzdCBzaG93aW5nIGluZGV4IHBvc2l0aW9uXHJcblx0XHRcdFx0XHRcdHZhciBsYXN0U2hvd2luZ0luZGV4ID0gc2xpZGVyLmNoaWxkcmVuLmxlbmd0aCAtIHNsaWRlci5zZXR0aW5ncy5taW5TbGlkZXM7XHJcblx0XHRcdFx0XHRcdHBvc2l0aW9uID0gc2xpZGVyLmNoaWxkcmVuLmVxKGxhc3RTaG93aW5nSW5kZXgpLnBvc2l0aW9uKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQvLyBob3Jpem9udGFsIGNhcm91c2VsLCBnb2luZyBwcmV2aW91cyB3aGlsZSBvbiBmaXJzdCBzbGlkZSAoaW5maW5pdGVMb29wIG1vZGUpXHJcblx0XHRcdFx0fWVsc2UgaWYoc2xpZGVyLmNhcm91c2VsICYmIHNsaWRlci5hY3RpdmUubGFzdCAmJiBkaXJlY3Rpb24gPT0gJ3ByZXYnKXtcclxuXHRcdFx0XHRcdC8vIGdldCB0aGUgbGFzdCBjaGlsZCBwb3NpdGlvblxyXG5cdFx0XHRcdFx0dmFyIGVxID0gc2xpZGVyLnNldHRpbmdzLm1vdmVTbGlkZXMgPT0gMSA/IHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMgLSBnZXRNb3ZlQnkoKSA6ICgoZ2V0UGFnZXJRdHkoKSAtIDEpICogZ2V0TW92ZUJ5KCkpIC0gKHNsaWRlci5jaGlsZHJlbi5sZW5ndGggLSBzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzKTtcclxuXHRcdFx0XHRcdHZhciBsYXN0Q2hpbGQgPSBlbC5jaGlsZHJlbignLmJ4LWNsb25lJykuZXEoZXEpO1xyXG5cdFx0XHRcdFx0cG9zaXRpb24gPSBsYXN0Q2hpbGQucG9zaXRpb24oKTtcclxuXHRcdFx0XHQvLyBpZiBpbmZpbml0ZSBsb29wIGFuZCBcIk5leHRcIiBpcyBjbGlja2VkIG9uIHRoZSBsYXN0IHNsaWRlXHJcblx0XHRcdFx0fWVsc2UgaWYoZGlyZWN0aW9uID09ICduZXh0JyAmJiBzbGlkZXIuYWN0aXZlLmluZGV4ID09IDApe1xyXG5cdFx0XHRcdFx0Ly8gZ2V0IHRoZSBsYXN0IGNsb25lIHBvc2l0aW9uXHJcblx0XHRcdFx0XHRwb3NpdGlvbiA9IGVsLmZpbmQoJz4gLmJ4LWNsb25lJykuZXEoc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcykucG9zaXRpb24oKTtcclxuXHRcdFx0XHRcdHNsaWRlci5hY3RpdmUubGFzdCA9IGZhbHNlO1xyXG5cdFx0XHRcdC8vIG5vcm1hbCBub24temVybyByZXF1ZXN0c1xyXG5cdFx0XHRcdH1lbHNlIGlmKHNsaWRlSW5kZXggPj0gMCl7XHJcblx0XHRcdFx0XHR2YXIgcmVxdWVzdEVsID0gc2xpZGVJbmRleCAqIGdldE1vdmVCeSgpO1xyXG5cdFx0XHRcdFx0cG9zaXRpb24gPSBzbGlkZXIuY2hpbGRyZW4uZXEocmVxdWVzdEVsKS5wb3NpdGlvbigpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0LyogSWYgdGhlIHBvc2l0aW9uIGRvZXNuJ3QgZXhpc3RcclxuXHRcdFx0XHQgKiAoZS5nLiBpZiB5b3UgZGVzdHJveSB0aGUgc2xpZGVyIG9uIGEgbmV4dCBjbGljayksXHJcblx0XHRcdFx0ICogaXQgZG9lc24ndCB0aHJvdyBhbiBlcnJvci5cclxuXHRcdFx0XHQgKi9cclxuXHRcdFx0XHRpZiAoXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mKHBvc2l0aW9uKSkge1xyXG5cdFx0XHRcdFx0dmFyIHZhbHVlID0gc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnID8gLShwb3NpdGlvbi5sZWZ0IC0gbW92ZUJ5KSA6IC1wb3NpdGlvbi50b3A7XHJcblx0XHRcdFx0XHQvLyBwbHVnaW4gdmFsdWVzIHRvIGJlIGFuaW1hdGVkXHJcblx0XHRcdFx0XHRzZXRQb3NpdGlvblByb3BlcnR5KHZhbHVlLCAnc2xpZGUnLCBzbGlkZXIuc2V0dGluZ3Muc3BlZWQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVHJhbnNpdGlvbnMgdG8gdGhlIG5leHQgc2xpZGUgaW4gdGhlIHNob3dcclxuXHRcdCAqL1xyXG5cdFx0ZWwuZ29Ub05leHRTbGlkZSA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdC8vIGlmIGluZmluaXRlTG9vcCBpcyBmYWxzZSBhbmQgbGFzdCBwYWdlIGlzIHNob3dpbmcsIGRpc3JlZ2FyZCBjYWxsXHJcblx0XHRcdGlmICghc2xpZGVyLnNldHRpbmdzLmluZmluaXRlTG9vcCAmJiBzbGlkZXIuYWN0aXZlLmxhc3QpIHJldHVybjtcclxuXHRcdFx0dmFyIHBhZ2VySW5kZXggPSBwYXJzZUludChzbGlkZXIuYWN0aXZlLmluZGV4KSArIDE7XHJcblx0XHRcdGVsLmdvVG9TbGlkZShwYWdlckluZGV4LCAnbmV4dCcpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVHJhbnNpdGlvbnMgdG8gdGhlIHByZXYgc2xpZGUgaW4gdGhlIHNob3dcclxuXHRcdCAqL1xyXG5cdFx0ZWwuZ29Ub1ByZXZTbGlkZSA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdC8vIGlmIGluZmluaXRlTG9vcCBpcyBmYWxzZSBhbmQgbGFzdCBwYWdlIGlzIHNob3dpbmcsIGRpc3JlZ2FyZCBjYWxsXHJcblx0XHRcdGlmICghc2xpZGVyLnNldHRpbmdzLmluZmluaXRlTG9vcCAmJiBzbGlkZXIuYWN0aXZlLmluZGV4ID09IDApIHJldHVybjtcclxuXHRcdFx0dmFyIHBhZ2VySW5kZXggPSBwYXJzZUludChzbGlkZXIuYWN0aXZlLmluZGV4KSAtIDE7XHJcblx0XHRcdGVsLmdvVG9TbGlkZShwYWdlckluZGV4LCAncHJldicpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU3RhcnRzIHRoZSBhdXRvIHNob3dcclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gcHJldmVudENvbnRyb2xVcGRhdGUgKGJvb2xlYW4pXHJcblx0XHQgKiAgLSBpZiB0cnVlLCBhdXRvIGNvbnRyb2xzIHN0YXRlIHdpbGwgbm90IGJlIHVwZGF0ZWRcclxuXHRcdCAqL1xyXG5cdFx0ZWwuc3RhcnRBdXRvID0gZnVuY3Rpb24ocHJldmVudENvbnRyb2xVcGRhdGUpe1xyXG5cdFx0XHQvLyBpZiBhbiBpbnRlcnZhbCBhbHJlYWR5IGV4aXN0cywgZGlzcmVnYXJkIGNhbGxcclxuXHRcdFx0aWYoc2xpZGVyLmludGVydmFsKSByZXR1cm47XHJcblx0XHRcdC8vIGNyZWF0ZSBhbiBpbnRlcnZhbFxyXG5cdFx0XHRzbGlkZXIuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpe1xyXG5cdFx0XHRcdHNsaWRlci5zZXR0aW5ncy5hdXRvRGlyZWN0aW9uID09ICduZXh0JyA/IGVsLmdvVG9OZXh0U2xpZGUoKSA6IGVsLmdvVG9QcmV2U2xpZGUoKTtcclxuXHRcdFx0fSwgc2xpZGVyLnNldHRpbmdzLnBhdXNlKTtcclxuXHRcdFx0Ly8gaWYgYXV0byBjb250cm9scyBhcmUgZGlzcGxheWVkIGFuZCBwcmV2ZW50Q29udHJvbFVwZGF0ZSBpcyBub3QgdHJ1ZVxyXG5cdFx0XHRpZiAoc2xpZGVyLnNldHRpbmdzLmF1dG9Db250cm9scyAmJiBwcmV2ZW50Q29udHJvbFVwZGF0ZSAhPSB0cnVlKSB1cGRhdGVBdXRvQ29udHJvbHMoJ3N0b3AnKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFN0b3BzIHRoZSBhdXRvIHNob3dcclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gcHJldmVudENvbnRyb2xVcGRhdGUgKGJvb2xlYW4pXHJcblx0XHQgKiAgLSBpZiB0cnVlLCBhdXRvIGNvbnRyb2xzIHN0YXRlIHdpbGwgbm90IGJlIHVwZGF0ZWRcclxuXHRcdCAqL1xyXG5cdFx0ZWwuc3RvcEF1dG8gPSBmdW5jdGlvbihwcmV2ZW50Q29udHJvbFVwZGF0ZSl7XHJcblx0XHRcdC8vIGlmIG5vIGludGVydmFsIGV4aXN0cywgZGlzcmVnYXJkIGNhbGxcclxuXHRcdFx0aWYoIXNsaWRlci5pbnRlcnZhbCkgcmV0dXJuO1xyXG5cdFx0XHQvLyBjbGVhciB0aGUgaW50ZXJ2YWxcclxuXHRcdFx0Y2xlYXJJbnRlcnZhbChzbGlkZXIuaW50ZXJ2YWwpO1xyXG5cdFx0XHRzbGlkZXIuaW50ZXJ2YWwgPSBudWxsO1xyXG5cdFx0XHQvLyBpZiBhdXRvIGNvbnRyb2xzIGFyZSBkaXNwbGF5ZWQgYW5kIHByZXZlbnRDb250cm9sVXBkYXRlIGlzIG5vdCB0cnVlXHJcblx0XHRcdGlmIChzbGlkZXIuc2V0dGluZ3MuYXV0b0NvbnRyb2xzICYmIHByZXZlbnRDb250cm9sVXBkYXRlICE9IHRydWUpIHVwZGF0ZUF1dG9Db250cm9scygnc3RhcnQnKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJldHVybnMgY3VycmVudCBzbGlkZSBpbmRleCAoemVyby1iYXNlZClcclxuXHRcdCAqL1xyXG5cdFx0ZWwuZ2V0Q3VycmVudFNsaWRlID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0cmV0dXJuIHNsaWRlci5hY3RpdmUuaW5kZXg7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZXR1cm5zIGN1cnJlbnQgc2xpZGUgZWxlbWVudFxyXG5cdFx0ICovXHJcblx0XHRlbC5nZXRDdXJyZW50U2xpZGVFbGVtZW50ID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0cmV0dXJuIHNsaWRlci5jaGlsZHJlbi5lcShzbGlkZXIuYWN0aXZlLmluZGV4KTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJldHVybnMgbnVtYmVyIG9mIHNsaWRlcyBpbiBzaG93XHJcblx0XHQgKi9cclxuXHRcdGVsLmdldFNsaWRlQ291bnQgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHRyZXR1cm4gc2xpZGVyLmNoaWxkcmVuLmxlbmd0aDtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFVwZGF0ZSBhbGwgZHluYW1pYyBzbGlkZXIgZWxlbWVudHNcclxuXHRcdCAqL1xyXG5cdFx0ZWwucmVkcmF3U2xpZGVyID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0Ly8gcmVzaXplIGFsbCBjaGlsZHJlbiBpbiByYXRpbyB0byBuZXcgc2NyZWVuIHNpemVcclxuXHRcdFx0c2xpZGVyLmNoaWxkcmVuLmFkZChlbC5maW5kKCcuYngtY2xvbmUnKSkud2lkdGgoZ2V0U2xpZGVXaWR0aCgpKTtcclxuXHRcdFx0Ly8gYWRqdXN0IHRoZSBoZWlnaHRcclxuXHRcdFx0c2xpZGVyLnZpZXdwb3J0LmNzcygnaGVpZ2h0JywgZ2V0Vmlld3BvcnRIZWlnaHQoKSk7XHJcblx0XHRcdC8vIHVwZGF0ZSB0aGUgc2xpZGUgcG9zaXRpb25cclxuXHRcdFx0aWYoIXNsaWRlci5zZXR0aW5ncy50aWNrZXIpIHNldFNsaWRlUG9zaXRpb24oKTtcclxuXHRcdFx0Ly8gaWYgYWN0aXZlLmxhc3Qgd2FzIHRydWUgYmVmb3JlIHRoZSBzY3JlZW4gcmVzaXplLCB3ZSB3YW50XHJcblx0XHRcdC8vIHRvIGtlZXAgaXQgbGFzdCBubyBtYXR0ZXIgd2hhdCBzY3JlZW4gc2l6ZSB3ZSBlbmQgb25cclxuXHRcdFx0aWYgKHNsaWRlci5hY3RpdmUubGFzdCkgc2xpZGVyLmFjdGl2ZS5pbmRleCA9IGdldFBhZ2VyUXR5KCkgLSAxO1xyXG5cdFx0XHQvLyBpZiB0aGUgYWN0aXZlIGluZGV4IChwYWdlKSBubyBsb25nZXIgZXhpc3RzIGR1ZSB0byB0aGUgcmVzaXplLCBzaW1wbHkgc2V0IHRoZSBpbmRleCBhcyBsYXN0XHJcblx0XHRcdGlmIChzbGlkZXIuYWN0aXZlLmluZGV4ID49IGdldFBhZ2VyUXR5KCkpIHNsaWRlci5hY3RpdmUubGFzdCA9IHRydWU7XHJcblx0XHRcdC8vIGlmIGEgcGFnZXIgaXMgYmVpbmcgZGlzcGxheWVkIGFuZCBhIGN1c3RvbSBwYWdlciBpcyBub3QgYmVpbmcgdXNlZCwgdXBkYXRlIGl0XHJcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5wYWdlciAmJiAhc2xpZGVyLnNldHRpbmdzLnBhZ2VyQ3VzdG9tKXtcclxuXHRcdFx0XHRwb3B1bGF0ZVBhZ2VyKCk7XHJcblx0XHRcdFx0dXBkYXRlUGFnZXJBY3RpdmUoc2xpZGVyLmFjdGl2ZS5pbmRleCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIERlc3Ryb3kgdGhlIGN1cnJlbnQgaW5zdGFuY2Ugb2YgdGhlIHNsaWRlciAocmV2ZXJ0IGV2ZXJ5dGhpbmcgYmFjayB0byBvcmlnaW5hbCBzdGF0ZSlcclxuXHRcdCAqL1xyXG5cdFx0ZWwuZGVzdHJveVNsaWRlciA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdC8vIGRvbid0IGRvIGFueXRoaW5nIGlmIHNsaWRlciBoYXMgYWxyZWFkeSBiZWVuIGRlc3Ryb3llZFxyXG5cdFx0XHRpZighc2xpZGVyLmluaXRpYWxpemVkKSByZXR1cm47XHJcblx0XHRcdHNsaWRlci5pbml0aWFsaXplZCA9IGZhbHNlO1xyXG5cdFx0XHQkKCcuYngtY2xvbmUnLCB0aGlzKS5yZW1vdmUoKTtcclxuXHRcdFx0c2xpZGVyLmNoaWxkcmVuLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0JCh0aGlzKS5kYXRhKFwib3JpZ1N0eWxlXCIpICE9IHVuZGVmaW5lZCA/ICQodGhpcykuYXR0cihcInN0eWxlXCIsICQodGhpcykuZGF0YShcIm9yaWdTdHlsZVwiKSkgOiAkKHRoaXMpLnJlbW92ZUF0dHIoJ3N0eWxlJyk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHQkKHRoaXMpLmRhdGEoXCJvcmlnU3R5bGVcIikgIT0gdW5kZWZpbmVkID8gdGhpcy5hdHRyKFwic3R5bGVcIiwgJCh0aGlzKS5kYXRhKFwib3JpZ1N0eWxlXCIpKSA6ICQodGhpcykucmVtb3ZlQXR0cignc3R5bGUnKTtcclxuXHRcdFx0JCh0aGlzKS51bndyYXAoKS51bndyYXAoKTtcclxuXHRcdFx0aWYoc2xpZGVyLmNvbnRyb2xzLmVsKSBzbGlkZXIuY29udHJvbHMuZWwucmVtb3ZlKCk7XHJcblx0XHRcdGlmKHNsaWRlci5jb250cm9scy5uZXh0KSBzbGlkZXIuY29udHJvbHMubmV4dC5yZW1vdmUoKTtcclxuXHRcdFx0aWYoc2xpZGVyLmNvbnRyb2xzLnByZXYpIHNsaWRlci5jb250cm9scy5wcmV2LnJlbW92ZSgpO1xyXG5cdFx0XHRpZihzbGlkZXIucGFnZXJFbCAmJiBzbGlkZXIuc2V0dGluZ3MuY29udHJvbHMpIHNsaWRlci5wYWdlckVsLnJlbW92ZSgpO1xyXG5cdFx0XHQkKCcuYngtY2FwdGlvbicsIHRoaXMpLnJlbW92ZSgpO1xyXG5cdFx0XHRpZihzbGlkZXIuY29udHJvbHMuYXV0b0VsKSBzbGlkZXIuY29udHJvbHMuYXV0b0VsLnJlbW92ZSgpO1xyXG5cdFx0XHRjbGVhckludGVydmFsKHNsaWRlci5pbnRlcnZhbCk7XHJcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5yZXNwb25zaXZlKSAkKHdpbmRvdykudW5iaW5kKCdyZXNpemUnLCByZXNpemVXaW5kb3cpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmVsb2FkIHRoZSBzbGlkZXIgKHJldmVydCBhbGwgRE9NIGNoYW5nZXMsIGFuZCByZS1pbml0aWFsaXplKVxyXG5cdFx0ICovXHJcblx0XHRlbC5yZWxvYWRTbGlkZXIgPSBmdW5jdGlvbihzZXR0aW5ncyl7XHJcblx0XHRcdGlmIChzZXR0aW5ncyAhPSB1bmRlZmluZWQpIG9wdGlvbnMgPSBzZXR0aW5ncztcclxuXHRcdFx0ZWwuZGVzdHJveVNsaWRlcigpO1xyXG5cdFx0XHRpbml0KCk7XHJcblx0XHR9XHJcblxyXG5cdFx0aW5pdCgpO1xyXG5cclxuXHRcdC8vIHJldHVybnMgdGhlIGN1cnJlbnQgalF1ZXJ5IG9iamVjdFxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG5cclxufSkoalF1ZXJ5KTtcclxuIl19
