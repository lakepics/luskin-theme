"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){function t(e,t,n,l,o){if(t.items.filter("li:eq("+l+")").addClass("active").siblings(".active").removeClass("active"),"undefined"==typeof o&&(o="fast"),o)t.animate({scrollLeft:n},o,function(){i(t)});else{t.scrollLeft(n),i(t)}}function i(e){var t=e.items.filter(".active");if(t.hasClass("-before")){var i=t.prevAll().size();t.removeClass("active"),t=e.items.filter(":not(.-before):eq("+i+")").addClass("active"),e.scrollLeft(e.scrollLeft()+t.position().left)}else if(t.hasClass("-after")){var i=t.prevAll(".-after").size();t.removeClass("active"),t=e.items.filter(":not(.-before):eq("+i+")").addClass("active"),e.scrollLeft(e.scrollLeft()+t.position().left)}}var n={init:function(i){var i=e.extend({},e.fn.lemmonSlider.defaults,i);return this.each(function(){var n=e(this),l=n.data("slider");if(!l){var o=n.find(i.slider),r=n.next().filter(".controls"),s=o.find(i.items),f=1;s.each(function(){f+=e(this).outerWidth(!0)}),o.width(f),i.slideToLast&&o.css("padding-right",n.width()),i.infinite&&(n.attr("data-slider-infinite",!0),f=3*f,o.width(f),s.clone().addClass("-after").insertAfter(s.filter(":last")),s.filter(":first").before(s.clone().addClass("-before")),s=o.find(i.items)),n.items=s,n.options=i,n.bind("nextSlide",function(l,r){var f=n.scrollLeft(),d=0,a=0;s.each(function(t){0==d&&e(this).position().left>1&&(d=e(this).position().left,a=t)}),d>0&&o.outerWidth()-f-n.width()-1>0?t(l,n,f+d,a,"fast"):i.loop&&t(l,n,0,0,"slow")}),n.bind("prevSlide",function(l,r){var f=n.scrollLeft(),d=0,a=0;if(s.each(function(t){e(this).position().left<0&&(d=e(this).position().left,a=t)}),d)t(l,n,f+d,a,"fast");else if(i.loop){var c=o.outerWidth()-n.width(),p=s.filter(":last").position().left;a=s.size()-1,c>p?t(l,n,p,a,"fast"):t(l,n,c,a,"fast")}}),n.bind("nextPage",function(l,o){var r=n.scrollLeft(),d=n.width(),a=0,c=0;s.each(function(t){e(this).position().left<d&&(a=e(this).position().left,c=t)}),a>0&&r+d+1<f?t(l,n,r+a,c,"slow"):i.loop&&t(l,n,0,0,"slow")}),n.bind("prevPage",function(l,r){var f=n.scrollLeft(),d=n.width(),a=0;if(s.each(function(t){e(this).position().left<1-d&&(a=e(this).next().position().left,slide=t)}),f)0==a?t(l,n,0,0,"slow"):t(l,n,f+a,slide,"slow");else if(i.loop){var c=o.outerWidth()-n.width(),p=s.filter(":last").position().left;c>p?n.animate({scrollLeft:p},"slow"):n.animate({scrollLeft:c},"slow")}}),n.bind("slideTo",function(e,i,l){t(e,n,n.scrollLeft()+s.filter(":eq("+i+")").position().left,i,l)}),r.find(".next-slide").click(function(){return n.trigger("nextSlide"),!1}),r.find(".prev-slide").click(function(){return n.trigger("prevSlide"),!1}),r.find(".next-page").click(function(){return n.trigger("nextPage"),!1}),r.find(".prev-page").click(function(){return n.trigger("prevPage"),!1}),n.data("slider",{target:n,options:i})}})},addItem:function(t){var t=e.extend({},e.fn.lemmonSlider.defaults,t),i=e(this),l=i.find(t.slider);i.next().filter(".controls"),l.find(t.items);return t.infinite=i.attr("data-slider-infinite"),!!t.item&&(n.destroy.apply(this),t.prepend?l.prepend(t.item):l.append(t.item),void n.init.apply(this,[t]))},destroy:function(){return this.each(function(){var t=e(this),i=t.next().filter(".controls"),n=t.find("> *:first > *");t.data("slider");t.unbind("nextSlide"),t.unbind("prevSlide"),t.unbind("nextPage"),t.unbind("prevPage"),t.unbind("slideTo"),i.find(".next-slide").unbind("click"),i.find(".prev-slide").unbind("click"),i.find(".next-page").unbind("click"),i.find(".next-page").unbind("click"),t.removeData("slider"),t.attr("data-slider-infinite")&&e.merge(n.filter(".-before"),n.filter(".-after")).each(function(t,i){e(i).remove()})})}};e.fn.lemmonSlider=function(t,i){return null==i&&(i={}),n[t]?n[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==("undefined"==typeof t?"undefined":_typeof(t))&&t?void e.error("Method "+t+" does not exist on jQuery.lemmonSlider"):n.init.apply(this,arguments)},e.fn.lemmonSlider.defaults={items:"> *",loop:!0,slideToLast:!1,slider:"> *:first",infinite:!1}}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYnJhcnkvcGx1Z2lucy9sZW1tb24tc2xpZGVyL2xlbW1vbi1zbGlkZXIuanMiXSwibmFtZXMiOlsiX3R5cGVvZiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwib2JqIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCIkIiwic2xpZGVUbyIsImUiLCIkc2xpZGVyIiwieCIsImkiLCJ0IiwiaXRlbXMiLCJmaWx0ZXIiLCJhZGRDbGFzcyIsInNpYmxpbmdzIiwicmVtb3ZlQ2xhc3MiLCJhbmltYXRlIiwic2Nyb2xsTGVmdCIsImNoZWNrSW5maW5pdGUiLCIkYWN0aXZlIiwiaGFzQ2xhc3MiLCJwcmV2QWxsIiwic2l6ZSIsInBvc2l0aW9uIiwibGVmdCIsIm1ldGhvZHMiLCJpbml0Iiwib3B0aW9ucyIsImV4dGVuZCIsImZuIiwibGVtbW9uU2xpZGVyIiwiZGVmYXVsdHMiLCJ0aGlzIiwiZWFjaCIsImRhdGEiLCIkc2xpZGVyQ29udGFpbmVyIiwiZmluZCIsInNsaWRlciIsIiRzbGlkZXJDb250cm9scyIsIm5leHQiLCIkaXRlbXMiLCJvcmlnaW5hbFdpZHRoIiwib3V0ZXJXaWR0aCIsIndpZHRoIiwic2xpZGVUb0xhc3QiLCJjc3MiLCJpbmZpbml0ZSIsImF0dHIiLCJjbG9uZSIsImluc2VydEFmdGVyIiwiYmVmb3JlIiwiYmluZCIsInNjcm9sbCIsInNsaWRlIiwibG9vcCIsImEiLCJiIiwidyIsImNsaWNrIiwidHJpZ2dlciIsInRhcmdldCIsImFkZEl0ZW0iLCJpdGVtIiwiZGVzdHJveSIsImFwcGx5IiwicHJlcGVuZCIsImFwcGVuZCIsInVuYmluZCIsInJlbW92ZURhdGEiLCJtZXJnZSIsImluZGV4IiwicmVtb3ZlIiwibWV0aG9kIiwiQXJyYXkiLCJzbGljZSIsImNhbGwiLCJhcmd1bWVudHMiLCJlcnJvciIsImpRdWVyeSJdLCJtYXBwaW5ncyI6IkFBQUEsWUFFQSxJQUFJQSxTQUE0QixrQkFBWEMsU0FBb0QsZ0JBQXBCQSxRQUFPQyxTQUF3QixTQUFV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RSxVQUFVdUUsTUFBTUMsS0FBTUMsVUFBVyxJQUNoRCxZQUFsQixtQkFBT0osR0FBUCxZQUFBMUUsUUFBTzBFLEtBQXdCQSxNQUcxQ3BFLEdBQUV5RSxNQUFPLFVBQWFMLEVBQVMsMENBRnhCL0MsRUFBUUMsS0FBS3NDLE1BQU9oQyxLQUFNNEMsWUFTbkN4RSxFQUFFeUIsR0FBR0MsYUFBYUMsVUFFakJwQixNQUFnQixNQUNoQjJDLE1BQWdCLEVBQ2hCVixhQUFnQixFQUNoQlAsT0FBZ0IsWUFFaEJTLFVBQWdCLElBSWRnQyIsImZpbGUiOiJsaWJyYXJ5L3BsdWdpbnMvbGVtbW9uLXNsaWRlci9sZW1tb24tc2xpZGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcclxuICogTGVtbW9uIFNsaWRlciAtIGpRdWVyeSBQbHVnaW5cclxuICogU2ltcGxlIGFuZCBsaWdodHdlaWdodCBzbGlkZXIvY2Fyb3VzZWwgc3VwcG9ydGluZyB2YXJpYWJsZSBlbGVtZW50cy9pbWFnZXMgd2lkdGhzLlxyXG4gKlxyXG4gKiBFeGFtcGxlcyBhbmQgZG9jdW1lbnRhdGlvbiBhdDogaHR0cDovL2pxdWVyeS5sZW1tb25qdWljZS5jb20vcGx1Z2lucy9zbGlkZXItdmFyaWFibGUtd2lkdGhzLnBocFxyXG4gKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTEgSmFrdWIgUGVsw6FrIDxqcGVsYWtAZ21haWwuY29tPlxyXG4gKlxyXG4gKiBWZXJzaW9uOiAwLjIgKDkvNi8yMDExKVxyXG4gKiBSZXF1aXJlczogalF1ZXJ5IHYxLjQrXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZTpcclxuICogICBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxyXG4gKi9cclxuKGZ1bmN0aW9uKCAkICl7XHJcblxyXG5cdHZhciBfY3NzID0ge307XHJcblxyXG5cdHZhciBtZXRob2RzID0ge1xyXG5cdFx0Ly9cclxuXHRcdC8vIEluaXRpYWx6aWUgcGx1Z2luXHJcblx0XHQvL1xyXG5cdFx0aW5pdCA6IGZ1bmN0aW9uKG9wdGlvbnMpe1xyXG5cclxuXHRcdFx0dmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgJC5mbi5sZW1tb25TbGlkZXIuZGVmYXVsdHMsIG9wdGlvbnMpO1xyXG5cclxuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe1xyXG5cclxuXHRcdFx0XHR2YXIgJHNsaWRlciA9ICQoIHRoaXMgKSxcclxuXHRcdFx0XHQgICAgZGF0YSA9ICRzbGlkZXIuZGF0YSggJ3NsaWRlcicgKTtcclxuXHJcblx0XHRcdFx0aWYgKCAhIGRhdGEgKXtcclxuXHJcblx0XHRcdFx0XHR2YXIgJHNsaWRlckNvbnRhaW5lciA9ICRzbGlkZXIuZmluZChvcHRpb25zLnNsaWRlciksXHJcblx0XHRcdFx0XHQgICAgJHNsaWRlckNvbnRyb2xzID0gJHNsaWRlci5uZXh0KCkuZmlsdGVyKCcuY29udHJvbHMnKSxcclxuXHRcdFx0XHRcdCAgICAkaXRlbXMgPSAkc2xpZGVyQ29udGFpbmVyLmZpbmQoIG9wdGlvbnMuaXRlbXMgKSxcclxuXHRcdFx0XHRcdCAgICBvcmlnaW5hbFdpZHRoID0gMTtcclxuXHJcblx0XHRcdFx0XHQkaXRlbXMuZWFjaChmdW5jdGlvbigpeyBvcmlnaW5hbFdpZHRoICs9ICQodGhpcykub3V0ZXJXaWR0aCh0cnVlKSB9KTtcclxuXHRcdFx0XHRcdCRzbGlkZXJDb250YWluZXIud2lkdGgoIG9yaWdpbmFsV2lkdGggKTtcclxuXHJcblx0XHRcdFx0XHQvLyBzbGlkZSB0byBsYXN0IGl0ZW1cclxuXHRcdFx0XHRcdGlmICggb3B0aW9ucy5zbGlkZVRvTGFzdCApICRzbGlkZXJDb250YWluZXIuY3NzKCAncGFkZGluZy1yaWdodCcsICRzbGlkZXIud2lkdGgoKSApO1xyXG5cclxuXHRcdFx0XHRcdC8vIGluZmluaXRlIGNhcm91c2VsXHJcblx0XHRcdFx0XHRpZiAoIG9wdGlvbnMuaW5maW5pdGUgKXtcclxuXHRcdFx0XHRcdFx0JHNsaWRlci5hdHRyKCdkYXRhLXNsaWRlci1pbmZpbml0ZScsdHJ1ZSlcclxuXHJcblx0XHRcdFx0XHRcdG9yaWdpbmFsV2lkdGggPSBvcmlnaW5hbFdpZHRoICogMztcclxuXHRcdFx0XHRcdFx0JHNsaWRlckNvbnRhaW5lci53aWR0aCggb3JpZ2luYWxXaWR0aCApO1xyXG5cclxuXHRcdFx0XHRcdFx0JGl0ZW1zLmNsb25lKCkuYWRkQ2xhc3MoICctYWZ0ZXInICkuaW5zZXJ0QWZ0ZXIoICRpdGVtcy5maWx0ZXIoJzpsYXN0JykgKTtcclxuXHRcdFx0XHRcdFx0JGl0ZW1zLmZpbHRlciggJzpmaXJzdCcgKS5iZWZvcmUoICRpdGVtcy5jbG9uZSgpLmFkZENsYXNzKCctYmVmb3JlJykgKTtcclxuXHJcblx0XHRcdFx0XHQgICAgJGl0ZW1zID0gJHNsaWRlckNvbnRhaW5lci5maW5kKCBvcHRpb25zLml0ZW1zICk7XHJcblxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdCRzbGlkZXIuaXRlbXMgPSAkaXRlbXM7XHJcblx0XHRcdFx0XHQkc2xpZGVyLm9wdGlvbnMgPSBvcHRpb25zO1xyXG5cclxuXHRcdFx0XHRcdC8vIGZpcnN0IGl0ZW1cclxuXHRcdFx0XHRcdC8vJGl0ZW1zLmZpbHRlciggJzpmaXJzdCcgKS5hZGRDbGFzcyggJ2FjdGl2ZScgKTtcclxuXHJcblx0XHRcdFx0XHQvLyBhdHRhY2ggZXZlbnRzXHJcblx0XHRcdFx0XHQkc2xpZGVyLmJpbmQoICduZXh0U2xpZGUnLCBmdW5jdGlvbiggZSwgdCApe1xyXG5cclxuXHRcdFx0XHRcdFx0dmFyIHNjcm9sbCA9ICRzbGlkZXIuc2Nyb2xsTGVmdCgpO1xyXG5cdFx0XHRcdFx0XHR2YXIgeCA9IDA7XHJcblx0XHRcdFx0XHRcdHZhciBzbGlkZSA9IDA7XHJcblxyXG5cdFx0XHRcdFx0XHQkaXRlbXMuZWFjaChmdW5jdGlvbiggaSApe1xyXG5cdFx0XHRcdFx0XHRcdGlmICggeCA9PSAwICYmICQoIHRoaXMgKS5wb3NpdGlvbigpLmxlZnQgPiAxICl7XHJcblx0XHRcdFx0XHRcdFx0XHR4ID0gJCggdGhpcyApLnBvc2l0aW9uKCkubGVmdDtcclxuXHRcdFx0XHRcdFx0XHRcdHNsaWRlID0gaTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdFx0aWYgKCB4ID4gMCAmJiAkc2xpZGVyQ29udGFpbmVyLm91dGVyV2lkdGgoKSAtIHNjcm9sbCAtICRzbGlkZXIud2lkdGgoKSAtIDEgPiAwICl7XHJcblx0XHRcdFx0XHRcdFx0c2xpZGVUbyggZSwgJHNsaWRlciwgc2Nyb2xsK3gsIHNsaWRlLCAnZmFzdCcgKTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIGlmICggb3B0aW9ucy5sb29wICl7XHJcblx0XHRcdFx0XHRcdFx0Ly8gcmV0dXJuIHRvIGZpcnN0XHJcblx0XHRcdFx0XHRcdFx0c2xpZGVUbyggZSwgJHNsaWRlciwgMCwgMCwgJ3Nsb3cnICk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdCRzbGlkZXIuYmluZCggJ3ByZXZTbGlkZScsIGZ1bmN0aW9uKCBlLCB0ICl7XHJcblxyXG5cdFx0XHRcdFx0XHR2YXIgc2Nyb2xsID0gJHNsaWRlci5zY3JvbGxMZWZ0KCk7XHJcblx0XHRcdFx0XHRcdHZhciB4ID0gMDtcclxuXHRcdFx0XHRcdFx0dmFyIHNsaWRlID0gMDtcclxuXHJcblx0XHRcdFx0XHRcdCRpdGVtcy5lYWNoKGZ1bmN0aW9uKCBpICl7XHJcblx0XHRcdFx0XHRcdFx0aWYgKCAkKCB0aGlzICkucG9zaXRpb24oKS5sZWZ0IDwgMCApe1xyXG5cdFx0XHRcdFx0XHRcdFx0eCA9ICQoIHRoaXMgKS5wb3NpdGlvbigpLmxlZnQ7XHJcblx0XHRcdFx0XHRcdFx0XHRzbGlkZSA9IGk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHRcdGlmICggeCApe1xyXG5cdFx0XHRcdFx0XHRcdHNsaWRlVG8oIGUsICRzbGlkZXIsIHNjcm9sbCt4LCBzbGlkZSwgJ2Zhc3QnIClcclxuXHRcdFx0XHRcdFx0fSBlbHNlIGlmICggb3B0aW9ucy5sb29wICl7XHJcblx0XHRcdFx0XHRcdFx0Ly8gcmV0dXJuIHRvIGxhc3RcclxuXHRcdFx0XHRcdFx0XHR2YXIgYSA9ICRzbGlkZXJDb250YWluZXIub3V0ZXJXaWR0aCgpIC0gJHNsaWRlci53aWR0aCgpO1xyXG5cdFx0XHRcdFx0XHRcdHZhciBiID0gJGl0ZW1zLmZpbHRlciggJzpsYXN0JyApLnBvc2l0aW9uKCkubGVmdDtcclxuXHRcdFx0XHRcdFx0XHRzbGlkZSA9ICRpdGVtcy5zaXplKCkgLSAxO1xyXG5cdFx0XHRcdFx0XHRcdGlmICggYSA+IGIgKXtcclxuXHRcdFx0XHRcdFx0XHRcdHNsaWRlVG8oIGUsICRzbGlkZXIsIGIsIHNsaWRlLCAnZmFzdCcgKTtcclxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0c2xpZGVUbyggZSwgJHNsaWRlciwgYSwgc2xpZGUsICdmYXN0JyApO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0JHNsaWRlci5iaW5kKCAnbmV4dFBhZ2UnLCBmdW5jdGlvbiggZSwgdCApe1xyXG5cclxuXHRcdFx0XHRcdFx0dmFyIHNjcm9sbCA9ICRzbGlkZXIuc2Nyb2xsTGVmdCgpO1xyXG5cdFx0XHRcdFx0XHR2YXIgdyA9ICRzbGlkZXIud2lkdGgoKTtcclxuXHRcdFx0XHRcdFx0dmFyIHggPSAwO1xyXG5cdFx0XHRcdFx0XHR2YXIgc2xpZGUgPSAwO1xyXG5cclxuXHRcdFx0XHRcdFx0JGl0ZW1zLmVhY2goZnVuY3Rpb24oIGkgKXtcclxuXHRcdFx0XHRcdFx0XHRpZiAoICQoIHRoaXMgKS5wb3NpdGlvbigpLmxlZnQgPCB3ICl7XHJcblx0XHRcdFx0XHRcdFx0XHR4ID0gJCggdGhpcyApLnBvc2l0aW9uKCkubGVmdDtcclxuXHRcdFx0XHRcdFx0XHRcdHNsaWRlID0gaTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdFx0aWYgKCB4ID4gMCAmJiBzY3JvbGwgKyB3ICsgMSA8IG9yaWdpbmFsV2lkdGggKXtcclxuXHRcdFx0XHRcdFx0XHRzbGlkZVRvKCBlLCAkc2xpZGVyLCBzY3JvbGwreCwgc2xpZGUsICdzbG93JyApO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCBvcHRpb25zLmxvb3AgKXtcclxuXHRcdFx0XHRcdFx0XHQvLyByZXR1cm4gdG8gZmlyc3RcclxuXHRcdFx0XHRcdFx0XHRzbGlkZVRvKCBlLCAkc2xpZGVyLCAwLCAwLCAnc2xvdycgKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0JHNsaWRlci5iaW5kKCAncHJldlBhZ2UnLCBmdW5jdGlvbiggZSwgdCApe1xyXG5cclxuXHRcdFx0XHRcdFx0dmFyIHNjcm9sbCA9ICRzbGlkZXIuc2Nyb2xsTGVmdCgpO1xyXG5cdFx0XHRcdFx0XHR2YXIgdyA9ICRzbGlkZXIud2lkdGgoKTtcclxuXHRcdFx0XHRcdFx0dmFyIHggPSAwO1xyXG5cclxuXHRcdFx0XHRcdFx0JGl0ZW1zLmVhY2goZnVuY3Rpb24oIGkgKXtcclxuXHRcdFx0XHRcdFx0XHRpZiAoICQoIHRoaXMgKS5wb3NpdGlvbigpLmxlZnQgPCAxIC0gdyApe1xyXG5cdFx0XHRcdFx0XHRcdFx0eCA9ICQoIHRoaXMgKS5uZXh0KCkucG9zaXRpb24oKS5sZWZ0O1xyXG5cdFx0XHRcdFx0XHRcdFx0c2xpZGUgPSBpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAoIHNjcm9sbCApe1xyXG5cdFx0XHRcdFx0XHRcdGlmICggeCA9PSAwICl7XHJcblx0XHRcdFx0XHRcdFx0XHQvLyRzbGlkZXIuYW5pbWF0ZSh7ICdzY3JvbGxMZWZ0JyA6IDAgfSwgJ3Nsb3cnICk7XHJcblx0XHRcdFx0XHRcdFx0XHRzbGlkZVRvKCBlLCAkc2xpZGVyLCAwLCAwLCAnc2xvdycgKTtcclxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0Ly8kc2xpZGVyLmFuaW1hdGUoeyAnc2Nyb2xsTGVmdCcgOiBzY3JvbGwgKyB4IH0sICdzbG93JyApO1xyXG5cdFx0XHRcdFx0XHRcdFx0c2xpZGVUbyggZSwgJHNsaWRlciwgc2Nyb2xsK3gsIHNsaWRlLCAnc2xvdycgKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIG9wdGlvbnMubG9vcCApIHtcclxuXHRcdFx0XHRcdFx0XHQvLyByZXR1cm4gdG8gbGFzdFxyXG5cdFx0XHRcdFx0XHRcdHZhciBhID0gJHNsaWRlckNvbnRhaW5lci5vdXRlcldpZHRoKCkgLSAkc2xpZGVyLndpZHRoKCk7XHJcblx0XHRcdFx0XHRcdFx0dmFyIGIgPSAkaXRlbXMuZmlsdGVyKCAnOmxhc3QnICkucG9zaXRpb24oKS5sZWZ0O1xyXG5cdFx0XHRcdFx0XHRcdGlmICggYSA+IGIgKXtcclxuXHRcdFx0XHRcdFx0XHRcdCRzbGlkZXIuYW5pbWF0ZSh7ICdzY3JvbGxMZWZ0JyA6IGIgfSwgJ3Nsb3cnICk7XHJcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdCRzbGlkZXIuYW5pbWF0ZSh7ICdzY3JvbGxMZWZ0JyA6IGEgfSwgJ3Nsb3cnICk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHQkc2xpZGVyLmJpbmQoICdzbGlkZVRvJywgZnVuY3Rpb24oIGUsIGksIHQgKXtcclxuXHJcblx0XHRcdFx0XHRcdHNsaWRlVG8oXHJcblx0XHRcdFx0XHRcdFx0ZSwgJHNsaWRlcixcclxuXHRcdFx0XHRcdFx0XHQkc2xpZGVyLnNjcm9sbExlZnQoKSArICRpdGVtcy5maWx0ZXIoICc6ZXEoJyArIGkgKycpJyApLnBvc2l0aW9uKCkubGVmdCxcclxuXHRcdFx0XHRcdFx0XHRpLCB0ICk7XHJcblxyXG5cdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gY29udHJvbHNcclxuXHRcdFx0XHRcdCRzbGlkZXJDb250cm9scy5maW5kKCAnLm5leHQtc2xpZGUnICkuY2xpY2soZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdFx0JHNsaWRlci50cmlnZ2VyKCAnbmV4dFNsaWRlJyApO1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdCRzbGlkZXJDb250cm9scy5maW5kKCAnLnByZXYtc2xpZGUnICkuY2xpY2soZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdFx0JHNsaWRlci50cmlnZ2VyKCAncHJldlNsaWRlJyApO1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdCRzbGlkZXJDb250cm9scy5maW5kKCAnLm5leHQtcGFnZScgKS5jbGljayhmdW5jdGlvbigpe1xyXG5cdFx0XHRcdFx0XHQkc2xpZGVyLnRyaWdnZXIoICduZXh0UGFnZScgKTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHQkc2xpZGVyQ29udHJvbHMuZmluZCggJy5wcmV2LXBhZ2UnICkuY2xpY2soZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdFx0JHNsaWRlci50cmlnZ2VyKCAncHJldlBhZ2UnICk7XHJcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdC8vaWYgKCB0eXBlb2YgJHNsaWRlci5vcHRpb25zLmNyZWF0ZSA9PSAnZnVuY3Rpb24nICkgJHNsaWRlci5vcHRpb25zLmNyZWF0ZSgpO1xyXG5cclxuXHRcdFx0XHRcdCRzbGlkZXIuZGF0YSggJ3NsaWRlcicsIHtcclxuXHRcdFx0XHRcdFx0J3RhcmdldCcgIDogJHNsaWRlcixcclxuXHRcdFx0XHRcdFx0J29wdGlvbnMnIDogb3B0aW9uc1xyXG5cdFx0XHRcdFx0fSlcclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fSxcclxuXHRcdC8vXHJcbiAgICAvLyBBZGQgSXRlbVxyXG4gICAgLy9cclxuICAgIGFkZEl0ZW0gOiBmdW5jdGlvbihvcHRpb25zKXtcclxuICAgICAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCAkLmZuLmxlbW1vblNsaWRlci5kZWZhdWx0cywgb3B0aW9ucyk7XHJcblxyXG4gICAgICAgIHZhciAkc2xpZGVyID0gJCggdGhpcyApLFxyXG4gICAgICAgICAgICAkc2xpZGVyQ29udGFpbmVyID0gJHNsaWRlci5maW5kKG9wdGlvbnMuc2xpZGVyKSxcclxuICAgICAgICAgICAgJHNsaWRlckNvbnRyb2xzID0gJHNsaWRlci5uZXh0KCkuZmlsdGVyKCcuY29udHJvbHMnKSxcclxuICAgICAgICAgICAgJGl0ZW1zID0gJHNsaWRlckNvbnRhaW5lci5maW5kKCBvcHRpb25zLml0ZW1zIClcclxuXHJcbiAgICAgICAgb3B0aW9ucy5pbmZpbml0ZSA9ICRzbGlkZXIuYXR0cignZGF0YS1zbGlkZXItaW5maW5pdGUnKVxyXG5cclxuICAgICAgICBpZiAoIW9wdGlvbnMuaXRlbSkgeyByZXR1cm4gZmFsc2UgfVxyXG4gICAgICAgIG1ldGhvZHMuZGVzdHJveS5hcHBseSh0aGlzKTtcclxuICAgICAgICBpZiAob3B0aW9ucy5wcmVwZW5kKSB7XHJcbiAgICAgICAgICAgICRzbGlkZXJDb250YWluZXIucHJlcGVuZChvcHRpb25zLml0ZW0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRzbGlkZXJDb250YWluZXIuYXBwZW5kKG9wdGlvbnMuaXRlbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1ldGhvZHMuaW5pdC5hcHBseSggdGhpcywgW29wdGlvbnNdKTtcclxuICAgIH0sXHJcblx0XHQvL1xyXG5cdFx0Ly8gRGVzdHJveSBwbHVnaW5cclxuXHRcdC8vXHJcblx0XHRkZXN0cm95IDogZnVuY3Rpb24oKXtcclxuXHJcblx0XHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtcclxuXHJcblx0XHRcdFx0dmFyICRzbGlkZXIgPSAkKCB0aGlzICksXHJcblx0XHRcdFx0ICAgICRzbGlkZXJDb250cm9scyA9ICRzbGlkZXIubmV4dCgpLmZpbHRlciggJy5jb250cm9scycgKSxcclxuXHRcdFx0XHQgICAgJGl0ZW1zID0gJHNsaWRlci5maW5kKCc+ICo6Zmlyc3QgPiAqJyksXHJcblx0XHRcdFx0ICAgIGRhdGEgPSAkc2xpZGVyLmRhdGEoICdzbGlkZXInICk7XHJcblxyXG5cdFx0XHRcdCRzbGlkZXIudW5iaW5kKCAnbmV4dFNsaWRlJyApO1xyXG5cdFx0XHRcdCRzbGlkZXIudW5iaW5kKCAncHJldlNsaWRlJyApO1xyXG5cdFx0XHRcdCRzbGlkZXIudW5iaW5kKCAnbmV4dFBhZ2UnICk7XHJcblx0XHRcdFx0JHNsaWRlci51bmJpbmQoICdwcmV2UGFnZScgKTtcclxuXHRcdFx0XHQkc2xpZGVyLnVuYmluZCggJ3NsaWRlVG8nICk7XHJcblxyXG5cdFx0XHRcdCRzbGlkZXJDb250cm9scy5maW5kKCAnLm5leHQtc2xpZGUnICkudW5iaW5kKCAnY2xpY2snICk7XHJcblx0XHRcdFx0JHNsaWRlckNvbnRyb2xzLmZpbmQoICcucHJldi1zbGlkZScgKS51bmJpbmQoICdjbGljaycgKTtcclxuXHRcdFx0XHQkc2xpZGVyQ29udHJvbHMuZmluZCggJy5uZXh0LXBhZ2UnICkudW5iaW5kKCAnY2xpY2snICk7XHJcblx0XHRcdFx0JHNsaWRlckNvbnRyb2xzLmZpbmQoICcubmV4dC1wYWdlJyApLnVuYmluZCggJ2NsaWNrJyApO1xyXG5cclxuXHRcdFx0XHQkc2xpZGVyLnJlbW92ZURhdGEoICdzbGlkZXInICk7XHJcblxyXG5cdFx0XHRcdGlmICgkc2xpZGVyLmF0dHIoJ2RhdGEtc2xpZGVyLWluZmluaXRlJykpIHtcclxuICAgICAgICAgICAgJC5tZXJnZSgkaXRlbXMuZmlsdGVyKCcuLWJlZm9yZScpLCRpdGVtcy5maWx0ZXIoJy4tYWZ0ZXInKSkuZWFjaChmdW5jdGlvbihpbmRleCxpdGVtKXtcclxuICAgICAgICAgICAgICAgICQoaXRlbSkucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fVxyXG5cdFx0Ly9cclxuXHRcdC8vXHJcblx0XHQvL1xyXG5cdH1cclxuXHQvL1xyXG5cdC8vIFByaXZhdGUgZnVuY3Rpb25zXHJcblx0Ly9cclxuXHRmdW5jdGlvbiBzbGlkZVRvKCBlLCAkc2xpZGVyLCB4LCBpLCB0ICl7XHJcblxyXG5cdFx0JHNsaWRlci5pdGVtcy5maWx0ZXIoICdsaTplcSgnICsgaSArICcpJyApLmFkZENsYXNzKCAnYWN0aXZlJyApLnNpYmxpbmdzKCAnLmFjdGl2ZScgKS5yZW1vdmVDbGFzcyggJ2FjdGl2ZScgKTtcclxuXHJcblx0XHRpZiAoIHR5cGVvZiB0ID09ICd1bmRlZmluZWQnICl7XHJcblx0XHRcdHQgPSAnZmFzdCc7XHJcblx0XHR9XHJcblx0XHRpZiAoIHQgKXtcclxuXHRcdFx0JHNsaWRlci5hbmltYXRlKHsgJ3Njcm9sbExlZnQnIDogeCB9LCB0LCBmdW5jdGlvbigpe1xyXG5cdFx0XHRcdGNoZWNrSW5maW5pdGUoICRzbGlkZXIgKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR2YXIgdGltZSA9IDA7XHJcblx0XHRcdCRzbGlkZXIuc2Nyb2xsTGVmdCggeCApO1xyXG5cdFx0XHRjaGVja0luZmluaXRlKCAkc2xpZGVyICk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly9pZiAoIHR5cGVvZiAkc2xpZGVyLm9wdGlvbnMuc2xpZGUgPT0gJ2Z1bmN0aW9uJyApICRzbGlkZXIub3B0aW9ucy5zbGlkZSggZSwgaSwgdGltZSApO1xyXG5cclxuXHR9XHJcblx0ZnVuY3Rpb24gY2hlY2tJbmZpbml0ZSggJHNsaWRlciApe1xyXG5cclxuXHRcdHZhciAkYWN0aXZlID0gJHNsaWRlci5pdGVtcy5maWx0ZXIoICcuYWN0aXZlJyApO1xyXG5cdFx0aWYgKCAkYWN0aXZlLmhhc0NsYXNzKCAnLWJlZm9yZScgKSApe1xyXG5cclxuXHRcdFx0dmFyIGkgPSAkYWN0aXZlLnByZXZBbGwoKS5zaXplKCk7XHJcblx0XHRcdCRhY3RpdmUucmVtb3ZlQ2xhc3MoICdhY3RpdmUnICk7XHJcblx0XHRcdCRhY3RpdmUgPSAkc2xpZGVyLml0ZW1zLmZpbHRlciggJzpub3QoLi1iZWZvcmUpOmVxKCcgKyBpICsgJyknICkuYWRkQ2xhc3MoICdhY3RpdmUnICk7XHJcblx0XHRcdCRzbGlkZXIuc2Nyb2xsTGVmdCggJHNsaWRlci5zY3JvbGxMZWZ0KCkgKyAkYWN0aXZlLnBvc2l0aW9uKCkubGVmdCApO1xyXG5cclxuXHRcdH0gZWxzZSBpZiAoICRhY3RpdmUuaGFzQ2xhc3MoICctYWZ0ZXInICkgKXtcclxuXHJcblx0XHRcdHZhciBpID0gJGFjdGl2ZS5wcmV2QWxsKCAnLi1hZnRlcicgKS5zaXplKCk7XHJcblx0XHRcdCRhY3RpdmUucmVtb3ZlQ2xhc3MoICdhY3RpdmUnICk7XHJcblx0XHRcdCRhY3RpdmUgPSAkc2xpZGVyLml0ZW1zLmZpbHRlciggJzpub3QoLi1iZWZvcmUpOmVxKCcgKyBpICsgJyknICkuYWRkQ2xhc3MoICdhY3RpdmUnICk7XHJcblx0XHRcdCRzbGlkZXIuc2Nyb2xsTGVmdCggJHNsaWRlci5zY3JvbGxMZWZ0KCkgKyAkYWN0aXZlLnBvc2l0aW9uKCkubGVmdCApO1xyXG5cclxuXHRcdH1cclxuXHJcblx0fVxyXG5cdC8vXHJcblx0Ly8gRGVidWdcclxuXHQvL1xyXG5cdGZ1bmN0aW9uIGRlYnVnKCB0ZXh0ICl7XHJcblx0XHQkKCAnI2RlYnVnIHNwYW4nICkudGV4dCggdGV4dCApO1xyXG5cdH1cclxuXHQvL1xyXG5cdC8vXHJcblx0Ly9cclxuXHQkLmZuLmxlbW1vblNsaWRlciA9IGZ1bmN0aW9uKCBtZXRob2QgLCBvcHRpb25zICl7XHJcblx0XHRpZiAob3B0aW9ucyA9PSBudWxsKSB7IG9wdGlvbnMgPSB7fTsgfTtcclxuXHRcdGlmICggbWV0aG9kc1ttZXRob2RdICkge1xyXG5cdFx0XHRyZXR1cm4gbWV0aG9kc1sgbWV0aG9kIF0uYXBwbHkoIHRoaXMsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKCBhcmd1bWVudHMsIDEgKSk7XHJcblx0XHR9IGVsc2UgaWYgKCB0eXBlb2YgbWV0aG9kID09PSAnb2JqZWN0JyB8fCAhbWV0aG9kICl7XHJcblx0XHRcdHJldHVybiBtZXRob2RzLmluaXQuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0JC5lcnJvciggJ01ldGhvZCAnICsgIG1ldGhvZCArICcgZG9lcyBub3QgZXhpc3Qgb24galF1ZXJ5LmxlbW1vblNsaWRlcicgKTtcclxuXHRcdH1cclxuXHJcblx0fTtcclxuXHQvL1xyXG5cdC8vXHJcblx0Ly9cclxuXHQkLmZuLmxlbW1vblNsaWRlci5kZWZhdWx0cyA9IHtcclxuXHJcblx0XHQnaXRlbXMnICAgICAgIDogJz4gKicsXHJcblx0XHQnbG9vcCcgICAgICAgIDogdHJ1ZSxcclxuXHRcdCdzbGlkZVRvTGFzdCcgOiBmYWxzZSxcclxuXHRcdCdzbGlkZXInICAgICAgOiAnPiAqOmZpcnN0JyxcclxuXHRcdC8vIHNpbmNlIDAuMlxyXG5cdFx0J2luZmluaXRlJyAgICA6IGZhbHNlXHJcblxyXG5cdH1cclxuXHJcbn0pKCBqUXVlcnkgKTtcclxuIl19
