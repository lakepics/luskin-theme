"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(e){function i(e,i,n,l,o){if(i.items.filter("li:eq("+l+")").addClass("active").siblings(".active").removeClass("active"),"undefined"==typeof o&&(o="fast"),o)i.animate({scrollLeft:n},o,function(){t(i)});else{i.scrollLeft(n),t(i)}}function t(e){var i=e.items.filter(".active");if(i.hasClass("-before")){var t=i.prevAll().size();i.removeClass("active"),i=e.items.filter(":not(.-before):eq("+t+")").addClass("active"),e.scrollLeft(e.scrollLeft()+i.position().left)}else if(i.hasClass("-after")){var t=i.prevAll(".-after").size();i.removeClass("active"),i=e.items.filter(":not(.-before):eq("+t+")").addClass("active"),e.scrollLeft(e.scrollLeft()+i.position().left)}}var n={init:function(t){var t=e.extend({},e.fn.lemmonSlider.defaults,t);return this.each(function(){var n=e(this),l=n.data("slider");if(!l){var o=n.find(t.slider),r=n.next().filter(".controls"),s=o.find(t.items),f=1;s.each(function(){f+=e(this).outerWidth(!0)}),o.width(f),t.slideToLast&&o.css("padding-right",n.width()),t.infinite&&(n.attr("data-slider-infinite",!0),f=3*f,o.width(f),s.clone().addClass("-after").insertAfter(s.filter(":last")),s.filter(":first").before(s.clone().addClass("-before")),s=o.find(t.items)),n.items=s,n.options=t,n.bind("nextSlide",function(l,r){var f=n.scrollLeft(),d=0,a=0;s.each(function(i){0==d&&e(this).position().left>1&&(d=e(this).position().left,a=i)}),d>0&&o.outerWidth()-f-n.width()-1>0?i(l,n,f+d,a,"fast"):t.loop&&i(l,n,0,0,"slow")}),n.bind("prevSlide",function(l,r){var f=n.scrollLeft(),d=0,a=0;if(s.each(function(i){e(this).position().left<0&&(d=e(this).position().left,a=i)}),d)i(l,n,f+d,a,"fast");else if(t.loop){var c=o.outerWidth()-n.width(),u=s.filter(":last").position().left;a=s.size()-1,c>u?i(l,n,u,a,"fast"):i(l,n,c,a,"fast")}}),n.bind("nextPage",function(l,o){var r=n.scrollLeft(),d=n.width(),a=0,c=0;s.each(function(i){e(this).position().left<d&&(a=e(this).position().left,c=i)}),a>0&&f>r+d+1?i(l,n,r+a,c,"slow"):t.loop&&i(l,n,0,0,"slow")}),n.bind("prevPage",function(l,r){var f=n.scrollLeft(),d=n.width(),a=0;if(s.each(function(i){e(this).position().left<1-d&&(a=e(this).next().position().left,slide=i)}),f)0==a?i(l,n,0,0,"slow"):i(l,n,f+a,slide,"slow");else if(t.loop){var c=o.outerWidth()-n.width(),u=s.filter(":last").position().left;c>u?n.animate({scrollLeft:u},"slow"):n.animate({scrollLeft:c},"slow")}}),n.bind("slideTo",function(e,t,l){i(e,n,n.scrollLeft()+s.filter(":eq("+t+")").position().left,t,l)}),r.find(".next-slide").click(function(){return n.trigger("nextSlide"),!1}),r.find(".prev-slide").click(function(){return n.trigger("prevSlide"),!1}),r.find(".next-page").click(function(){return n.trigger("nextPage"),!1}),r.find(".prev-page").click(function(){return n.trigger("prevPage"),!1}),n.data("slider",{target:n,options:t})}})},addItem:function(i){var i=e.extend({},e.fn.lemmonSlider.defaults,i),t=e(this),l=t.find(i.slider);t.next().filter(".controls"),l.find(i.items);return i.infinite=t.attr("data-slider-infinite"),i.item?(n.destroy.apply(this),i.prepend?l.prepend(i.item):l.append(i.item),void n.init.apply(this,[i])):!1},destroy:function(){return this.each(function(){var i=e(this),t=i.next().filter(".controls"),n=i.find("> *:first > *");i.data("slider");i.unbind("nextSlide"),i.unbind("prevSlide"),i.unbind("nextPage"),i.unbind("prevPage"),i.unbind("slideTo"),t.find(".next-slide").unbind("click"),t.find(".prev-slide").unbind("click"),t.find(".next-page").unbind("click"),t.find(".next-page").unbind("click"),i.removeData("slider"),i.attr("data-slider-infinite")&&e.merge(n.filter(".-before"),n.filter(".-after")).each(function(i,t){e(t).remove()})})}};e.fn.lemmonSlider=function(i,t){return null==t&&(t={}),n[i]?n[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==("undefined"==typeof i?"undefined":_typeof(i))&&i?void e.error("Method "+i+" does not exist on jQuery.lemmonSlider"):n.init.apply(this,arguments)},e.fn.lemmonSlider.defaults={items:"> *",loop:!0,slideToLast:!1,slider:"> *:first",infinite:!1}}(jQuery);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYnJhcnkvcGx1Z2lucy9sZW1tb24tc2xpZGVyL2xlbW1vbi1zbGlkZXIuanMiXSwibmFtZXMiOlsiX3R5cGVvZiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwib2JqIiwiY29uc3RydWN0b3IiLCIkIiwic2xpZGVUbyIsImUiLCIkc2xpZGVyIiwieCIsImkiLCJ0IiwiaXRlbXMiLCJmaWx0ZXIiLCJhZGRDbGFzcyIsInNpYmxpbmdzIiwicmVtb3ZlQ2xhc3MiLCJhbmltYXRlIiwic2Nyb2xsTGVmdCIsImNoZWNrSW5maW5pdGUiLCIkYWN0aXZlIiwiaGFzQ2xhc3MiLCJwcmV2QWxsIiwic2l6ZSIsInBvc2l0aW9uIiwibGVmdCIsIm1ldGhvZHMiLCJpbml0Iiwib3B0aW9ucyIsImV4dGVuZCIsImZuIiwibGVtbW9uU2xpZGVyIiwiZGVmYXVsdHMiLCJ0aGlzIiwiZWFjaCIsImRhdGEiLCIkc2xpZGVyQ29udGFpbmVyIiwiZmluZCIsInNsaWRlciIsIiRzbGlkZXJDb250cm9scyIsIm5leHQiLCIkaXRlbXMiLCJvcmlnaW5hbFdpZHRoIiwib3V0ZXJXaWR0aCIsIndpZHRoIiwic2xpZGVUb0xhc3QiLCJjc3MiLCJpbmZpbml0ZSIsImF0dHIiLCJjbG9uZSIsImluc2VydEFmdGVyIiwiYmVmb3JlIiwiYmluZCIsInNjcm9sbCIsInNsaWRlIiwibG9vcCIsImEiLCJiIiwidyIsImNsaWNrIiwidHJpZ2dlciIsInRhcmdldCIsImFkZEl0ZW0iLCJpdGVtIiwiZGVzdHJveSIsImFwcGx5IiwicHJlcGVuZCIsImFwcGVuZCIsInVuYmluZCIsInJlbW92ZURhdGEiLCJtZXJnZSIsImluZGV4IiwicmVtb3ZlIiwibWV0aG9kIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJzbGljZSIsImNhbGwiLCJhcmd1bWVudHMiLCJlcnJvciIsImpRdWVyeSJdLCJtYXBwaW5ncyI6IkFBQUEsWUFFQSxJQUFJQSxTQUE0QixrQkFBWEMsU0FBb0QsZ0JBQXBCQSxRQUFPQyxTQUF3QixTQUFV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LE1BQU1DLEtBQU1DLFVBQVcsSUFDaEQsWUFBWCxtQkFBQUwsR0FBQSxZQUFBekUsUUFBQXlFLEtBQXdCQSxNQUcxQ3BFLEdBQUUwRSxNQUFPLFVBQWFOLEVBQVMsMENBRnhCL0MsRUFBUUMsS0FBS3NDLE1BQU9oQyxLQUFNNkMsWUF0VHRCekUsRUErVFh5QixHQUFHQyxhQUFhQyxVQUVqQnBCLE1BQWdCLE1BQ2hCMkMsTUFBZ0IsRUFDaEJWLGFBQWdCLEVBQ2hCUCxPQUFnQixZQUVoQlMsVUFBZ0IsSUFJZGlDIiwiZmlsZSI6ImxpYnJhcnkvcGx1Z2lucy9sZW1tb24tc2xpZGVyL2xlbW1vbi1zbGlkZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogTGVtbW9uIFNsaWRlciAtIGpRdWVyeSBQbHVnaW5cbiAqIFNpbXBsZSBhbmQgbGlnaHR3ZWlnaHQgc2xpZGVyL2Nhcm91c2VsIHN1cHBvcnRpbmcgdmFyaWFibGUgZWxlbWVudHMvaW1hZ2VzIHdpZHRocy5cbiAqXG4gKiBFeGFtcGxlcyBhbmQgZG9jdW1lbnRhdGlvbiBhdDogaHR0cDovL2pxdWVyeS5sZW1tb25qdWljZS5jb20vcGx1Z2lucy9zbGlkZXItdmFyaWFibGUtd2lkdGhzLnBocFxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxMSBKYWt1YiBQZWzDoWsgPGpwZWxha0BnbWFpbC5jb20+XG4gKlxuICogVmVyc2lvbjogMC4yICg5LzYvMjAxMSlcbiAqIFJlcXVpcmVzOiBqUXVlcnkgdjEuNCtcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2U6XG4gKiAgIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gKi9cbihmdW5jdGlvbiggJCApe1xuXG5cdHZhciBfY3NzID0ge307XG5cblx0dmFyIG1ldGhvZHMgPSB7XG5cdFx0Ly9cblx0XHQvLyBJbml0aWFsemllIHBsdWdpblxuXHRcdC8vXG5cdFx0aW5pdCA6IGZ1bmN0aW9uKG9wdGlvbnMpe1xuXG5cdFx0XHR2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCAkLmZuLmxlbW1vblNsaWRlci5kZWZhdWx0cywgb3B0aW9ucyk7XG5cblx0XHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtcblxuXHRcdFx0XHR2YXIgJHNsaWRlciA9ICQoIHRoaXMgKSxcblx0XHRcdFx0ICAgIGRhdGEgPSAkc2xpZGVyLmRhdGEoICdzbGlkZXInICk7XG5cblx0XHRcdFx0aWYgKCAhIGRhdGEgKXtcblxuXHRcdFx0XHRcdHZhciAkc2xpZGVyQ29udGFpbmVyID0gJHNsaWRlci5maW5kKG9wdGlvbnMuc2xpZGVyKSxcblx0XHRcdFx0XHQgICAgJHNsaWRlckNvbnRyb2xzID0gJHNsaWRlci5uZXh0KCkuZmlsdGVyKCcuY29udHJvbHMnKSxcblx0XHRcdFx0XHQgICAgJGl0ZW1zID0gJHNsaWRlckNvbnRhaW5lci5maW5kKCBvcHRpb25zLml0ZW1zICksXG5cdFx0XHRcdFx0ICAgIG9yaWdpbmFsV2lkdGggPSAxO1xuXG5cdFx0XHRcdFx0JGl0ZW1zLmVhY2goZnVuY3Rpb24oKXsgb3JpZ2luYWxXaWR0aCArPSAkKHRoaXMpLm91dGVyV2lkdGgodHJ1ZSkgfSk7XG5cdFx0XHRcdFx0JHNsaWRlckNvbnRhaW5lci53aWR0aCggb3JpZ2luYWxXaWR0aCApO1xuXG5cdFx0XHRcdFx0Ly8gc2xpZGUgdG8gbGFzdCBpdGVtXG5cdFx0XHRcdFx0aWYgKCBvcHRpb25zLnNsaWRlVG9MYXN0ICkgJHNsaWRlckNvbnRhaW5lci5jc3MoICdwYWRkaW5nLXJpZ2h0JywgJHNsaWRlci53aWR0aCgpICk7XG5cblx0XHRcdFx0XHQvLyBpbmZpbml0ZSBjYXJvdXNlbFxuXHRcdFx0XHRcdGlmICggb3B0aW9ucy5pbmZpbml0ZSApe1xuXHRcdFx0XHRcdFx0JHNsaWRlci5hdHRyKCdkYXRhLXNsaWRlci1pbmZpbml0ZScsdHJ1ZSlcblxuXHRcdFx0XHRcdFx0b3JpZ2luYWxXaWR0aCA9IG9yaWdpbmFsV2lkdGggKiAzO1xuXHRcdFx0XHRcdFx0JHNsaWRlckNvbnRhaW5lci53aWR0aCggb3JpZ2luYWxXaWR0aCApO1xuXG5cdFx0XHRcdFx0XHQkaXRlbXMuY2xvbmUoKS5hZGRDbGFzcyggJy1hZnRlcicgKS5pbnNlcnRBZnRlciggJGl0ZW1zLmZpbHRlcignOmxhc3QnKSApO1xuXHRcdFx0XHRcdFx0JGl0ZW1zLmZpbHRlciggJzpmaXJzdCcgKS5iZWZvcmUoICRpdGVtcy5jbG9uZSgpLmFkZENsYXNzKCctYmVmb3JlJykgKTtcblxuXHRcdFx0XHRcdCAgICAkaXRlbXMgPSAkc2xpZGVyQ29udGFpbmVyLmZpbmQoIG9wdGlvbnMuaXRlbXMgKTtcblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdCRzbGlkZXIuaXRlbXMgPSAkaXRlbXM7XG5cdFx0XHRcdFx0JHNsaWRlci5vcHRpb25zID0gb3B0aW9ucztcblxuXHRcdFx0XHRcdC8vIGZpcnN0IGl0ZW1cblx0XHRcdFx0XHQvLyRpdGVtcy5maWx0ZXIoICc6Zmlyc3QnICkuYWRkQ2xhc3MoICdhY3RpdmUnICk7XG5cblx0XHRcdFx0XHQvLyBhdHRhY2ggZXZlbnRzXG5cdFx0XHRcdFx0JHNsaWRlci5iaW5kKCAnbmV4dFNsaWRlJywgZnVuY3Rpb24oIGUsIHQgKXtcblxuXHRcdFx0XHRcdFx0dmFyIHNjcm9sbCA9ICRzbGlkZXIuc2Nyb2xsTGVmdCgpO1xuXHRcdFx0XHRcdFx0dmFyIHggPSAwO1xuXHRcdFx0XHRcdFx0dmFyIHNsaWRlID0gMDtcblxuXHRcdFx0XHRcdFx0JGl0ZW1zLmVhY2goZnVuY3Rpb24oIGkgKXtcblx0XHRcdFx0XHRcdFx0aWYgKCB4ID09IDAgJiYgJCggdGhpcyApLnBvc2l0aW9uKCkubGVmdCA+IDEgKXtcblx0XHRcdFx0XHRcdFx0XHR4ID0gJCggdGhpcyApLnBvc2l0aW9uKCkubGVmdDtcblx0XHRcdFx0XHRcdFx0XHRzbGlkZSA9IGk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHRpZiAoIHggPiAwICYmICRzbGlkZXJDb250YWluZXIub3V0ZXJXaWR0aCgpIC0gc2Nyb2xsIC0gJHNsaWRlci53aWR0aCgpIC0gMSA+IDAgKXtcblx0XHRcdFx0XHRcdFx0c2xpZGVUbyggZSwgJHNsaWRlciwgc2Nyb2xsK3gsIHNsaWRlLCAnZmFzdCcgKTtcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIG9wdGlvbnMubG9vcCApe1xuXHRcdFx0XHRcdFx0XHQvLyByZXR1cm4gdG8gZmlyc3Rcblx0XHRcdFx0XHRcdFx0c2xpZGVUbyggZSwgJHNsaWRlciwgMCwgMCwgJ3Nsb3cnICk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHQkc2xpZGVyLmJpbmQoICdwcmV2U2xpZGUnLCBmdW5jdGlvbiggZSwgdCApe1xuXG5cdFx0XHRcdFx0XHR2YXIgc2Nyb2xsID0gJHNsaWRlci5zY3JvbGxMZWZ0KCk7XG5cdFx0XHRcdFx0XHR2YXIgeCA9IDA7XG5cdFx0XHRcdFx0XHR2YXIgc2xpZGUgPSAwO1xuXG5cdFx0XHRcdFx0XHQkaXRlbXMuZWFjaChmdW5jdGlvbiggaSApe1xuXHRcdFx0XHRcdFx0XHRpZiAoICQoIHRoaXMgKS5wb3NpdGlvbigpLmxlZnQgPCAwICl7XG5cdFx0XHRcdFx0XHRcdFx0eCA9ICQoIHRoaXMgKS5wb3NpdGlvbigpLmxlZnQ7XG5cdFx0XHRcdFx0XHRcdFx0c2xpZGUgPSBpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0aWYgKCB4ICl7XG5cdFx0XHRcdFx0XHRcdHNsaWRlVG8oIGUsICRzbGlkZXIsIHNjcm9sbCt4LCBzbGlkZSwgJ2Zhc3QnIClcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIG9wdGlvbnMubG9vcCApe1xuXHRcdFx0XHRcdFx0XHQvLyByZXR1cm4gdG8gbGFzdFxuXHRcdFx0XHRcdFx0XHR2YXIgYSA9ICRzbGlkZXJDb250YWluZXIub3V0ZXJXaWR0aCgpIC0gJHNsaWRlci53aWR0aCgpO1xuXHRcdFx0XHRcdFx0XHR2YXIgYiA9ICRpdGVtcy5maWx0ZXIoICc6bGFzdCcgKS5wb3NpdGlvbigpLmxlZnQ7XG5cdFx0XHRcdFx0XHRcdHNsaWRlID0gJGl0ZW1zLnNpemUoKSAtIDE7XG5cdFx0XHRcdFx0XHRcdGlmICggYSA+IGIgKXtcblx0XHRcdFx0XHRcdFx0XHRzbGlkZVRvKCBlLCAkc2xpZGVyLCBiLCBzbGlkZSwgJ2Zhc3QnICk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0c2xpZGVUbyggZSwgJHNsaWRlciwgYSwgc2xpZGUsICdmYXN0JyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHQkc2xpZGVyLmJpbmQoICduZXh0UGFnZScsIGZ1bmN0aW9uKCBlLCB0ICl7XG5cblx0XHRcdFx0XHRcdHZhciBzY3JvbGwgPSAkc2xpZGVyLnNjcm9sbExlZnQoKTtcblx0XHRcdFx0XHRcdHZhciB3ID0gJHNsaWRlci53aWR0aCgpO1xuXHRcdFx0XHRcdFx0dmFyIHggPSAwO1xuXHRcdFx0XHRcdFx0dmFyIHNsaWRlID0gMDtcblxuXHRcdFx0XHRcdFx0JGl0ZW1zLmVhY2goZnVuY3Rpb24oIGkgKXtcblx0XHRcdFx0XHRcdFx0aWYgKCAkKCB0aGlzICkucG9zaXRpb24oKS5sZWZ0IDwgdyApe1xuXHRcdFx0XHRcdFx0XHRcdHggPSAkKCB0aGlzICkucG9zaXRpb24oKS5sZWZ0O1xuXHRcdFx0XHRcdFx0XHRcdHNsaWRlID0gaTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdGlmICggeCA+IDAgJiYgc2Nyb2xsICsgdyArIDEgPCBvcmlnaW5hbFdpZHRoICl7XG5cdFx0XHRcdFx0XHRcdHNsaWRlVG8oIGUsICRzbGlkZXIsIHNjcm9sbCt4LCBzbGlkZSwgJ3Nsb3cnICk7XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCBvcHRpb25zLmxvb3AgKXtcblx0XHRcdFx0XHRcdFx0Ly8gcmV0dXJuIHRvIGZpcnN0XG5cdFx0XHRcdFx0XHRcdHNsaWRlVG8oIGUsICRzbGlkZXIsIDAsIDAsICdzbG93JyApO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0JHNsaWRlci5iaW5kKCAncHJldlBhZ2UnLCBmdW5jdGlvbiggZSwgdCApe1xuXG5cdFx0XHRcdFx0XHR2YXIgc2Nyb2xsID0gJHNsaWRlci5zY3JvbGxMZWZ0KCk7XG5cdFx0XHRcdFx0XHR2YXIgdyA9ICRzbGlkZXIud2lkdGgoKTtcblx0XHRcdFx0XHRcdHZhciB4ID0gMDtcblxuXHRcdFx0XHRcdFx0JGl0ZW1zLmVhY2goZnVuY3Rpb24oIGkgKXtcblx0XHRcdFx0XHRcdFx0aWYgKCAkKCB0aGlzICkucG9zaXRpb24oKS5sZWZ0IDwgMSAtIHcgKXtcblx0XHRcdFx0XHRcdFx0XHR4ID0gJCggdGhpcyApLm5leHQoKS5wb3NpdGlvbigpLmxlZnQ7XG5cdFx0XHRcdFx0XHRcdFx0c2xpZGUgPSBpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0aWYgKCBzY3JvbGwgKXtcblx0XHRcdFx0XHRcdFx0aWYgKCB4ID09IDAgKXtcblx0XHRcdFx0XHRcdFx0XHQvLyRzbGlkZXIuYW5pbWF0ZSh7ICdzY3JvbGxMZWZ0JyA6IDAgfSwgJ3Nsb3cnICk7XG5cdFx0XHRcdFx0XHRcdFx0c2xpZGVUbyggZSwgJHNsaWRlciwgMCwgMCwgJ3Nsb3cnICk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8kc2xpZGVyLmFuaW1hdGUoeyAnc2Nyb2xsTGVmdCcgOiBzY3JvbGwgKyB4IH0sICdzbG93JyApO1xuXHRcdFx0XHRcdFx0XHRcdHNsaWRlVG8oIGUsICRzbGlkZXIsIHNjcm9sbCt4LCBzbGlkZSwgJ3Nsb3cnICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIG9wdGlvbnMubG9vcCApIHtcblx0XHRcdFx0XHRcdFx0Ly8gcmV0dXJuIHRvIGxhc3Rcblx0XHRcdFx0XHRcdFx0dmFyIGEgPSAkc2xpZGVyQ29udGFpbmVyLm91dGVyV2lkdGgoKSAtICRzbGlkZXIud2lkdGgoKTtcblx0XHRcdFx0XHRcdFx0dmFyIGIgPSAkaXRlbXMuZmlsdGVyKCAnOmxhc3QnICkucG9zaXRpb24oKS5sZWZ0O1xuXHRcdFx0XHRcdFx0XHRpZiAoIGEgPiBiICl7XG5cdFx0XHRcdFx0XHRcdFx0JHNsaWRlci5hbmltYXRlKHsgJ3Njcm9sbExlZnQnIDogYiB9LCAnc2xvdycgKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHQkc2xpZGVyLmFuaW1hdGUoeyAnc2Nyb2xsTGVmdCcgOiBhIH0sICdzbG93JyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHQkc2xpZGVyLmJpbmQoICdzbGlkZVRvJywgZnVuY3Rpb24oIGUsIGksIHQgKXtcblxuXHRcdFx0XHRcdFx0c2xpZGVUbyhcblx0XHRcdFx0XHRcdFx0ZSwgJHNsaWRlcixcblx0XHRcdFx0XHRcdFx0JHNsaWRlci5zY3JvbGxMZWZ0KCkgKyAkaXRlbXMuZmlsdGVyKCAnOmVxKCcgKyBpICsnKScgKS5wb3NpdGlvbigpLmxlZnQsXG5cdFx0XHRcdFx0XHRcdGksIHQgKTtcblxuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0Ly8gY29udHJvbHNcblx0XHRcdFx0XHQkc2xpZGVyQ29udHJvbHMuZmluZCggJy5uZXh0LXNsaWRlJyApLmNsaWNrKGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0XHQkc2xpZGVyLnRyaWdnZXIoICduZXh0U2xpZGUnICk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0JHNsaWRlckNvbnRyb2xzLmZpbmQoICcucHJldi1zbGlkZScgKS5jbGljayhmdW5jdGlvbigpe1xuXHRcdFx0XHRcdFx0JHNsaWRlci50cmlnZ2VyKCAncHJldlNsaWRlJyApO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdCRzbGlkZXJDb250cm9scy5maW5kKCAnLm5leHQtcGFnZScgKS5jbGljayhmdW5jdGlvbigpe1xuXHRcdFx0XHRcdFx0JHNsaWRlci50cmlnZ2VyKCAnbmV4dFBhZ2UnICk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0JHNsaWRlckNvbnRyb2xzLmZpbmQoICcucHJldi1wYWdlJyApLmNsaWNrKGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0XHQkc2xpZGVyLnRyaWdnZXIoICdwcmV2UGFnZScgKTtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdC8vaWYgKCB0eXBlb2YgJHNsaWRlci5vcHRpb25zLmNyZWF0ZSA9PSAnZnVuY3Rpb24nICkgJHNsaWRlci5vcHRpb25zLmNyZWF0ZSgpO1xuXG5cdFx0XHRcdFx0JHNsaWRlci5kYXRhKCAnc2xpZGVyJywge1xuXHRcdFx0XHRcdFx0J3RhcmdldCcgIDogJHNsaWRlcixcblx0XHRcdFx0XHRcdCdvcHRpb25zJyA6IG9wdGlvbnNcblx0XHRcdFx0XHR9KVxuXG5cdFx0XHRcdH1cblxuXHRcdFx0fSk7XG5cblx0XHR9LFxuXHRcdC8vXG4gICAgLy8gQWRkIEl0ZW1cbiAgICAvL1xuICAgIGFkZEl0ZW0gOiBmdW5jdGlvbihvcHRpb25zKXtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgJC5mbi5sZW1tb25TbGlkZXIuZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgICAgIHZhciAkc2xpZGVyID0gJCggdGhpcyApLFxuICAgICAgICAgICAgJHNsaWRlckNvbnRhaW5lciA9ICRzbGlkZXIuZmluZChvcHRpb25zLnNsaWRlciksXG4gICAgICAgICAgICAkc2xpZGVyQ29udHJvbHMgPSAkc2xpZGVyLm5leHQoKS5maWx0ZXIoJy5jb250cm9scycpLFxuICAgICAgICAgICAgJGl0ZW1zID0gJHNsaWRlckNvbnRhaW5lci5maW5kKCBvcHRpb25zLml0ZW1zIClcblxuICAgICAgICBvcHRpb25zLmluZmluaXRlID0gJHNsaWRlci5hdHRyKCdkYXRhLXNsaWRlci1pbmZpbml0ZScpXG5cbiAgICAgICAgaWYgKCFvcHRpb25zLml0ZW0pIHsgcmV0dXJuIGZhbHNlIH1cbiAgICAgICAgbWV0aG9kcy5kZXN0cm95LmFwcGx5KHRoaXMpO1xuICAgICAgICBpZiAob3B0aW9ucy5wcmVwZW5kKSB7XG4gICAgICAgICAgICAkc2xpZGVyQ29udGFpbmVyLnByZXBlbmQob3B0aW9ucy5pdGVtKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICRzbGlkZXJDb250YWluZXIuYXBwZW5kKG9wdGlvbnMuaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgbWV0aG9kcy5pbml0LmFwcGx5KCB0aGlzLCBbb3B0aW9uc10pO1xuICAgIH0sXG5cdFx0Ly9cblx0XHQvLyBEZXN0cm95IHBsdWdpblxuXHRcdC8vXG5cdFx0ZGVzdHJveSA6IGZ1bmN0aW9uKCl7XG5cblx0XHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtcblxuXHRcdFx0XHR2YXIgJHNsaWRlciA9ICQoIHRoaXMgKSxcblx0XHRcdFx0ICAgICRzbGlkZXJDb250cm9scyA9ICRzbGlkZXIubmV4dCgpLmZpbHRlciggJy5jb250cm9scycgKSxcblx0XHRcdFx0ICAgICRpdGVtcyA9ICRzbGlkZXIuZmluZCgnPiAqOmZpcnN0ID4gKicpLFxuXHRcdFx0XHQgICAgZGF0YSA9ICRzbGlkZXIuZGF0YSggJ3NsaWRlcicgKTtcblxuXHRcdFx0XHQkc2xpZGVyLnVuYmluZCggJ25leHRTbGlkZScgKTtcblx0XHRcdFx0JHNsaWRlci51bmJpbmQoICdwcmV2U2xpZGUnICk7XG5cdFx0XHRcdCRzbGlkZXIudW5iaW5kKCAnbmV4dFBhZ2UnICk7XG5cdFx0XHRcdCRzbGlkZXIudW5iaW5kKCAncHJldlBhZ2UnICk7XG5cdFx0XHRcdCRzbGlkZXIudW5iaW5kKCAnc2xpZGVUbycgKTtcblxuXHRcdFx0XHQkc2xpZGVyQ29udHJvbHMuZmluZCggJy5uZXh0LXNsaWRlJyApLnVuYmluZCggJ2NsaWNrJyApO1xuXHRcdFx0XHQkc2xpZGVyQ29udHJvbHMuZmluZCggJy5wcmV2LXNsaWRlJyApLnVuYmluZCggJ2NsaWNrJyApO1xuXHRcdFx0XHQkc2xpZGVyQ29udHJvbHMuZmluZCggJy5uZXh0LXBhZ2UnICkudW5iaW5kKCAnY2xpY2snICk7XG5cdFx0XHRcdCRzbGlkZXJDb250cm9scy5maW5kKCAnLm5leHQtcGFnZScgKS51bmJpbmQoICdjbGljaycgKTtcblxuXHRcdFx0XHQkc2xpZGVyLnJlbW92ZURhdGEoICdzbGlkZXInICk7XG5cblx0XHRcdFx0aWYgKCRzbGlkZXIuYXR0cignZGF0YS1zbGlkZXItaW5maW5pdGUnKSkge1xuICAgICAgICAgICAgJC5tZXJnZSgkaXRlbXMuZmlsdGVyKCcuLWJlZm9yZScpLCRpdGVtcy5maWx0ZXIoJy4tYWZ0ZXInKSkuZWFjaChmdW5jdGlvbihpbmRleCxpdGVtKXtcbiAgICAgICAgICAgICAgICAkKGl0ZW0pLnJlbW92ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblx0XHRcdH0pO1xuXG5cdFx0fVxuXHRcdC8vXG5cdFx0Ly9cblx0XHQvL1xuXHR9XG5cdC8vXG5cdC8vIFByaXZhdGUgZnVuY3Rpb25zXG5cdC8vXG5cdGZ1bmN0aW9uIHNsaWRlVG8oIGUsICRzbGlkZXIsIHgsIGksIHQgKXtcblxuXHRcdCRzbGlkZXIuaXRlbXMuZmlsdGVyKCAnbGk6ZXEoJyArIGkgKyAnKScgKS5hZGRDbGFzcyggJ2FjdGl2ZScgKS5zaWJsaW5ncyggJy5hY3RpdmUnICkucmVtb3ZlQ2xhc3MoICdhY3RpdmUnICk7XG5cblx0XHRpZiAoIHR5cGVvZiB0ID09ICd1bmRlZmluZWQnICl7XG5cdFx0XHR0ID0gJ2Zhc3QnO1xuXHRcdH1cblx0XHRpZiAoIHQgKXtcblx0XHRcdCRzbGlkZXIuYW5pbWF0ZSh7ICdzY3JvbGxMZWZ0JyA6IHggfSwgdCwgZnVuY3Rpb24oKXtcblx0XHRcdFx0Y2hlY2tJbmZpbml0ZSggJHNsaWRlciApO1xuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciB0aW1lID0gMDtcblx0XHRcdCRzbGlkZXIuc2Nyb2xsTGVmdCggeCApO1xuXHRcdFx0Y2hlY2tJbmZpbml0ZSggJHNsaWRlciApO1xuXHRcdH1cblxuXHRcdC8vaWYgKCB0eXBlb2YgJHNsaWRlci5vcHRpb25zLnNsaWRlID09ICdmdW5jdGlvbicgKSAkc2xpZGVyLm9wdGlvbnMuc2xpZGUoIGUsIGksIHRpbWUgKTtcblxuXHR9XG5cdGZ1bmN0aW9uIGNoZWNrSW5maW5pdGUoICRzbGlkZXIgKXtcblxuXHRcdHZhciAkYWN0aXZlID0gJHNsaWRlci5pdGVtcy5maWx0ZXIoICcuYWN0aXZlJyApO1xuXHRcdGlmICggJGFjdGl2ZS5oYXNDbGFzcyggJy1iZWZvcmUnICkgKXtcblxuXHRcdFx0dmFyIGkgPSAkYWN0aXZlLnByZXZBbGwoKS5zaXplKCk7XG5cdFx0XHQkYWN0aXZlLnJlbW92ZUNsYXNzKCAnYWN0aXZlJyApO1xuXHRcdFx0JGFjdGl2ZSA9ICRzbGlkZXIuaXRlbXMuZmlsdGVyKCAnOm5vdCguLWJlZm9yZSk6ZXEoJyArIGkgKyAnKScgKS5hZGRDbGFzcyggJ2FjdGl2ZScgKTtcblx0XHRcdCRzbGlkZXIuc2Nyb2xsTGVmdCggJHNsaWRlci5zY3JvbGxMZWZ0KCkgKyAkYWN0aXZlLnBvc2l0aW9uKCkubGVmdCApO1xuXG5cdFx0fSBlbHNlIGlmICggJGFjdGl2ZS5oYXNDbGFzcyggJy1hZnRlcicgKSApe1xuXG5cdFx0XHR2YXIgaSA9ICRhY3RpdmUucHJldkFsbCggJy4tYWZ0ZXInICkuc2l6ZSgpO1xuXHRcdFx0JGFjdGl2ZS5yZW1vdmVDbGFzcyggJ2FjdGl2ZScgKTtcblx0XHRcdCRhY3RpdmUgPSAkc2xpZGVyLml0ZW1zLmZpbHRlciggJzpub3QoLi1iZWZvcmUpOmVxKCcgKyBpICsgJyknICkuYWRkQ2xhc3MoICdhY3RpdmUnICk7XG5cdFx0XHQkc2xpZGVyLnNjcm9sbExlZnQoICRzbGlkZXIuc2Nyb2xsTGVmdCgpICsgJGFjdGl2ZS5wb3NpdGlvbigpLmxlZnQgKTtcblxuXHRcdH1cblxuXHR9XG5cdC8vXG5cdC8vIERlYnVnXG5cdC8vXG5cdGZ1bmN0aW9uIGRlYnVnKCB0ZXh0ICl7XG5cdFx0JCggJyNkZWJ1ZyBzcGFuJyApLnRleHQoIHRleHQgKTtcblx0fVxuXHQvL1xuXHQvL1xuXHQvL1xuXHQkLmZuLmxlbW1vblNsaWRlciA9IGZ1bmN0aW9uKCBtZXRob2QgLCBvcHRpb25zICl7XG5cdFx0aWYgKG9wdGlvbnMgPT0gbnVsbCkgeyBvcHRpb25zID0ge307IH07XG5cdFx0aWYgKCBtZXRob2RzW21ldGhvZF0gKSB7XG5cdFx0XHRyZXR1cm4gbWV0aG9kc1sgbWV0aG9kIF0uYXBwbHkoIHRoaXMsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKCBhcmd1bWVudHMsIDEgKSk7XG5cdFx0fSBlbHNlIGlmICggdHlwZW9mIG1ldGhvZCA9PT0gJ29iamVjdCcgfHwgIW1ldGhvZCApe1xuXHRcdFx0cmV0dXJuIG1ldGhvZHMuaW5pdC5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdCQuZXJyb3IoICdNZXRob2QgJyArICBtZXRob2QgKyAnIGRvZXMgbm90IGV4aXN0IG9uIGpRdWVyeS5sZW1tb25TbGlkZXInICk7XG5cdFx0fVxuXG5cdH07XG5cdC8vXG5cdC8vXG5cdC8vXG5cdCQuZm4ubGVtbW9uU2xpZGVyLmRlZmF1bHRzID0ge1xuXG5cdFx0J2l0ZW1zJyAgICAgICA6ICc+IConLFxuXHRcdCdsb29wJyAgICAgICAgOiB0cnVlLFxuXHRcdCdzbGlkZVRvTGFzdCcgOiBmYWxzZSxcblx0XHQnc2xpZGVyJyAgICAgIDogJz4gKjpmaXJzdCcsXG5cdFx0Ly8gc2luY2UgMC4yXG5cdFx0J2luZmluaXRlJyAgICA6IGZhbHNlXG5cblx0fVxuXG59KSggalF1ZXJ5ICk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
