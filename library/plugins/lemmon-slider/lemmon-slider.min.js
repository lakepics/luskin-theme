"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){function t(e,t,n,l,o){if(t.items.filter("li:eq("+l+")").addClass("active").siblings(".active").removeClass("active"),"undefined"==typeof o&&(o="fast"),o)t.animate({scrollLeft:n},o,function(){i(t)});else{t.scrollLeft(n),i(t)}}function i(e){var t=e.items.filter(".active");if(t.hasClass("-before")){var i=t.prevAll().size();t.removeClass("active"),t=e.items.filter(":not(.-before):eq("+i+")").addClass("active"),e.scrollLeft(e.scrollLeft()+t.position().left)}else if(t.hasClass("-after")){var i=t.prevAll(".-after").size();t.removeClass("active"),t=e.items.filter(":not(.-before):eq("+i+")").addClass("active"),e.scrollLeft(e.scrollLeft()+t.position().left)}}var n={init:function(i){var i=e.extend({},e.fn.lemmonSlider.defaults,i);return this.each(function(){var n=e(this),l=n.data("slider");if(!l){var o=n.find(i.slider),r=n.next().filter(".controls"),s=o.find(i.items),f=1;s.each(function(){f+=e(this).outerWidth(!0)}),o.width(f),i.slideToLast&&o.css("padding-right",n.width()),i.infinite&&(n.attr("data-slider-infinite",!0),f=3*f,o.width(f),s.clone().addClass("-after").insertAfter(s.filter(":last")),s.filter(":first").before(s.clone().addClass("-before")),s=o.find(i.items)),n.items=s,n.options=i,n.bind("nextSlide",function(l,r){var f=n.scrollLeft(),d=0,a=0;s.each(function(t){0==d&&e(this).position().left>1&&(d=e(this).position().left,a=t)}),d>0&&o.outerWidth()-f-n.width()-1>0?t(l,n,f+d,a,"fast"):i.loop&&t(l,n,0,0,"slow")}),n.bind("prevSlide",function(l,r){var f=n.scrollLeft(),d=0,a=0;if(s.each(function(t){e(this).position().left<0&&(d=e(this).position().left,a=t)}),d)t(l,n,f+d,a,"fast");else if(i.loop){var c=o.outerWidth()-n.width(),p=s.filter(":last").position().left;a=s.size()-1,c>p?t(l,n,p,a,"fast"):t(l,n,c,a,"fast")}}),n.bind("nextPage",function(l,o){var r=n.scrollLeft(),d=n.width(),a=0,c=0;s.each(function(t){e(this).position().left<d&&(a=e(this).position().left,c=t)}),a>0&&r+d+1<f?t(l,n,r+a,c,"slow"):i.loop&&t(l,n,0,0,"slow")}),n.bind("prevPage",function(l,r){var f=n.scrollLeft(),d=n.width(),a=0;if(s.each(function(t){e(this).position().left<1-d&&(a=e(this).next().position().left,slide=t)}),f)0==a?t(l,n,0,0,"slow"):t(l,n,f+a,slide,"slow");else if(i.loop){var c=o.outerWidth()-n.width(),p=s.filter(":last").position().left;c>p?n.animate({scrollLeft:p},"slow"):n.animate({scrollLeft:c},"slow")}}),n.bind("slideTo",function(e,i,l){t(e,n,n.scrollLeft()+s.filter(":eq("+i+")").position().left,i,l)}),r.find(".next-slide").click(function(){return n.trigger("nextSlide"),!1}),r.find(".prev-slide").click(function(){return n.trigger("prevSlide"),!1}),r.find(".next-page").click(function(){return n.trigger("nextPage"),!1}),r.find(".prev-page").click(function(){return n.trigger("prevPage"),!1}),n.data("slider",{target:n,options:i})}})},addItem:function(t){var t=e.extend({},e.fn.lemmonSlider.defaults,t),i=e(this),l=i.find(t.slider);i.next().filter(".controls"),l.find(t.items);return t.infinite=i.attr("data-slider-infinite"),!!t.item&&(n.destroy.apply(this),t.prepend?l.prepend(t.item):l.append(t.item),void n.init.apply(this,[t]))},destroy:function(){return this.each(function(){var t=e(this),i=t.next().filter(".controls"),n=t.find("> *:first > *");t.data("slider");t.unbind("nextSlide"),t.unbind("prevSlide"),t.unbind("nextPage"),t.unbind("prevPage"),t.unbind("slideTo"),i.find(".next-slide").unbind("click"),i.find(".prev-slide").unbind("click"),i.find(".next-page").unbind("click"),i.find(".next-page").unbind("click"),t.removeData("slider"),t.attr("data-slider-infinite")&&e.merge(n.filter(".-before"),n.filter(".-after")).each(function(t,i){e(i).remove()})})}};e.fn.lemmonSlider=function(t,i){return null==i&&(i={}),n[t]?n[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==("undefined"==typeof t?"undefined":_typeof(t))&&t?void e.error("Method "+t+" does not exist on jQuery.lemmonSlider"):n.init.apply(this,arguments)},e.fn.lemmonSlider.defaults={items:"> *",loop:!0,slideToLast:!1,slider:"> *:first",infinite:!1}}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYnJhcnkvcGx1Z2lucy9sZW1tb24tc2xpZGVyL2xlbW1vbi1zbGlkZXIuanMiXSwibmFtZXMiOlsiX3R5cGVvZiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwib2JqIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCIkIiwic2xpZGVUbyIsImUiLCIkc2xpZGVyIiwieCIsImkiLCJ0IiwiaXRlbXMiLCJmaWx0ZXIiLCJhZGRDbGFzcyIsInNpYmxpbmdzIiwicmVtb3ZlQ2xhc3MiLCJhbmltYXRlIiwic2Nyb2xsTGVmdCIsImNoZWNrSW5maW5pdGUiLCIkYWN0aXZlIiwiaGFzQ2xhc3MiLCJwcmV2QWxsIiwic2l6ZSIsInBvc2l0aW9uIiwibGVmdCIsIm1ldGhvZHMiLCJpbml0Iiwib3B0aW9ucyIsImV4dGVuZCIsImZuIiwibGVtbW9uU2xpZGVyIiwiZGVmYXVsdHMiLCJ0aGlzIiwiZWFjaCIsImRhdGEiLCIkc2xpZGVyQ29udGFpbmVyIiwiZmluZCIsInNsaWRlciIsIiRzbGlkZXJDb250cm9scyIsIm5leHQiLCIkaXRlbXMiLCJvcmlnaW5hbFdpZHRoIiwib3V0ZXJXaWR0aCIsIndpZHRoIiwic2xpZGVUb0xhc3QiLCJjc3MiLCJpbmZpbml0ZSIsImF0dHIiLCJjbG9uZSIsImluc2VydEFmdGVyIiwiYmVmb3JlIiwiYmluZCIsInNjcm9sbCIsInNsaWRlIiwibG9vcCIsImEiLCJiIiwidyIsImNsaWNrIiwidHJpZ2dlciIsInRhcmdldCIsImFkZEl0ZW0iLCJpdGVtIiwiZGVzdHJveSIsImFwcGx5IiwicHJlcGVuZCIsImFwcGVuZCIsInVuYmluZCIsInJlbW92ZURhdGEiLCJtZXJnZSIsImluZGV4IiwicmVtb3ZlIiwibWV0aG9kIiwiQXJyYXkiLCJzbGljZSIsImNhbGwiLCJhcmd1bWVudHMiLCJlcnJvciIsImpRdWVyeSJdLCJtYXBwaW5ncyI6IkFBQUEsWUFFQSxJQUFJQSxTQUE0QixrQkFBWEMsU0FBb0QsZ0JBQXBCQSxRQUFPQyxTQUF3QixTQUFV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RSxVQUFVdUUsTUFBTUMsS0FBTUMsVUFBVyxJQUNoRCxZQUFsQixtQkFBT0osR0FBUCxZQUFBMUUsUUFBTzBFLEtBQXdCQSxNQUcxQ3BFLEdBQUV5RSxNQUFPLFVBQWFMLEVBQVMsMENBRnhCL0MsRUFBUUMsS0FBS3NDLE1BQU9oQyxLQUFNNEMsWUFTbkN4RSxFQUFFeUIsR0FBR0MsYUFBYUMsVUFFakJwQixNQUFnQixNQUNoQjJDLE1BQWdCLEVBQ2hCVixhQUFnQixFQUNoQlAsT0FBZ0IsWUFFaEJTLFVBQWdCLElBSWRnQyIsImZpbGUiOiJsaWJyYXJ5L3BsdWdpbnMvbGVtbW9uLXNsaWRlci9sZW1tb24tc2xpZGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIExlbW1vbiBTbGlkZXIgLSBqUXVlcnkgUGx1Z2luXG4gKiBTaW1wbGUgYW5kIGxpZ2h0d2VpZ2h0IHNsaWRlci9jYXJvdXNlbCBzdXBwb3J0aW5nIHZhcmlhYmxlIGVsZW1lbnRzL2ltYWdlcyB3aWR0aHMuXG4gKlxuICogRXhhbXBsZXMgYW5kIGRvY3VtZW50YXRpb24gYXQ6IGh0dHA6Ly9qcXVlcnkubGVtbW9uanVpY2UuY29tL3BsdWdpbnMvc2xpZGVyLXZhcmlhYmxlLXdpZHRocy5waHBcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTEgSmFrdWIgUGVsw6FrIDxqcGVsYWtAZ21haWwuY29tPlxuICpcbiAqIFZlcnNpb246IDAuMiAoOS82LzIwMTEpXG4gKiBSZXF1aXJlczogalF1ZXJ5IHYxLjQrXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlOlxuICogICBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICovXG4oZnVuY3Rpb24oICQgKXtcblxuXHR2YXIgX2NzcyA9IHt9O1xuXG5cdHZhciBtZXRob2RzID0ge1xuXHRcdC8vXG5cdFx0Ly8gSW5pdGlhbHppZSBwbHVnaW5cblx0XHQvL1xuXHRcdGluaXQgOiBmdW5jdGlvbihvcHRpb25zKXtcblxuXHRcdFx0dmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgJC5mbi5sZW1tb25TbGlkZXIuZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7XG5cblx0XHRcdFx0dmFyICRzbGlkZXIgPSAkKCB0aGlzICksXG5cdFx0XHRcdCAgICBkYXRhID0gJHNsaWRlci5kYXRhKCAnc2xpZGVyJyApO1xuXG5cdFx0XHRcdGlmICggISBkYXRhICl7XG5cblx0XHRcdFx0XHR2YXIgJHNsaWRlckNvbnRhaW5lciA9ICRzbGlkZXIuZmluZChvcHRpb25zLnNsaWRlciksXG5cdFx0XHRcdFx0ICAgICRzbGlkZXJDb250cm9scyA9ICRzbGlkZXIubmV4dCgpLmZpbHRlcignLmNvbnRyb2xzJyksXG5cdFx0XHRcdFx0ICAgICRpdGVtcyA9ICRzbGlkZXJDb250YWluZXIuZmluZCggb3B0aW9ucy5pdGVtcyApLFxuXHRcdFx0XHRcdCAgICBvcmlnaW5hbFdpZHRoID0gMTtcblxuXHRcdFx0XHRcdCRpdGVtcy5lYWNoKGZ1bmN0aW9uKCl7IG9yaWdpbmFsV2lkdGggKz0gJCh0aGlzKS5vdXRlcldpZHRoKHRydWUpIH0pO1xuXHRcdFx0XHRcdCRzbGlkZXJDb250YWluZXIud2lkdGgoIG9yaWdpbmFsV2lkdGggKTtcblxuXHRcdFx0XHRcdC8vIHNsaWRlIHRvIGxhc3QgaXRlbVxuXHRcdFx0XHRcdGlmICggb3B0aW9ucy5zbGlkZVRvTGFzdCApICRzbGlkZXJDb250YWluZXIuY3NzKCAncGFkZGluZy1yaWdodCcsICRzbGlkZXIud2lkdGgoKSApO1xuXG5cdFx0XHRcdFx0Ly8gaW5maW5pdGUgY2Fyb3VzZWxcblx0XHRcdFx0XHRpZiAoIG9wdGlvbnMuaW5maW5pdGUgKXtcblx0XHRcdFx0XHRcdCRzbGlkZXIuYXR0cignZGF0YS1zbGlkZXItaW5maW5pdGUnLHRydWUpXG5cblx0XHRcdFx0XHRcdG9yaWdpbmFsV2lkdGggPSBvcmlnaW5hbFdpZHRoICogMztcblx0XHRcdFx0XHRcdCRzbGlkZXJDb250YWluZXIud2lkdGgoIG9yaWdpbmFsV2lkdGggKTtcblxuXHRcdFx0XHRcdFx0JGl0ZW1zLmNsb25lKCkuYWRkQ2xhc3MoICctYWZ0ZXInICkuaW5zZXJ0QWZ0ZXIoICRpdGVtcy5maWx0ZXIoJzpsYXN0JykgKTtcblx0XHRcdFx0XHRcdCRpdGVtcy5maWx0ZXIoICc6Zmlyc3QnICkuYmVmb3JlKCAkaXRlbXMuY2xvbmUoKS5hZGRDbGFzcygnLWJlZm9yZScpICk7XG5cblx0XHRcdFx0XHQgICAgJGl0ZW1zID0gJHNsaWRlckNvbnRhaW5lci5maW5kKCBvcHRpb25zLml0ZW1zICk7XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQkc2xpZGVyLml0ZW1zID0gJGl0ZW1zO1xuXHRcdFx0XHRcdCRzbGlkZXIub3B0aW9ucyA9IG9wdGlvbnM7XG5cblx0XHRcdFx0XHQvLyBmaXJzdCBpdGVtXG5cdFx0XHRcdFx0Ly8kaXRlbXMuZmlsdGVyKCAnOmZpcnN0JyApLmFkZENsYXNzKCAnYWN0aXZlJyApO1xuXG5cdFx0XHRcdFx0Ly8gYXR0YWNoIGV2ZW50c1xuXHRcdFx0XHRcdCRzbGlkZXIuYmluZCggJ25leHRTbGlkZScsIGZ1bmN0aW9uKCBlLCB0ICl7XG5cblx0XHRcdFx0XHRcdHZhciBzY3JvbGwgPSAkc2xpZGVyLnNjcm9sbExlZnQoKTtcblx0XHRcdFx0XHRcdHZhciB4ID0gMDtcblx0XHRcdFx0XHRcdHZhciBzbGlkZSA9IDA7XG5cblx0XHRcdFx0XHRcdCRpdGVtcy5lYWNoKGZ1bmN0aW9uKCBpICl7XG5cdFx0XHRcdFx0XHRcdGlmICggeCA9PSAwICYmICQoIHRoaXMgKS5wb3NpdGlvbigpLmxlZnQgPiAxICl7XG5cdFx0XHRcdFx0XHRcdFx0eCA9ICQoIHRoaXMgKS5wb3NpdGlvbigpLmxlZnQ7XG5cdFx0XHRcdFx0XHRcdFx0c2xpZGUgPSBpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0aWYgKCB4ID4gMCAmJiAkc2xpZGVyQ29udGFpbmVyLm91dGVyV2lkdGgoKSAtIHNjcm9sbCAtICRzbGlkZXIud2lkdGgoKSAtIDEgPiAwICl7XG5cdFx0XHRcdFx0XHRcdHNsaWRlVG8oIGUsICRzbGlkZXIsIHNjcm9sbCt4LCBzbGlkZSwgJ2Zhc3QnICk7XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCBvcHRpb25zLmxvb3AgKXtcblx0XHRcdFx0XHRcdFx0Ly8gcmV0dXJuIHRvIGZpcnN0XG5cdFx0XHRcdFx0XHRcdHNsaWRlVG8oIGUsICRzbGlkZXIsIDAsIDAsICdzbG93JyApO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0JHNsaWRlci5iaW5kKCAncHJldlNsaWRlJywgZnVuY3Rpb24oIGUsIHQgKXtcblxuXHRcdFx0XHRcdFx0dmFyIHNjcm9sbCA9ICRzbGlkZXIuc2Nyb2xsTGVmdCgpO1xuXHRcdFx0XHRcdFx0dmFyIHggPSAwO1xuXHRcdFx0XHRcdFx0dmFyIHNsaWRlID0gMDtcblxuXHRcdFx0XHRcdFx0JGl0ZW1zLmVhY2goZnVuY3Rpb24oIGkgKXtcblx0XHRcdFx0XHRcdFx0aWYgKCAkKCB0aGlzICkucG9zaXRpb24oKS5sZWZ0IDwgMCApe1xuXHRcdFx0XHRcdFx0XHRcdHggPSAkKCB0aGlzICkucG9zaXRpb24oKS5sZWZ0O1xuXHRcdFx0XHRcdFx0XHRcdHNsaWRlID0gaTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdGlmICggeCApe1xuXHRcdFx0XHRcdFx0XHRzbGlkZVRvKCBlLCAkc2xpZGVyLCBzY3JvbGwreCwgc2xpZGUsICdmYXN0JyApXG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCBvcHRpb25zLmxvb3AgKXtcblx0XHRcdFx0XHRcdFx0Ly8gcmV0dXJuIHRvIGxhc3Rcblx0XHRcdFx0XHRcdFx0dmFyIGEgPSAkc2xpZGVyQ29udGFpbmVyLm91dGVyV2lkdGgoKSAtICRzbGlkZXIud2lkdGgoKTtcblx0XHRcdFx0XHRcdFx0dmFyIGIgPSAkaXRlbXMuZmlsdGVyKCAnOmxhc3QnICkucG9zaXRpb24oKS5sZWZ0O1xuXHRcdFx0XHRcdFx0XHRzbGlkZSA9ICRpdGVtcy5zaXplKCkgLSAxO1xuXHRcdFx0XHRcdFx0XHRpZiAoIGEgPiBiICl7XG5cdFx0XHRcdFx0XHRcdFx0c2xpZGVUbyggZSwgJHNsaWRlciwgYiwgc2xpZGUsICdmYXN0JyApO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHNsaWRlVG8oIGUsICRzbGlkZXIsIGEsIHNsaWRlLCAnZmFzdCcgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0JHNsaWRlci5iaW5kKCAnbmV4dFBhZ2UnLCBmdW5jdGlvbiggZSwgdCApe1xuXG5cdFx0XHRcdFx0XHR2YXIgc2Nyb2xsID0gJHNsaWRlci5zY3JvbGxMZWZ0KCk7XG5cdFx0XHRcdFx0XHR2YXIgdyA9ICRzbGlkZXIud2lkdGgoKTtcblx0XHRcdFx0XHRcdHZhciB4ID0gMDtcblx0XHRcdFx0XHRcdHZhciBzbGlkZSA9IDA7XG5cblx0XHRcdFx0XHRcdCRpdGVtcy5lYWNoKGZ1bmN0aW9uKCBpICl7XG5cdFx0XHRcdFx0XHRcdGlmICggJCggdGhpcyApLnBvc2l0aW9uKCkubGVmdCA8IHcgKXtcblx0XHRcdFx0XHRcdFx0XHR4ID0gJCggdGhpcyApLnBvc2l0aW9uKCkubGVmdDtcblx0XHRcdFx0XHRcdFx0XHRzbGlkZSA9IGk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHRpZiAoIHggPiAwICYmIHNjcm9sbCArIHcgKyAxIDwgb3JpZ2luYWxXaWR0aCApe1xuXHRcdFx0XHRcdFx0XHRzbGlkZVRvKCBlLCAkc2xpZGVyLCBzY3JvbGwreCwgc2xpZGUsICdzbG93JyApO1xuXHRcdFx0XHRcdFx0fSBlbHNlIGlmICggb3B0aW9ucy5sb29wICl7XG5cdFx0XHRcdFx0XHRcdC8vIHJldHVybiB0byBmaXJzdFxuXHRcdFx0XHRcdFx0XHRzbGlkZVRvKCBlLCAkc2xpZGVyLCAwLCAwLCAnc2xvdycgKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdCRzbGlkZXIuYmluZCggJ3ByZXZQYWdlJywgZnVuY3Rpb24oIGUsIHQgKXtcblxuXHRcdFx0XHRcdFx0dmFyIHNjcm9sbCA9ICRzbGlkZXIuc2Nyb2xsTGVmdCgpO1xuXHRcdFx0XHRcdFx0dmFyIHcgPSAkc2xpZGVyLndpZHRoKCk7XG5cdFx0XHRcdFx0XHR2YXIgeCA9IDA7XG5cblx0XHRcdFx0XHRcdCRpdGVtcy5lYWNoKGZ1bmN0aW9uKCBpICl7XG5cdFx0XHRcdFx0XHRcdGlmICggJCggdGhpcyApLnBvc2l0aW9uKCkubGVmdCA8IDEgLSB3ICl7XG5cdFx0XHRcdFx0XHRcdFx0eCA9ICQoIHRoaXMgKS5uZXh0KCkucG9zaXRpb24oKS5sZWZ0O1xuXHRcdFx0XHRcdFx0XHRcdHNsaWRlID0gaTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdGlmICggc2Nyb2xsICl7XG5cdFx0XHRcdFx0XHRcdGlmICggeCA9PSAwICl7XG5cdFx0XHRcdFx0XHRcdFx0Ly8kc2xpZGVyLmFuaW1hdGUoeyAnc2Nyb2xsTGVmdCcgOiAwIH0sICdzbG93JyApO1xuXHRcdFx0XHRcdFx0XHRcdHNsaWRlVG8oIGUsICRzbGlkZXIsIDAsIDAsICdzbG93JyApO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdC8vJHNsaWRlci5hbmltYXRlKHsgJ3Njcm9sbExlZnQnIDogc2Nyb2xsICsgeCB9LCAnc2xvdycgKTtcblx0XHRcdFx0XHRcdFx0XHRzbGlkZVRvKCBlLCAkc2xpZGVyLCBzY3JvbGwreCwgc2xpZGUsICdzbG93JyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCBvcHRpb25zLmxvb3AgKSB7XG5cdFx0XHRcdFx0XHRcdC8vIHJldHVybiB0byBsYXN0XG5cdFx0XHRcdFx0XHRcdHZhciBhID0gJHNsaWRlckNvbnRhaW5lci5vdXRlcldpZHRoKCkgLSAkc2xpZGVyLndpZHRoKCk7XG5cdFx0XHRcdFx0XHRcdHZhciBiID0gJGl0ZW1zLmZpbHRlciggJzpsYXN0JyApLnBvc2l0aW9uKCkubGVmdDtcblx0XHRcdFx0XHRcdFx0aWYgKCBhID4gYiApe1xuXHRcdFx0XHRcdFx0XHRcdCRzbGlkZXIuYW5pbWF0ZSh7ICdzY3JvbGxMZWZ0JyA6IGIgfSwgJ3Nsb3cnICk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0JHNsaWRlci5hbmltYXRlKHsgJ3Njcm9sbExlZnQnIDogYSB9LCAnc2xvdycgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0JHNsaWRlci5iaW5kKCAnc2xpZGVUbycsIGZ1bmN0aW9uKCBlLCBpLCB0ICl7XG5cblx0XHRcdFx0XHRcdHNsaWRlVG8oXG5cdFx0XHRcdFx0XHRcdGUsICRzbGlkZXIsXG5cdFx0XHRcdFx0XHRcdCRzbGlkZXIuc2Nyb2xsTGVmdCgpICsgJGl0ZW1zLmZpbHRlciggJzplcSgnICsgaSArJyknICkucG9zaXRpb24oKS5sZWZ0LFxuXHRcdFx0XHRcdFx0XHRpLCB0ICk7XG5cblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdC8vIGNvbnRyb2xzXG5cdFx0XHRcdFx0JHNsaWRlckNvbnRyb2xzLmZpbmQoICcubmV4dC1zbGlkZScgKS5jbGljayhmdW5jdGlvbigpe1xuXHRcdFx0XHRcdFx0JHNsaWRlci50cmlnZ2VyKCAnbmV4dFNsaWRlJyApO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdCRzbGlkZXJDb250cm9scy5maW5kKCAnLnByZXYtc2xpZGUnICkuY2xpY2soZnVuY3Rpb24oKXtcblx0XHRcdFx0XHRcdCRzbGlkZXIudHJpZ2dlciggJ3ByZXZTbGlkZScgKTtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHQkc2xpZGVyQ29udHJvbHMuZmluZCggJy5uZXh0LXBhZ2UnICkuY2xpY2soZnVuY3Rpb24oKXtcblx0XHRcdFx0XHRcdCRzbGlkZXIudHJpZ2dlciggJ25leHRQYWdlJyApO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdCRzbGlkZXJDb250cm9scy5maW5kKCAnLnByZXYtcGFnZScgKS5jbGljayhmdW5jdGlvbigpe1xuXHRcdFx0XHRcdFx0JHNsaWRlci50cmlnZ2VyKCAncHJldlBhZ2UnICk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHQvL2lmICggdHlwZW9mICRzbGlkZXIub3B0aW9ucy5jcmVhdGUgPT0gJ2Z1bmN0aW9uJyApICRzbGlkZXIub3B0aW9ucy5jcmVhdGUoKTtcblxuXHRcdFx0XHRcdCRzbGlkZXIuZGF0YSggJ3NsaWRlcicsIHtcblx0XHRcdFx0XHRcdCd0YXJnZXQnICA6ICRzbGlkZXIsXG5cdFx0XHRcdFx0XHQnb3B0aW9ucycgOiBvcHRpb25zXG5cdFx0XHRcdFx0fSlcblxuXHRcdFx0XHR9XG5cblx0XHRcdH0pO1xuXG5cdFx0fSxcblx0XHQvL1xuICAgIC8vIEFkZCBJdGVtXG4gICAgLy9cbiAgICBhZGRJdGVtIDogZnVuY3Rpb24ob3B0aW9ucyl7XG4gICAgICAgIHZhciBvcHRpb25zID0gJC5leHRlbmQoe30sICQuZm4ubGVtbW9uU2xpZGVyLmRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgICB2YXIgJHNsaWRlciA9ICQoIHRoaXMgKSxcbiAgICAgICAgICAgICRzbGlkZXJDb250YWluZXIgPSAkc2xpZGVyLmZpbmQob3B0aW9ucy5zbGlkZXIpLFxuICAgICAgICAgICAgJHNsaWRlckNvbnRyb2xzID0gJHNsaWRlci5uZXh0KCkuZmlsdGVyKCcuY29udHJvbHMnKSxcbiAgICAgICAgICAgICRpdGVtcyA9ICRzbGlkZXJDb250YWluZXIuZmluZCggb3B0aW9ucy5pdGVtcyApXG5cbiAgICAgICAgb3B0aW9ucy5pbmZpbml0ZSA9ICRzbGlkZXIuYXR0cignZGF0YS1zbGlkZXItaW5maW5pdGUnKVxuXG4gICAgICAgIGlmICghb3B0aW9ucy5pdGVtKSB7IHJldHVybiBmYWxzZSB9XG4gICAgICAgIG1ldGhvZHMuZGVzdHJveS5hcHBseSh0aGlzKTtcbiAgICAgICAgaWYgKG9wdGlvbnMucHJlcGVuZCkge1xuICAgICAgICAgICAgJHNsaWRlckNvbnRhaW5lci5wcmVwZW5kKG9wdGlvbnMuaXRlbSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkc2xpZGVyQ29udGFpbmVyLmFwcGVuZChvcHRpb25zLml0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIG1ldGhvZHMuaW5pdC5hcHBseSggdGhpcywgW29wdGlvbnNdKTtcbiAgICB9LFxuXHRcdC8vXG5cdFx0Ly8gRGVzdHJveSBwbHVnaW5cblx0XHQvL1xuXHRcdGRlc3Ryb3kgOiBmdW5jdGlvbigpe1xuXG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7XG5cblx0XHRcdFx0dmFyICRzbGlkZXIgPSAkKCB0aGlzICksXG5cdFx0XHRcdCAgICAkc2xpZGVyQ29udHJvbHMgPSAkc2xpZGVyLm5leHQoKS5maWx0ZXIoICcuY29udHJvbHMnICksXG5cdFx0XHRcdCAgICAkaXRlbXMgPSAkc2xpZGVyLmZpbmQoJz4gKjpmaXJzdCA+IConKSxcblx0XHRcdFx0ICAgIGRhdGEgPSAkc2xpZGVyLmRhdGEoICdzbGlkZXInICk7XG5cblx0XHRcdFx0JHNsaWRlci51bmJpbmQoICduZXh0U2xpZGUnICk7XG5cdFx0XHRcdCRzbGlkZXIudW5iaW5kKCAncHJldlNsaWRlJyApO1xuXHRcdFx0XHQkc2xpZGVyLnVuYmluZCggJ25leHRQYWdlJyApO1xuXHRcdFx0XHQkc2xpZGVyLnVuYmluZCggJ3ByZXZQYWdlJyApO1xuXHRcdFx0XHQkc2xpZGVyLnVuYmluZCggJ3NsaWRlVG8nICk7XG5cblx0XHRcdFx0JHNsaWRlckNvbnRyb2xzLmZpbmQoICcubmV4dC1zbGlkZScgKS51bmJpbmQoICdjbGljaycgKTtcblx0XHRcdFx0JHNsaWRlckNvbnRyb2xzLmZpbmQoICcucHJldi1zbGlkZScgKS51bmJpbmQoICdjbGljaycgKTtcblx0XHRcdFx0JHNsaWRlckNvbnRyb2xzLmZpbmQoICcubmV4dC1wYWdlJyApLnVuYmluZCggJ2NsaWNrJyApO1xuXHRcdFx0XHQkc2xpZGVyQ29udHJvbHMuZmluZCggJy5uZXh0LXBhZ2UnICkudW5iaW5kKCAnY2xpY2snICk7XG5cblx0XHRcdFx0JHNsaWRlci5yZW1vdmVEYXRhKCAnc2xpZGVyJyApO1xuXG5cdFx0XHRcdGlmICgkc2xpZGVyLmF0dHIoJ2RhdGEtc2xpZGVyLWluZmluaXRlJykpIHtcbiAgICAgICAgICAgICQubWVyZ2UoJGl0ZW1zLmZpbHRlcignLi1iZWZvcmUnKSwkaXRlbXMuZmlsdGVyKCcuLWFmdGVyJykpLmVhY2goZnVuY3Rpb24oaW5kZXgsaXRlbSl7XG4gICAgICAgICAgICAgICAgJChpdGVtKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cdFx0XHR9KTtcblxuXHRcdH1cblx0XHQvL1xuXHRcdC8vXG5cdFx0Ly9cblx0fVxuXHQvL1xuXHQvLyBQcml2YXRlIGZ1bmN0aW9uc1xuXHQvL1xuXHRmdW5jdGlvbiBzbGlkZVRvKCBlLCAkc2xpZGVyLCB4LCBpLCB0ICl7XG5cblx0XHQkc2xpZGVyLml0ZW1zLmZpbHRlciggJ2xpOmVxKCcgKyBpICsgJyknICkuYWRkQ2xhc3MoICdhY3RpdmUnICkuc2libGluZ3MoICcuYWN0aXZlJyApLnJlbW92ZUNsYXNzKCAnYWN0aXZlJyApO1xuXG5cdFx0aWYgKCB0eXBlb2YgdCA9PSAndW5kZWZpbmVkJyApe1xuXHRcdFx0dCA9ICdmYXN0Jztcblx0XHR9XG5cdFx0aWYgKCB0ICl7XG5cdFx0XHQkc2xpZGVyLmFuaW1hdGUoeyAnc2Nyb2xsTGVmdCcgOiB4IH0sIHQsIGZ1bmN0aW9uKCl7XG5cdFx0XHRcdGNoZWNrSW5maW5pdGUoICRzbGlkZXIgKTtcblx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgdGltZSA9IDA7XG5cdFx0XHQkc2xpZGVyLnNjcm9sbExlZnQoIHggKTtcblx0XHRcdGNoZWNrSW5maW5pdGUoICRzbGlkZXIgKTtcblx0XHR9XG5cblx0XHQvL2lmICggdHlwZW9mICRzbGlkZXIub3B0aW9ucy5zbGlkZSA9PSAnZnVuY3Rpb24nICkgJHNsaWRlci5vcHRpb25zLnNsaWRlKCBlLCBpLCB0aW1lICk7XG5cblx0fVxuXHRmdW5jdGlvbiBjaGVja0luZmluaXRlKCAkc2xpZGVyICl7XG5cblx0XHR2YXIgJGFjdGl2ZSA9ICRzbGlkZXIuaXRlbXMuZmlsdGVyKCAnLmFjdGl2ZScgKTtcblx0XHRpZiAoICRhY3RpdmUuaGFzQ2xhc3MoICctYmVmb3JlJyApICl7XG5cblx0XHRcdHZhciBpID0gJGFjdGl2ZS5wcmV2QWxsKCkuc2l6ZSgpO1xuXHRcdFx0JGFjdGl2ZS5yZW1vdmVDbGFzcyggJ2FjdGl2ZScgKTtcblx0XHRcdCRhY3RpdmUgPSAkc2xpZGVyLml0ZW1zLmZpbHRlciggJzpub3QoLi1iZWZvcmUpOmVxKCcgKyBpICsgJyknICkuYWRkQ2xhc3MoICdhY3RpdmUnICk7XG5cdFx0XHQkc2xpZGVyLnNjcm9sbExlZnQoICRzbGlkZXIuc2Nyb2xsTGVmdCgpICsgJGFjdGl2ZS5wb3NpdGlvbigpLmxlZnQgKTtcblxuXHRcdH0gZWxzZSBpZiAoICRhY3RpdmUuaGFzQ2xhc3MoICctYWZ0ZXInICkgKXtcblxuXHRcdFx0dmFyIGkgPSAkYWN0aXZlLnByZXZBbGwoICcuLWFmdGVyJyApLnNpemUoKTtcblx0XHRcdCRhY3RpdmUucmVtb3ZlQ2xhc3MoICdhY3RpdmUnICk7XG5cdFx0XHQkYWN0aXZlID0gJHNsaWRlci5pdGVtcy5maWx0ZXIoICc6bm90KC4tYmVmb3JlKTplcSgnICsgaSArICcpJyApLmFkZENsYXNzKCAnYWN0aXZlJyApO1xuXHRcdFx0JHNsaWRlci5zY3JvbGxMZWZ0KCAkc2xpZGVyLnNjcm9sbExlZnQoKSArICRhY3RpdmUucG9zaXRpb24oKS5sZWZ0ICk7XG5cblx0XHR9XG5cblx0fVxuXHQvL1xuXHQvLyBEZWJ1Z1xuXHQvL1xuXHRmdW5jdGlvbiBkZWJ1ZyggdGV4dCApe1xuXHRcdCQoICcjZGVidWcgc3BhbicgKS50ZXh0KCB0ZXh0ICk7XG5cdH1cblx0Ly9cblx0Ly9cblx0Ly9cblx0JC5mbi5sZW1tb25TbGlkZXIgPSBmdW5jdGlvbiggbWV0aG9kICwgb3B0aW9ucyApe1xuXHRcdGlmIChvcHRpb25zID09IG51bGwpIHsgb3B0aW9ucyA9IHt9OyB9O1xuXHRcdGlmICggbWV0aG9kc1ttZXRob2RdICkge1xuXHRcdFx0cmV0dXJuIG1ldGhvZHNbIG1ldGhvZCBdLmFwcGx5KCB0aGlzLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCggYXJndW1lbnRzLCAxICkpO1xuXHRcdH0gZWxzZSBpZiAoIHR5cGVvZiBtZXRob2QgPT09ICdvYmplY3QnIHx8ICFtZXRob2QgKXtcblx0XHRcdHJldHVybiBtZXRob2RzLmluaXQuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQkLmVycm9yKCAnTWV0aG9kICcgKyAgbWV0aG9kICsgJyBkb2VzIG5vdCBleGlzdCBvbiBqUXVlcnkubGVtbW9uU2xpZGVyJyApO1xuXHRcdH1cblxuXHR9O1xuXHQvL1xuXHQvL1xuXHQvL1xuXHQkLmZuLmxlbW1vblNsaWRlci5kZWZhdWx0cyA9IHtcblxuXHRcdCdpdGVtcycgICAgICAgOiAnPiAqJyxcblx0XHQnbG9vcCcgICAgICAgIDogdHJ1ZSxcblx0XHQnc2xpZGVUb0xhc3QnIDogZmFsc2UsXG5cdFx0J3NsaWRlcicgICAgICA6ICc+ICo6Zmlyc3QnLFxuXHRcdC8vIHNpbmNlIDAuMlxuXHRcdCdpbmZpbml0ZScgICAgOiBmYWxzZVxuXG5cdH1cblxufSkoIGpRdWVyeSApO1xuIl19
